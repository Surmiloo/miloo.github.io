{"meta":{"version":1,"warehouse":"4.0.1"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-fluid/source/css/gitalk.css","path":"css/gitalk.css","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/css/highlight-dark.styl","path":"css/highlight-dark.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/css/highlight.styl","path":"css/highlight.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/img/avatar.png","path":"img/avatar.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/img/default.png","path":"img/default.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/img/fluid.png","path":"img/fluid.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/img/loading.gif","path":"img/loading.gif","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/img/police_beian.png","path":"img/police_beian.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/boot.js","path":"js/boot.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/color-schema.js","path":"js/color-schema.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/events.js","path":"js/events.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/img-lazyload.js","path":"js/img-lazyload.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/leancloud.js","path":"js/leancloud.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/local-search.js","path":"js/local-search.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/plugins.js","path":"js/plugins.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-fluid/source/xml/local-search.xml","path":"xml/local-search.xml","modified":1,"renderable":1},{"_id":"source/img/b-forest.jpg","path":"img/b-forest.jpg","modified":1,"renderable":0},{"_id":"source/img/bg.jpg","path":"img/bg.jpg","modified":1,"renderable":0},{"_id":"source/img/touxiang.jpg","path":"img/touxiang.jpg","modified":1,"renderable":0},{"_id":"source/img/webicon.png","path":"img/webicon.png","modified":1,"renderable":0},{"_id":"source/img/article-head/example.jpg","path":"img/article-head/example.jpg","modified":1,"renderable":0},{"_id":"source/img/article-head/信息收集.jpeg","path":"img/article-head/信息收集.jpeg","modified":1,"renderable":0},{"_id":"source/img/article-head/弱口令.jpeg","path":"img/article-head/弱口令.jpeg","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/WebScan.png","path":"img/article/信息收集/WebScan.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/appinfoscanner.png","path":"img/article/信息收集/appinfoscanner.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/Netcraft.png","path":"img/article/信息收集/Netcraft.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/email-format.png","path":"img/article/信息收集/email-format.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/fofa.png","path":"img/article/信息收集/fofa.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/ip段.png","path":"img/article/信息收集/ip段.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/shodan.png","path":"img/article/信息收集/shodan.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/全球DNS搜索引擎.png","path":"img/article/信息收集/全球DNS搜索引擎.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/微步在线.png","path":"img/article/信息收集/微步在线.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/猎人在线.png","path":"img/article/信息收集/猎人在线.png","modified":1,"renderable":0},{"_id":"source/img/article/信息收集/钟馗之眼.png","path":"img/article/信息收集/钟馗之眼.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/_posts/2022-05-30.信息收集.md","hash":"1494e386363a086b2a41044628dbf955bd5e7ec6","modified":1655368506000},{"_id":"source/_posts/2022-06-17.经典漏洞-弱口令.md","hash":"920f3b4451b91e3b589547935b5294eebe9ae615","modified":1655966123000},{"_id":"source/_posts/2022-07-04.gentoo配置手册 copy.md","hash":"ab5ab060b2982f1aa9fe09d609cab29cb74e48e3","modified":1657631700000},{"_id":"source/_posts/2022-07-04.gentoo配置手册.md","hash":"720fbcbb9cfd55dcee17fffb3922af26c701b7fc","modified":1657713225000},{"_id":"source/_posts/2022-6-7.git.md","hash":"cf0465690262d73e004fdfe8d10bf4e3365f4cea","modified":1654738054000},{"_id":"source/_posts/2022-6-7.hello-world.md","hash":"6e0075535f202ce8c8172a5ca88d87075e210c27","modified":1654738054000},{"_id":"source/about/index.md","hash":"dc0013039fb598a85c9c76127570c2aa08d85c65","modified":1654738054000},{"_id":"source/img/webicon.png","hash":"581a3911627a97a3de9c565669086f3893b20f57","modified":1654738056000},{"_id":"source/img/article-head/弱口令.jpeg","hash":"9fe217dd03d6ffc0547cd3178116f881781391b7","modified":1655966111000},{"_id":"source/img/article-head/信息收集.jpeg","hash":"5b9949976db6756bbc1bc2a0ec87786a96573d73","modified":1654738055000},{"_id":"source/img/article/信息收集/WebScan.png","hash":"596c7d8921418d70f99b45a6e5b82b71fd5fd301","modified":1654738054000},{"_id":"source/img/article/信息收集/fofa.png","hash":"520289bb9cf4651a24658eb4cef1315f33eb46eb","modified":1654738054000},{"_id":"source/img/article/信息收集/猎人在线.png","hash":"1c52f9b2269aba4a1e932ae7a5c28c752da3d87b","modified":1654738055000},{"_id":"source/img/touxiang.jpg","hash":"18038c437d8e08eae594b43ad15cecc7ec9da102","modified":1654738055000},{"_id":"source/img/article/信息收集/email-format.png","hash":"5554e059c34287098c6ccd0ffe4ef9d7c4b06f8d","modified":1654741447000},{"_id":"source/img/article/信息收集/shodan.png","hash":"0a796a656193d53edbaef894d6e1ceee418aeb0e","modified":1654738054000},{"_id":"source/img/article/信息收集/全球DNS搜索引擎.png","hash":"0f791ae2e185f0c210a58b099f8e680cc66830a7","modified":1654738054000},{"_id":"source/img/article-head/example.jpg","hash":"8cbaf5db5a0169b005b0582f8a28b8e413f6a4a6","modified":1654738055000},{"_id":"source/img/article/信息收集/Netcraft.png","hash":"c9b6e321c8c80a1b9757e8d4c0704f28ef805db0","modified":1654738054000},{"_id":"source/img/article/信息收集/ip段.png","hash":"bc9413692446c9f09ef96511d459f3298f94a81c","modified":1654738054000},{"_id":"source/img/article/信息收集/钟馗之眼.png","hash":"a2a9fa78b81ff976633a547189937fdebd802617","modified":1654738055000},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_tag/tag.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/README.md","hash":"6d752df6f2278033dc2512a7d5be22c8a8eb665a","modified":1657764109528},{"_id":"node_modules/hexo-theme-fluid/package.json","hash":"0bc354a01c5e6e9de43bf67456dc16c59d400139","modified":1657764109528},{"_id":"node_modules/hexo-theme-fluid/languages/de.yml","hash":"0e7d455d9e004ff15d8924b7a0c35cea25ee5b1d","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/en.yml","hash":"cb11b39f44ea069652c9647179606b6cecc98d50","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/eo.yml","hash":"a556251cc50a5680578c03f1efbf252b1f4ab860","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/es.yml","hash":"7112594259c88c04714be152af7fd377687dad40","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/ja.yml","hash":"3dd6d20f8d26585a7c154a8e59fe8d5d902f4c6a","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/zh-CN.yml","hash":"f96a22f989897ecddc69d5867a206e1cf6b8f610","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/zh-HK.yml","hash":"80ed400a7adaa92ea54fc7f5d534c9af795bed00","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/languages/zh-TW.yml","hash":"596d031dff3826ae8e4ffc8931fff28977b73247","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/LICENSE","hash":"26f9356fd6e84b5a88df6d9014378f41b65ba209","modified":1657764104884},{"_id":"node_modules/hexo-theme-fluid/layout/404.ejs","hash":"9569c5c8f67d2783f372f671c57b93a00dc63c2f","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/layout/archive.ejs","hash":"7c1f44005849791feae4abaa10fae4cb983d3277","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/layout/about.ejs","hash":"163bee643e6a38912d3ae70923c83c48d57222e7","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/layout/.DS_Store","hash":"e2295dbe42d85b294e6f3aeefaf3623bd31759ed","modified":1657764103918},{"_id":"node_modules/hexo-theme-fluid/_config.yml","hash":"ebe26856c4cc286df3181136b5b391dd2e5f5ec7","modified":1657764128394},{"_id":"node_modules/hexo-theme-fluid/layout/categories.ejs","hash":"13859726c27b6c79b5876ec174176d0f9c1ee164","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/category.ejs","hash":"f099161b738a16a32253f42085b5444f902018ed","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/index.ejs","hash":"b15d13877827e99e0ff783a6b13b13cca90bfe8c","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/links.ejs","hash":"1cac32ec4579aaf7b9fa39d317497331d4c5e1dd","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/layout.ejs","hash":"7e0023474128fbe4d68c467704c41f1712432415","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/page.ejs","hash":"ed5007a3feb8f14d3d2843271bfb298eb0c56219","modified":1657764106308},{"_id":"node_modules/hexo-theme-fluid/layout/tag.ejs","hash":"9d686364c4d16a1a9219471623af452035c5b966","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/tags.ejs","hash":"1d06af34b6cf1d8a20d2eb565e309326ceba309f","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/post.ejs","hash":"505bcc06e55066b7cc5551d9ac0694e7713bfab5","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/archive-list.ejs","hash":"7520fbf91f762207c2ab06b2c293235cd5b23905","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/source/.DS_Store","hash":"e11e97632e6d13d5b9dccadcc514268f3c039508","modified":1657764103918},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/category-chains.ejs","hash":"18309584aab83bc4deb20723ebad832149dd2e24","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/scripts/.DS_Store","hash":"daec53fd4601c37ca272321ba2eb594d9b0a43ac","modified":1657764103918},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/category-list.ejs","hash":"a591fedbc5759fb00152304f9ea486dfba3a246a","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments.ejs","hash":"24ef242aa01e5f5bc397cf3f83ae48b1e8353dab","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/css.ejs","hash":"85f6e051550907681ab4ed2e268ac8f6e9ebf931","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/footer.ejs","hash":"10ccfb8eef4e16182183c9a3e175c90d5b6397d3","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/head.ejs","hash":"776949aa697dffd54e9b1957d9245028879509a3","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/header.ejs","hash":"0d5e397d30051e5fbabe7b47cfd1f1e6a5820af1","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/markdown-plugins.ejs","hash":"fc4bdf7de0cf1a66d0e5e4fba1b31d6f7ed49468","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/paginator.ejs","hash":"0f38a2c238169edcb63fc46c23bfc529ff3859b7","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/scripts.ejs","hash":"da5810785105e5075861593c7ac22c7aa9665a72","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/scripts/filters/default-injects.js","hash":"b2013ae8e189cd07ebc8a2ff48a78e153345210f","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/events/index.js","hash":"79de5a379b28cad759a49048351c7f6b8915bd7d","modified":1657764108524},{"_id":"node_modules/hexo-theme-fluid/scripts/events/.DS_Store","hash":"80308812974d7cb7e001cd8f64ff9fced30ff139","modified":1657764103918},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/search.ejs","hash":"70e1c929e084ca8a2648cedabf29b372511ea2b8","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/scripts/filters/locals.js","hash":"58d0fec976f6b1d35e7ea03edc45414088acf05c","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/generators/local-search.js","hash":"fc2c50405b771b06b7f6cfc4e9de97b992691555","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/date.js","hash":"9bda6382f61b40a20c24af466fe10c8366ebb74c","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/generators/pages.js","hash":"d9971f15fbb6b775e3d31a1b9b45011959395010","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/engine.js","hash":"d3a231d106795ce99cb0bc77eb65f9ae44515933","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/filters/post-filter.js","hash":"d516b9db63067f9ea9c72cc75ae4ff358417e77d","modified":1657764108954},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/export-config.js","hash":"47e6dba7652a621a54067413490a11c8a89e3d7b","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/import.js","hash":"ca53e8dbf7d44cfd372cfa79ac60f35a7d5b0076","modified":1657764108521},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/page.js","hash":"4607607445233b3029ef20ed5e91de0da0a7f9c5","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/injects.js","hash":"1ad2ae6b11bd8806ee7dd6eb7140d8b54a95d613","modified":1657764108524},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/scope.js","hash":"43620b0944ffb67ea1fa6cc838f65a7351222eb0","modified":1657764108954},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/url.js","hash":"2a6a8288176d0e0f6ec008056bf2745a86e8943e","modified":1657764108954},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/utils.js","hash":"226f99b465ff513de075a8e78b321d6cb62592ca","modified":1657764108954},{"_id":"node_modules/hexo-theme-fluid/scripts/helpers/wordcount.js","hash":"b917b893b1777e6ffcb53188f9f5644510e5f20d","modified":1657764109528},{"_id":"node_modules/hexo-theme-fluid/scripts/tags/checkbox.js","hash":"4938610c3543a921a341bc074626d511cb1a4b45","modified":1657764107798},{"_id":"node_modules/hexo-theme-fluid/scripts/tags/button.js","hash":"3eb43a8cdea0a64576ad6b31b4df6c2bf5698d4c","modified":1657764107798},{"_id":"node_modules/hexo-theme-fluid/scripts/tags/group-image.js","hash":"4aeebb797026f1df25646a5d69f7fde79b1bcd26","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/tags/label.js","hash":"f05a6d32cca79535b22907dc03edb9d3fa2d8176","modified":1657764108524},{"_id":"node_modules/hexo-theme-fluid/scripts/tags/mermaid.js","hash":"75160561e1ef3603b6d2ad2938464ab1cb77fd38","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/tags/note.js","hash":"f52f3a005b41f48b4da274ac64710177c8d4502f","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/utils/compare-versions.js","hash":"dbbc928c914fc2bd242cd66aa0c45971aec13a5d","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/utils/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1657764103918},{"_id":"node_modules/hexo-theme-fluid/scripts/utils/object.js","hash":"33b57e4decdc5e75c518859f168c8ba80b2c665b","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/scripts/utils/resolve.js","hash":"8c4a8b62aa8608f12f1e9046231dff04859dc3e9","modified":1657764108954},{"_id":"node_modules/hexo-theme-fluid/scripts/utils/url-join.js","hash":"718aab5e7b2059a06b093ca738de420d9afa44ba","modified":1657764108954},{"_id":"node_modules/hexo-theme-fluid/source/css/gitalk.css","hash":"a57b3cc8e04a0a4a27aefa07facf5b5e7bca0e76","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/source/css/highlight-dark.styl","hash":"45695ef75c31a4aa57324dd408b7e2327a337018","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/highlight.styl","hash":"a9efc52a646a9e585439c768557e3e3c9e3326dc","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/main.styl","hash":"855ae5fe229c51afa57f7645f6997a27a705d7e4","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/img/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1657764103918},{"_id":"node_modules/hexo-theme-fluid/source/img/avatar.png","hash":"fe739a158cc128f70f780eb5fa96f388b81d478f","modified":1657764110101},{"_id":"node_modules/hexo-theme-fluid/source/img/fluid.png","hash":"64b215db2cb3af98fe639e94537cb5209f959c78","modified":1657764127368},{"_id":"node_modules/hexo-theme-fluid/source/img/police_beian.png","hash":"90efded6baa2dde599a9d6b1387973e8e64923ea","modified":1657764127368},{"_id":"node_modules/hexo-theme-fluid/source/img/loading.gif","hash":"2d2fc0f947940f98c21afafef39ecf226a2e8d55","modified":1657764107798},{"_id":"node_modules/hexo-theme-fluid/source/js/boot.js","hash":"2848f8eb5081a7f0550fbd76dc06d3ff877f1913","modified":1657764107798},{"_id":"node_modules/hexo-theme-fluid/source/js/color-schema.js","hash":"ba63f7c3324bc1fdd050a90add9d8faaffc27e07","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/source/js/img-lazyload.js","hash":"cbdeca434ec4da51f488c821d51b4d23c73294af","modified":1657764108521},{"_id":"node_modules/hexo-theme-fluid/source/js/events.js","hash":"f05a569a9fd6da2fda69a2cf8e276ba81580faf3","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/source/js/leancloud.js","hash":"eff77c7a5c399fcaefda48884980571e15243fc9","modified":1657764108524},{"_id":"node_modules/hexo-theme-fluid/source/js/local-search.js","hash":"cebcda5991b6a9ab9307c69542389ce9013f04f7","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/source/js/plugins.js","hash":"2333494add51e5e1374602a4e81f0be36a05d4c2","modified":1657764108951},{"_id":"node_modules/hexo-theme-fluid/source/js/utils.js","hash":"45cc86f099db0a2c36ad49711ce66c2d598a2ab1","modified":1657764109528},{"_id":"node_modules/hexo-theme-fluid/source/xml/local-search.xml","hash":"8c96ba6a064705602ce28d096fd7dd9069630a55","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/changyan.ejs","hash":"c9b2d68ed3d375f1953e7007307d2a3f75ed6249","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/disqus.ejs","hash":"aab4a4d24c55231a37db308ae94414319cecdd9b","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/cusdis.ejs","hash":"5f9dc012be27040bbe874d0c093c0d53958cc987","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/giscus.ejs","hash":"95f8b866b158eff9352c381c243b332a155a5110","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/remark42.ejs","hash":"d4e9532feeb02aed61bd15eda536b5b631454dac","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/gitalk.ejs","hash":"843bc141a4545eb20d1c92fb63c85d459b4271ec","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/livere.ejs","hash":"2264758fed57542a7389c7aa9f00f1aefa17eb87","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/twikoo.ejs","hash":"e6820fb7f13662c42f8433ec95404238f4c1860c","modified":1657764106688},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/valine.ejs","hash":"19ba937553dddd317f827d682661a1066a7b1f30","modified":1657764107064},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/utterances.ejs","hash":"c7ccf7f28308334a6da6f5425b141a24b5eca0e2","modified":1657764107061},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/footer/beian.ejs","hash":"4fb9b5dd3f3e41a586d6af44e5069afe7c81fff2","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/comments/waline.ejs","hash":"12727da7cf3ac83443270f550be4d1c06135b52b","modified":1657764107064},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/footer/statistics.ejs","hash":"454d8dd4c39f9494ebeb03ca0746f5bc122af76a","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/header/banner.ejs","hash":"e07757b59e7b89eea213d0e595cb5932f812fd32","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/header/navigation.ejs","hash":"38990ed9dbccd88342ee4b4cb5e60818e9eb8e8a","modified":1657764106308},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/encrypt.ejs","hash":"cbcf6905f4990a22895a848e29dd4c05592a9043","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/fancybox.ejs","hash":"9d1ea2a46b8c8ad8c168594d578f40764818ef13","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/highlight.ejs","hash":"7529dd215b09d3557804333942377b9e20fa554e","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/math.ejs","hash":"94c1ce6e312932e876886ba24b082ae34515a038","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/mermaid.ejs","hash":"3b3b0be9f7624ff72fbb2da6ae3663adcfb7d118","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/nprogress.ejs","hash":"4c2d39ce816b8a6dcd6b53113c8695f8bd650a23","modified":1657764106308},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/typed.ejs","hash":"51faef29f8e464bcb2e73049b428b88c8dd8b40a","modified":1657764106688},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/category-bar.ejs","hash":"88420e83c0968f7da69aa423f42d3033891c9229","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/copyright.ejs","hash":"e74fb49526ddb14fee2c6360a560d17f57262ef7","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/meta-bottom.ejs","hash":"7079b27a7bc15a7dfa9209f6be6051bdec49ebad","modified":1657764106118},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/meta-top.ejs","hash":"ce6e9f578f4faa45840abddf8f46af3f4b69c177","modified":1657764106308},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/sidebar-left.ejs","hash":"9992c99b3eb728ad195970e1b84d665f2c8691c4","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/sidebar-right.ejs","hash":"d5fcc9b60e02f869a29a8c17a16a6028ecc1e6d8","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/code-widget.ejs","hash":"3a505cba37942badf62a56bbb8b605b72af330aa","modified":1657764105614},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/analytics.ejs","hash":"1327395a4dde1ea06c476b047fb110bcd269149f","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/post/toc.ejs","hash":"91a1de823492d9225f9daa3ef59efbca345456a0","modified":1657764106684},{"_id":"node_modules/hexo-theme-fluid/layout/_partials/plugins/anchorjs.ejs","hash":"953552425f0b86c98d1026fdb04e716fdff356e7","modified":1657764105611},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/compatible-configs.js","hash":"ef474d1fa5bbafc52619ced0f9dc7eaf2affb363","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/hello.js","hash":"44c5eb97b98813a07c659d6afedd17fad63b1821","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/footnote.js","hash":"2ec2ae03c79bb1ae7ac3fcf7e00fb52d1af2898d","modified":1657764108378},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/injects.js","hash":"5ae4b07204683e54b5a1b74e931702bbce2ac23e","modified":1657764108524},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/highlight.js","hash":"0f02df2244e275595e72163498d42f42bcf0de5e","modified":1657764108521},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/lazyload.js","hash":"9ba0d4bc224e22af8a5a48d6ff13e5a0fcfee2a4","modified":1657764108524},{"_id":"node_modules/hexo-theme-fluid/scripts/events/lib/merge-configs.js","hash":"7c944c43b2ece5dd84859bd9d1fe955d13427387","modified":1657764108738},{"_id":"node_modules/hexo-theme-fluid/source/css/_functions/base.styl","hash":"2e46f3f4e2c9fe34c1ff1c598738fc7349ae8188","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_mixins/base.styl","hash":"542e306ee9494e8a78e44d6d7d409605d94caeb3","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/pages.styl","hash":"b8e887bc7fb3b765a1f8ec9448eff8603a41984f","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_variables/base.styl","hash":"4ed5f0ae105ef4c7dd92eaf652ceda176c38e502","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_about/about.styl","hash":"97fe42516ea531fdad771489b68aa8b2a7f6ae46","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_archive/archive.styl","hash":"c475e6681546d30350eaed11f23081ecae80c375","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/base.styl","hash":"643284c567665f96915f0b64e59934dda315f74d","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/color-schema.styl","hash":"61279540c2623ea4bf93e40613d41380839b92d3","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/keyframes.styl","hash":"94065ea50f5bef7566d184f2422f6ac20866ba22","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/inline.styl","hash":"411a3fa3f924a87e00ff04d18b5c83283b049a4d","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_category/category-bar.styl","hash":"99e8e25e84d513b869a17140f63a5c1e48a0e7e1","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_category/category-chain.styl","hash":"0cdf7ef50dfd0669d3b257821384ff31cd81b7c9","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_index/index.styl","hash":"0acbd71633bcc7191672ea4e1b2277bea350d73b","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_category/category-list.styl","hash":"7edfe1b571ecca7d08f5f4dbcf76f4ffdcfbf0b5","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_links/links.styl","hash":"5c7f2044e3f1da05a3229537c06bd879836f8d6e","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_post/comment.styl","hash":"780f3788e7357bcd3f3262d781cb91bb53976a93","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_post/highlight.styl","hash":"7054d79c9d5966fc57baf0adcdf3b19275987b62","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_post/markdown.styl","hash":"1e3d3a82721e7c10bcfcecec6d81cf2979039452","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_post/post-page.styl","hash":"127bb5391370afe7fef2a297084d76406bc5e902","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_post/post-tag.styl","hash":"27f70062415ccf66a9b6f4952db124fc1471fda5","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_tag/tags.styl","hash":"65bfc01c76abc927fa1a23bf2422892b0d566c3f","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/anchorjs.styl","hash":"e0cebda4a6f499aff75e71417d88caa7ceb13b94","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/banner.styl","hash":"7a0bd629bc234fc75e3cc8e3715ffada92f09e73","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/board.styl","hash":"4397037fc3f0033dbe546c33cd9dbdabd8cb1632","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/code-widget.styl","hash":"b66ab013f0f37d724a149b85b3c7432afcf460ad","modified":1657764127371},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/copyright.styl","hash":"26f71a9cd60d96bb0cb5bbdf58150b8e524d9707","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/footer.styl","hash":"2caaca71dd1ff63d583099ed817677dd267b457e","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/footnote.styl","hash":"ae9289cc89649af2042907f8a003303b987f3404","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/header.styl","hash":"896179810e1ee986208ae2d57a44719f6b839bde","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/modal.styl","hash":"adf6c1e5c8e1fb41c77ce6e2258001df61245aa2","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/ngrogress.styl","hash":"5d225357b4a58d46118e6616377168336ed44cb2","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/noscript.styl","hash":"0cf2f2bb44f456150d428016675d5876a9d2e2aa","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/pagination.styl","hash":"8bb1b68e5f3552cb48c2ffa31edbc53646a8fb4c","modified":1657764127374},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/qrcode.styl","hash":"78704a94c0436097abfb0e0a57abeb3429c749b7","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/scroll-btn.styl","hash":"f0e429a27fa8a7658fcbddbb4d4dbe4afa12499a","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/search.styl","hash":"10f7e91a91e681fb9fe46f9df7707b9ef78707c8","modified":1657764127378},{"_id":"node_modules/hexo-theme-fluid/source/css/_pages/_base/_widget/toc.styl","hash":"9e7452aa2372153f25d7a4675c9d36d281a65d24","modified":1657764127378},{"_id":"source/img/article/信息收集/微步在线.png","hash":"230cdde417498e91c162d053673cb9be4f1ff9d5","modified":1654738055000},{"_id":"node_modules/hexo-theme-fluid/source/img/default.png","hash":"167a12978d80371cf578c8a2e45c24a2eb25b6fb","modified":1657764126948},{"_id":"source/img/article/信息收集/appinfoscanner.png","hash":"324206678904d01a67f5aa5416f6e7e712a6f1ad","modified":1654738054000},{"_id":"source/img/b-forest.jpg","hash":"6094df274f6e002ec7ad4bd16f3b7148a2ccdd4e","modified":1654738055000},{"_id":"source/img/bg.jpg","hash":"5c092a661e891db8e3ff949f638922e671231ae7","modified":1654738055000},{"_id":"public/local-search.xml","hash":"81cc40959739584151ce0a66c8722b568f73f33a","modified":1657764374809},{"_id":"public/about/index.html","hash":"a7bd4af89bfb313b05c3f16907b8c5e237a2bc05","modified":1657764374809},{"_id":"public/archives/index.html","hash":"1c6aaa8f4f3d11cac0bce21f778b3834b6d84280","modified":1657764374809},{"_id":"public/archives/2022/index.html","hash":"1c6aaa8f4f3d11cac0bce21f778b3834b6d84280","modified":1657764374809},{"_id":"public/archives/2022/05/index.html","hash":"f3b1174aec50b48eeed2808d16fafc5b1343cdbf","modified":1657764374809},{"_id":"public/archives/2022/06/index.html","hash":"7e1cd760fc9598e4344acfc5b0409202968cce43","modified":1657764374809},{"_id":"public/archives/2022/07/index.html","hash":"363fae8e32cfc918c533ee51ea394d8992d9e414","modified":1657764374809},{"_id":"public/categories/Security/index.html","hash":"10b5cd9845b80ba67cfb1fe6cb0c05fbec4bda85","modified":1657764374809},{"_id":"public/categories/Linux/index.html","hash":"66796d885749a6b4302c0faa8162ea093ac8cf9b","modified":1657764374809},{"_id":"public/categories/Security/PenTest/index.html","hash":"5b8baff041de27b149efbbfdeb798d9bcf4e4331","modified":1657764374809},{"_id":"public/categories/Linux/Gentoo/index.html","hash":"c504e81a8b9c60e028a998c773acad5c49fc3cc4","modified":1657764374809},{"_id":"public/categories/Security/PenTest/信息收集/index.html","hash":"27b60ef2a266f2b4d91c6a7a2667b4a46f1c0f31","modified":1657764374809},{"_id":"public/categories/Security/PenTest/经典漏洞/index.html","hash":"db3f13d249e5880a9a83845d0550fdefea998d44","modified":1657764374809},{"_id":"public/tags/Security/index.html","hash":"96a0c4f746320fc93802b159ab381b7f7ea15397","modified":1657764374809},{"_id":"public/tags/PenTest/index.html","hash":"12a0ee046cbf17bf0faf1bf5b978b5ae516c245f","modified":1657764374809},{"_id":"public/tags/信息收集/index.html","hash":"e7e261d0433ae3653a456b29dbfdd8c1104f9378","modified":1657764374809},{"_id":"public/tags/经典漏洞/index.html","hash":"77dfc34c419402430c1e4a27ac129c92f9fce58c","modified":1657764374809},{"_id":"public/tags/Linux/index.html","hash":"8cf8d0f0aaf66e7400719379bdf9c3825ed6b173","modified":1657764374809},{"_id":"public/tags/Gentoo/index.html","hash":"ec33ffbd62ced393fd4259efdfe753d3ec0572f1","modified":1657764374809},{"_id":"public/404.html","hash":"722122dfda13f2aa3490aeabf97afb1bd77b7af5","modified":1657764374809},{"_id":"public/tags/index.html","hash":"db44f6b31175ef64bf53a51d47ce6a38d93c8201","modified":1657764374809},{"_id":"public/links/index.html","hash":"ec72388c950d4c8567f514451d0b6f4c7cf88bde","modified":1657764374809},{"_id":"public/2022/07/04/2022-07-04.gentoo配置手册/index.html","hash":"882a321eaed0f1a379360f150a6df61cfb7f4aee","modified":1657764374809},{"_id":"public/2022/07/04/2022-07-04.gentoo配置手册 copy/index.html","hash":"46aa9a8be009a0ad101cdd450aa91144319da0cd","modified":1657764374809},{"_id":"public/2022/06/17/2022-06-17.经典漏洞-弱口令/index.html","hash":"e51188f2483e057af984035af1143ca481e297d4","modified":1657764374809},{"_id":"public/2022/05/30/2022-05-30.信息收集/index.html","hash":"69333179bcd529184fe0c21ba82cbe6ce855f1cf","modified":1657764374809},{"_id":"public/2022/05/23/2022-6-7.git/index.html","hash":"d4d5b503afe075e2077b0ef4d9dabd313b957ff4","modified":1657764374809},{"_id":"public/2022/05/13/2022-6-7.hello-world/index.html","hash":"0d15038c1ec8e1e990e1a04c00248048505adac7","modified":1657764374809},{"_id":"public/index.html","hash":"f162b2d678624f3b7bf3d8ee6f38b65cc1570c78","modified":1657764374809},{"_id":"public/categories/index.html","hash":"1427c1ed30f397027b2de58e4b5c0df407418161","modified":1657764374809},{"_id":"public/img/avatar.png","hash":"fe739a158cc128f70f780eb5fa96f388b81d478f","modified":1657764374809},{"_id":"public/img/loading.gif","hash":"2d2fc0f947940f98c21afafef39ecf226a2e8d55","modified":1657764374809},{"_id":"public/img/fluid.png","hash":"64b215db2cb3af98fe639e94537cb5209f959c78","modified":1657764374809},{"_id":"public/img/police_beian.png","hash":"90efded6baa2dde599a9d6b1387973e8e64923ea","modified":1657764374809},{"_id":"public/xml/local-search.xml","hash":"8c96ba6a064705602ce28d096fd7dd9069630a55","modified":1657764374809},{"_id":"public/img/webicon.png","hash":"581a3911627a97a3de9c565669086f3893b20f57","modified":1657764374809},{"_id":"public/img/article-head/弱口令.jpeg","hash":"9fe217dd03d6ffc0547cd3178116f881781391b7","modified":1657764374809},{"_id":"public/img/article-head/信息收集.jpeg","hash":"5b9949976db6756bbc1bc2a0ec87786a96573d73","modified":1657764374809},{"_id":"public/css/gitalk.css","hash":"a57b3cc8e04a0a4a27aefa07facf5b5e7bca0e76","modified":1657764374809},{"_id":"public/css/highlight-dark.css","hash":"2b0daa6e5343da9dbb26d617d224b8397e48556b","modified":1657764374809},{"_id":"public/css/highlight.css","hash":"0f9a477d33d3b15ebe7e163e756fb7c54c7ded6b","modified":1657764374809},{"_id":"public/js/boot.js","hash":"2848f8eb5081a7f0550fbd76dc06d3ff877f1913","modified":1657764374809},{"_id":"public/js/events.js","hash":"f05a569a9fd6da2fda69a2cf8e276ba81580faf3","modified":1657764374809},{"_id":"public/js/color-schema.js","hash":"ba63f7c3324bc1fdd050a90add9d8faaffc27e07","modified":1657764374809},{"_id":"public/js/leancloud.js","hash":"eff77c7a5c399fcaefda48884980571e15243fc9","modified":1657764374809},{"_id":"public/js/img-lazyload.js","hash":"cbdeca434ec4da51f488c821d51b4d23c73294af","modified":1657764374809},{"_id":"public/js/local-search.js","hash":"cebcda5991b6a9ab9307c69542389ce9013f04f7","modified":1657764374809},{"_id":"public/js/plugins.js","hash":"2333494add51e5e1374602a4e81f0be36a05d4c2","modified":1657764374809},{"_id":"public/js/utils.js","hash":"45cc86f099db0a2c36ad49711ce66c2d598a2ab1","modified":1657764374809},{"_id":"public/css/main.css","hash":"94f9e394de6d759eaeb0d9eaba2588057e3e935d","modified":1657764374809},{"_id":"public/img/article/信息收集/WebScan.png","hash":"596c7d8921418d70f99b45a6e5b82b71fd5fd301","modified":1657764374809},{"_id":"public/img/article/信息收集/fofa.png","hash":"520289bb9cf4651a24658eb4cef1315f33eb46eb","modified":1657764374809},{"_id":"public/img/article/信息收集/猎人在线.png","hash":"1c52f9b2269aba4a1e932ae7a5c28c752da3d87b","modified":1657764374809},{"_id":"public/img/touxiang.jpg","hash":"18038c437d8e08eae594b43ad15cecc7ec9da102","modified":1657764374809},{"_id":"public/img/article/信息收集/email-format.png","hash":"5554e059c34287098c6ccd0ffe4ef9d7c4b06f8d","modified":1657764374809},{"_id":"public/img/article/信息收集/shodan.png","hash":"0a796a656193d53edbaef894d6e1ceee418aeb0e","modified":1657764374809},{"_id":"public/img/article/信息收集/全球DNS搜索引擎.png","hash":"0f791ae2e185f0c210a58b099f8e680cc66830a7","modified":1657764374809},{"_id":"public/img/article-head/example.jpg","hash":"8cbaf5db5a0169b005b0582f8a28b8e413f6a4a6","modified":1657764374809},{"_id":"public/img/article/信息收集/Netcraft.png","hash":"c9b6e321c8c80a1b9757e8d4c0704f28ef805db0","modified":1657764374809},{"_id":"public/img/article/信息收集/ip段.png","hash":"bc9413692446c9f09ef96511d459f3298f94a81c","modified":1657764374809},{"_id":"public/img/article/信息收集/钟馗之眼.png","hash":"a2a9fa78b81ff976633a547189937fdebd802617","modified":1657764374809},{"_id":"public/img/default.png","hash":"167a12978d80371cf578c8a2e45c24a2eb25b6fb","modified":1657764374809},{"_id":"public/img/article/信息收集/微步在线.png","hash":"230cdde417498e91c162d053673cb9be4f1ff9d5","modified":1657764374809},{"_id":"public/img/article/信息收集/appinfoscanner.png","hash":"324206678904d01a67f5aa5416f6e7e712a6f1ad","modified":1657764374809},{"_id":"public/img/b-forest.jpg","hash":"6094df274f6e002ec7ad4bd16f3b7148a2ccdd4e","modified":1657764374809},{"_id":"public/img/bg.jpg","hash":"5c092a661e891db8e3ff949f638922e671231ae7","modified":1657764374809}],"Category":[{"name":"Security","_id":"cl5ke3u9q0003t2nafba8c9n0"},{"name":"Linux","_id":"cl5ke3u9t0008t2na3bf9dc6g"},{"name":"PenTest","parent":"cl5ke3u9q0003t2nafba8c9n0","_id":"cl5ke3u9t000at2na4q15czln"},{"name":"Gentoo","parent":"cl5ke3u9t0008t2na3bf9dc6g","_id":"cl5ke3u9u000ht2na2hg2a7oj"},{"name":"信息收集","parent":"cl5ke3u9t000at2na4q15czln","_id":"cl5ke3u9v000jt2na9zok4tpd"},{"name":"经典漏洞","parent":"cl5ke3u9t000at2na4q15czln","_id":"cl5ke3u9v000ot2nadpfeea9b"},{"name":"git","_id":"cl5ke3u9x0012t2naha6gb818"},{"name":"a","_id":"cl5ke3u9y0017t2nabn178646"},{"name":"b","parent":"cl5ke3u9y0017t2nabn178646","_id":"cl5ke3u9z001et2na5y57av5z"},{"name":"c","_id":"cl5ke3u9z001ft2na2a7167ey"},{"name":"d","parent":"cl5ke3u9z001ft2na2a7167ey","_id":"cl5ke3u9z001gt2naedhn40a7"}],"Data":[],"Page":[{"title":"关于","date":"2022-05-15T16:30:16.000Z","layout":"about","_content":"\n# 欢迎来到 miloo 的博客\n\nmiloo, 网络安全从业人员。  \n\n热爱开源文化，主要使用操作系统为gentoo、archlinux，解决问题请联系我。  \n\n由于年龄的增加（记忆力下降严重），许多研究及学习经验用博客记录，方便个人查阅及他人参考。个人笔记只起到抛砖引玉的作用，如有不足请不吝赐教，本人不胜感激。\n\n**人生格言：I am a pessimist. Others fight for victory, I am not. I always fight and occasionally win！** \n\n申明:部分内容摘自网络，涉及版权问题，请及时联系本人\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2022-05-16 00:30:16\nlayout: about\n---\n\n# 欢迎来到 miloo 的博客\n\nmiloo, 网络安全从业人员。  \n\n热爱开源文化，主要使用操作系统为gentoo、archlinux，解决问题请联系我。  \n\n由于年龄的增加（记忆力下降严重），许多研究及学习经验用博客记录，方便个人查阅及他人参考。个人笔记只起到抛砖引玉的作用，如有不足请不吝赐教，本人不胜感激。\n\n**人生格言：I am a pessimist. Others fight for victory, I am not. I always fight and occasionally win！** \n\n申明:部分内容摘自网络，涉及版权问题，请及时联系本人\n","updated":"2022-06-09T01:27:34.000Z","path":"about/index.html","comments":1,"_id":"cl5ke3u9m0000t2na6meg3ny8","content":"<h1 id=\"欢迎来到-miloo-的博客\"><a href=\"#欢迎来到-miloo-的博客\" class=\"headerlink\" title=\"欢迎来到 miloo 的博客\"></a>欢迎来到 miloo 的博客</h1><p>miloo, 网络安全从业人员。  </p>\n<p>热爱开源文化，主要使用操作系统为gentoo、archlinux，解决问题请联系我。  </p>\n<p>由于年龄的增加（记忆力下降严重），许多研究及学习经验用博客记录，方便个人查阅及他人参考。个人笔记只起到抛砖引玉的作用，如有不足请不吝赐教，本人不胜感激。</p>\n<p><strong>人生格言：I am a pessimist. Others fight for victory, I am not. I always fight and occasionally win！</strong> </p>\n<p>申明:部分内容摘自网络，涉及版权问题，请及时联系本人</p>\n","site":{"data":{}},"wordcount":250,"excerpt":"","more":"<h1 id=\"欢迎来到-miloo-的博客\"><a href=\"#欢迎来到-miloo-的博客\" class=\"headerlink\" title=\"欢迎来到 miloo 的博客\"></a>欢迎来到 miloo 的博客</h1><p>miloo, 网络安全从业人员。  </p>\n<p>热爱开源文化，主要使用操作系统为gentoo、archlinux，解决问题请联系我。  </p>\n<p>由于年龄的增加（记忆力下降严重），许多研究及学习经验用博客记录，方便个人查阅及他人参考。个人笔记只起到抛砖引玉的作用，如有不足请不吝赐教，本人不胜感激。</p>\n<p><strong>人生格言：I am a pessimist. Others fight for victory, I am not. I always fight and occasionally win！</strong> </p>\n<p>申明:部分内容摘自网络，涉及版权问题，请及时联系本人</p>\n"}],"Post":[{"title":"信息收集","excerpt":"信息收集工具，在线网站，IP段收集，域名收集，APP收集，目录识别，指纹识别，口令收集等……","index_img":"/img/article-head/信息收集.jpeg","date":"2022-05-30T12:46:25.000Z","updated":"2022-06-16T02:46:25.000Z","hide":false,"_content":"\n- [1 IP收集](#1-ip收集)\n  - [1.1 判断目标有没有使用CDN](#11-判断目标有没有使用cdn)\n  - [1.2 查找真实IP](#12-查找真实ip)\n    - [1.2.1 大数据网络搜索平台](#121-大数据网络搜索平台)\n    - [1.2.2 历史DNS记录](#122-历史dns记录)\n    - [1.2.3 主动连接暴露的真实ip](#123-主动连接暴露的真实ip)\n    - [1.2.4 国外代理访问](#124-国外代理访问)\n    - [1.2.5 纯真ip数据库](#125-纯真ip数据库)\n  - [1.3 IP信息收集](#13-ip信息收集)\n    - [1.3.1 IP 段整理](#131-ip-段整理)\n    - [1.3.2 C段、旁站](#132-c段旁站)\n  - [1.4 搜索引擎](#14-搜索引擎)\n- [2 域名、子域名收集](#2-域名子域名收集)\n  - [2.1 域名的备案号](#21-域名的备案号)\n  - [2.2 子域名工具](#22-子域名工具)\n  - [2.3 在线子域名接口](#23-在线子域名接口)\n  - [2.4 其他泄露信息](#24-其他泄露信息)\n  - [2.5 SSL证书查询](#25-ssl证书查询)\n- [3 APP收集](#3-app收集)\n  - [3.1 `app`信息收集和历史版本](#31-app信息收集和历史版本)\n  - [3.2 工具](#32-工具)\n- [4 MAIL收集](#4-mail收集)\n- [5 WEB收集](#5-web收集)\n- [6 指纹识别](#6-指纹识别)\n  - [6.1 第三方网站](#61-第三方网站)\n  - [6.2 浏览器插件](#62-浏览器插件)\n  - [6.3 其他工具](#63-其他工具)\n- [7 端口识别](#7-端口识别)\n  - [7.1 常见端口](#71-常见端口)\n  - [7.2 扫描工具](#72-扫描工具)\n- [8 口令收集](#8-口令收集)\n  - [8.1 弱口令字典的生成](#81-弱口令字典的生成)\n\n# 1 IP收集\n\n## 1.1 判断目标有没有使用CDN\n\n[全球ping](https://ping.chinaz.com/)\n\n以 `baidu.com` 为例，全球ping结果显示如下，其中ip归属地皆为`中国北京海淀 电信`，但是ip地址不同，则可以确定为使用了CDN，如果结果显示ip归属地在不同地址，也可以确定为使用了CDN：\n\n监测点 | 响应IP | IP归属地 | 响应时间 | TTL | 赞助商\n| - | - | - | - | - | - |\n四川绵阳[电信] | 220.181.38.251 | 中国北京海淀 电信 | 35ms | 53ms | \n河南洛阳[多线] | 220.181.38.148 | 中国北京海淀 电信 | 23ms | 52ms | \n江苏镇江[多线] | 220.181.38.251 | 中国北京海淀 电信 | 32ms | 49ms | \n江苏镇江[电信] | 220.181.38.148 | 中国北京海淀 电信 | 27ms | 50ms | \n\n## 1.2 查找真实IP\n\n> Tips:找到真实ip，绑定host，可以打开目标网站就是真实ip\n\n### 1.2.1 大数据网络搜索平台\n\n以有道为例：\n\n[钟馗之眼](https://zoomeye.org)\n\n![钟馗之眼](/img/article/信息收集/钟馗之眼.png)\n\n[censys](https://www.censys.io)\n\n[FOFA](https://fofa.info)\n\n![fofa](/img/article/信息收集/fofa.png)\n\n[shodan](https://www.shodan.io)\n\n![shodan](/img/article/信息收集/shodan.png)\n\n### 1.2.2 历史DNS记录\n\n> 最早解析的ip地址为真实ip地址，(可能会存在使用CDN前的ip地址)  \n\n[全球DNS搜索引擎](https://dnsdb.io/zh-cn)  \n\n![全球DNS搜索引擎](/img/article/信息收集/全球DNS搜索引擎.png)\n\n[情报社区](https://x.threatbook.cn)  \n\n![微步在线](/img/article/信息收集/微步在线.png)\n\n[Netcraft](https://toolbar.netcraft.com/site_report?url=)  \n\n![Netcraft](/img/article/信息收集/Netcraft.png)\n\n[viewdnsinfo](http://viewdns.info)  \n\n[xcdn](https://github.com/3xp10it/xcdn)  \n\n[zmap](http://bobao.360.cn/learning/detail/221.html)  \n\n### 1.2.3 主动连接暴露的真实ip\n\n- 注册网站邮件验证(显示邮件原文，from字段为真实ip)\n- RSS\n- 订阅网站\n\n### 1.2.4 国外代理访问\n\n国内的CDN往往只针对国内用户访问加速，有时候通过国外的DNS解析可以得到真实IP\n\n### 1.2.5 纯真ip数据库\n\n\n\n## 1.3 IP信息收集\n\n### 1.3.1 IP 段整理\n\n[CNNICIP](https://ipwhois.cnnic.net.cn/)\n\n![ip段](/img/article/信息收集/ip段.png)\n\n### 1.3.2 C段、旁站\n\n[WebScan](http://www.webscan.cc)  \n\n![WebScan](/img/article/信息收集/WebScan.png)\n\n[查旁站](https://chapangzhan.com/)  \n\n## 1.4 搜索引擎\n\n[google学术](https://scholar.google.com.ph)\n\n\n# 2 域名、子域名收集\n\n## 2.1 域名的备案号\n\n[chinaz](icp.chinaz.com)\n\n## 2.2 子域名工具\n\n1. 子域名挖掘机Layer\n2. Sublist3r\n3. oneforall\n\n## 2.3 在线子域名接口\n\n1. https://securitytrails.com/list/apex_domain  \n2. http://ce.baidu.com/index/getRelatedSites  \n3. https://dnsdumpster.com/  \n4. https://findsubdomains.com/  \n5. https://dnslytics.com/domain  \n\n## 2.4 其他泄露信息\n\n1. crossdomain.xml文件\n2. 爬虫递归爬取\n3. DNS域传送漏洞\n\n## 2.5 SSL证书查询\n\n1. 不安全的站点，浏览器证书信息泄露\n2. dnsdumpster.com\n\n# 3 APP收集\n\n## 3.1 `app`信息收集和历史版本\n\n- ios：同公司的其他产品\n- android：酷安、碗豆荚等\n\n## 3.2 工具\n\n> 未加密的app会扫描出大量可注入链接  \n\n- appinfoscanner\n\n![appinfoscanner](/img/article/信息收集/appinfoscanner.png)  \n\n# 4 MAIL收集\n\n[email猎人在线](https://hunter.io/)  \n\n![猎人在线](/img/article/信息收集/猎人在线.png)  \n\n[email-format](https://email-format.com/i/search_result/?q=)  \n\n![email-format](/img/article/信息收集/email-format.png) \n\n# 5 WEB收集\n\n[FOCA](https://github.com/ElevenPaths/FOCA)\n\n# 6 指纹识别\n\n## 6.1 第三方网站\n\n[云悉](www.yunsee.cn)\n\n## 6.2 浏览器插件\n\n- wappalyzer\n\n## 6.3 其他工具\n\n- what-web\n- finger\n\n# 7 端口识别\n\n## 7.1 常见端口\n\n端口 | 服务 | 总结 | 文档\n| - | - | - | - |\n21 | FTP/TFTP/VSFTPD | 爆破/嗅探/溢出/后门 | \n22 | SSH远程连接 | 爆破/openssh漏洞 | \n23 | TELNET远程连接 | 爆破/嗅探/弱口令 | \n25 | SMTP邮件服务 | 邮件伪造 | \n53 | DNS域名解析系统 | 域传送/劫持/缓存投毒/欺骗 | \n67/68 | dhcp服务 | 劫持/欺骗 | \n110 | pop3 | 爆破/嗅探 | \n139 | samba服务 | 爆破/未授权访问/远程命令执行 | \n143 | Imap协议 | 爆破JGSNMP协议爆破/搜集目标内网信息 | \n389 | Ldap目录访问协议 | 注入/未授权访问/弱口令 | \n445 | smb | ms17-010端口溢出 | \n512/513/514 | Linux Rexec服务 | 爆破/Rlogin登陆 | \n873 | Rsyxc服务 | 文件上传/未授权访问 | \n1080 | socket | 爆破 | \n1352 | Lotus domino邮件服务 | 爆破/信息泄漏 | \n1433 | mssql | 爆破/注入/SA弱口令 | \n1521 | oracle | 爆破/注入/TNS爆破/反弹shell2O49NfS服务配置不当 | \n2181 | zookeeper服务 | 未授权访问 | \n2375 | docker remote api | 未授权访问 | \n3306 | mysql | 爆破/注入 | \n3389 | Rdp远程桌面链接 | 爆破/shfit后门 | \n4848 | GassFish控制台 | 爆破/认证绕过 | \n5000 | sybase/DB2数据库 | 爆破/注入/提权 | \n5432 | postgresql | 爆破/注入/缓冲区溢出 | \n5632 | pcanywhere服务 | 抓密码/代码执行 | \n5900 | vnc | 爆破/认证绕过 | \n6379 | Redis数据库 | 未授权访问/爆破 | \n7001/7002 | weblogic | 反序列化/控制台弱口令 | \n80/443 | http/https | web应用漏洞/心脏滴血 | \n8069 | zabbix服务 | 远程命令执行/注入 | \n8161 | activemq | 弱口令/写文件 | \n8080/8089 | Jboss/Tomcat/Resin | 爆破/PUT文件上传/反序列化 | \n8083/8086 | influxDB | 未授权访问 | \n9000 | fastcgi | 远程命令执行 | \n9090 | Websphere | 控制台爆破/java反序列化/弱口令 | \n9200/9300 | elasticsearch | 远程代码执行 | \n11211 | memcached | 未授权访问 | \n27017/27018 | mongodb | 未授权访问/爆破 | \n\n## 7.2 扫描工具\n\n- scanport\n- nmap\n- masscan\n- masnmapscan\n- zmap\n- 御剑高速TCP端口扫描工具\n- 御剑高速端口扫描工具\n- IISPutScanner\n- IISPutScanner增强版-DotNetScan\n\n# 8 口令收集\n\n## 8.1 弱口令字典的生成\n\n- 针对个人信息生成针对个人的密码字典  \n[CTF密码生成器](https://www.bugku.com/mima/)\n\n- 白鹿社工字典生成器\n[白鹿社工字典生成器](https://github.com/x311/BaiLu-SED-Tool)\n","source":"_posts/2022-05-30.信息收集.md","raw":"---\ntitle: 信息收集\nexcerpt: 信息收集工具，在线网站，IP段收集，域名收集，APP收集，目录识别，指纹识别，口令收集等……\nindex_img: /img/article-head/信息收集.jpeg\ndate: \"2022/5/30 20:46:25\"\nupdated: \"2022/6/16 10:46:25\"\nhide: false\ntags:\n- Security\n- PenTest\n- 信息收集\ncategories:\n- Security\n- PenTest\n- 信息收集\n---\n\n- [1 IP收集](#1-ip收集)\n  - [1.1 判断目标有没有使用CDN](#11-判断目标有没有使用cdn)\n  - [1.2 查找真实IP](#12-查找真实ip)\n    - [1.2.1 大数据网络搜索平台](#121-大数据网络搜索平台)\n    - [1.2.2 历史DNS记录](#122-历史dns记录)\n    - [1.2.3 主动连接暴露的真实ip](#123-主动连接暴露的真实ip)\n    - [1.2.4 国外代理访问](#124-国外代理访问)\n    - [1.2.5 纯真ip数据库](#125-纯真ip数据库)\n  - [1.3 IP信息收集](#13-ip信息收集)\n    - [1.3.1 IP 段整理](#131-ip-段整理)\n    - [1.3.2 C段、旁站](#132-c段旁站)\n  - [1.4 搜索引擎](#14-搜索引擎)\n- [2 域名、子域名收集](#2-域名子域名收集)\n  - [2.1 域名的备案号](#21-域名的备案号)\n  - [2.2 子域名工具](#22-子域名工具)\n  - [2.3 在线子域名接口](#23-在线子域名接口)\n  - [2.4 其他泄露信息](#24-其他泄露信息)\n  - [2.5 SSL证书查询](#25-ssl证书查询)\n- [3 APP收集](#3-app收集)\n  - [3.1 `app`信息收集和历史版本](#31-app信息收集和历史版本)\n  - [3.2 工具](#32-工具)\n- [4 MAIL收集](#4-mail收集)\n- [5 WEB收集](#5-web收集)\n- [6 指纹识别](#6-指纹识别)\n  - [6.1 第三方网站](#61-第三方网站)\n  - [6.2 浏览器插件](#62-浏览器插件)\n  - [6.3 其他工具](#63-其他工具)\n- [7 端口识别](#7-端口识别)\n  - [7.1 常见端口](#71-常见端口)\n  - [7.2 扫描工具](#72-扫描工具)\n- [8 口令收集](#8-口令收集)\n  - [8.1 弱口令字典的生成](#81-弱口令字典的生成)\n\n# 1 IP收集\n\n## 1.1 判断目标有没有使用CDN\n\n[全球ping](https://ping.chinaz.com/)\n\n以 `baidu.com` 为例，全球ping结果显示如下，其中ip归属地皆为`中国北京海淀 电信`，但是ip地址不同，则可以确定为使用了CDN，如果结果显示ip归属地在不同地址，也可以确定为使用了CDN：\n\n监测点 | 响应IP | IP归属地 | 响应时间 | TTL | 赞助商\n| - | - | - | - | - | - |\n四川绵阳[电信] | 220.181.38.251 | 中国北京海淀 电信 | 35ms | 53ms | \n河南洛阳[多线] | 220.181.38.148 | 中国北京海淀 电信 | 23ms | 52ms | \n江苏镇江[多线] | 220.181.38.251 | 中国北京海淀 电信 | 32ms | 49ms | \n江苏镇江[电信] | 220.181.38.148 | 中国北京海淀 电信 | 27ms | 50ms | \n\n## 1.2 查找真实IP\n\n> Tips:找到真实ip，绑定host，可以打开目标网站就是真实ip\n\n### 1.2.1 大数据网络搜索平台\n\n以有道为例：\n\n[钟馗之眼](https://zoomeye.org)\n\n![钟馗之眼](/img/article/信息收集/钟馗之眼.png)\n\n[censys](https://www.censys.io)\n\n[FOFA](https://fofa.info)\n\n![fofa](/img/article/信息收集/fofa.png)\n\n[shodan](https://www.shodan.io)\n\n![shodan](/img/article/信息收集/shodan.png)\n\n### 1.2.2 历史DNS记录\n\n> 最早解析的ip地址为真实ip地址，(可能会存在使用CDN前的ip地址)  \n\n[全球DNS搜索引擎](https://dnsdb.io/zh-cn)  \n\n![全球DNS搜索引擎](/img/article/信息收集/全球DNS搜索引擎.png)\n\n[情报社区](https://x.threatbook.cn)  \n\n![微步在线](/img/article/信息收集/微步在线.png)\n\n[Netcraft](https://toolbar.netcraft.com/site_report?url=)  \n\n![Netcraft](/img/article/信息收集/Netcraft.png)\n\n[viewdnsinfo](http://viewdns.info)  \n\n[xcdn](https://github.com/3xp10it/xcdn)  \n\n[zmap](http://bobao.360.cn/learning/detail/221.html)  \n\n### 1.2.3 主动连接暴露的真实ip\n\n- 注册网站邮件验证(显示邮件原文，from字段为真实ip)\n- RSS\n- 订阅网站\n\n### 1.2.4 国外代理访问\n\n国内的CDN往往只针对国内用户访问加速，有时候通过国外的DNS解析可以得到真实IP\n\n### 1.2.5 纯真ip数据库\n\n\n\n## 1.3 IP信息收集\n\n### 1.3.1 IP 段整理\n\n[CNNICIP](https://ipwhois.cnnic.net.cn/)\n\n![ip段](/img/article/信息收集/ip段.png)\n\n### 1.3.2 C段、旁站\n\n[WebScan](http://www.webscan.cc)  \n\n![WebScan](/img/article/信息收集/WebScan.png)\n\n[查旁站](https://chapangzhan.com/)  \n\n## 1.4 搜索引擎\n\n[google学术](https://scholar.google.com.ph)\n\n\n# 2 域名、子域名收集\n\n## 2.1 域名的备案号\n\n[chinaz](icp.chinaz.com)\n\n## 2.2 子域名工具\n\n1. 子域名挖掘机Layer\n2. Sublist3r\n3. oneforall\n\n## 2.3 在线子域名接口\n\n1. https://securitytrails.com/list/apex_domain  \n2. http://ce.baidu.com/index/getRelatedSites  \n3. https://dnsdumpster.com/  \n4. https://findsubdomains.com/  \n5. https://dnslytics.com/domain  \n\n## 2.4 其他泄露信息\n\n1. crossdomain.xml文件\n2. 爬虫递归爬取\n3. DNS域传送漏洞\n\n## 2.5 SSL证书查询\n\n1. 不安全的站点，浏览器证书信息泄露\n2. dnsdumpster.com\n\n# 3 APP收集\n\n## 3.1 `app`信息收集和历史版本\n\n- ios：同公司的其他产品\n- android：酷安、碗豆荚等\n\n## 3.2 工具\n\n> 未加密的app会扫描出大量可注入链接  \n\n- appinfoscanner\n\n![appinfoscanner](/img/article/信息收集/appinfoscanner.png)  \n\n# 4 MAIL收集\n\n[email猎人在线](https://hunter.io/)  \n\n![猎人在线](/img/article/信息收集/猎人在线.png)  \n\n[email-format](https://email-format.com/i/search_result/?q=)  \n\n![email-format](/img/article/信息收集/email-format.png) \n\n# 5 WEB收集\n\n[FOCA](https://github.com/ElevenPaths/FOCA)\n\n# 6 指纹识别\n\n## 6.1 第三方网站\n\n[云悉](www.yunsee.cn)\n\n## 6.2 浏览器插件\n\n- wappalyzer\n\n## 6.3 其他工具\n\n- what-web\n- finger\n\n# 7 端口识别\n\n## 7.1 常见端口\n\n端口 | 服务 | 总结 | 文档\n| - | - | - | - |\n21 | FTP/TFTP/VSFTPD | 爆破/嗅探/溢出/后门 | \n22 | SSH远程连接 | 爆破/openssh漏洞 | \n23 | TELNET远程连接 | 爆破/嗅探/弱口令 | \n25 | SMTP邮件服务 | 邮件伪造 | \n53 | DNS域名解析系统 | 域传送/劫持/缓存投毒/欺骗 | \n67/68 | dhcp服务 | 劫持/欺骗 | \n110 | pop3 | 爆破/嗅探 | \n139 | samba服务 | 爆破/未授权访问/远程命令执行 | \n143 | Imap协议 | 爆破JGSNMP协议爆破/搜集目标内网信息 | \n389 | Ldap目录访问协议 | 注入/未授权访问/弱口令 | \n445 | smb | ms17-010端口溢出 | \n512/513/514 | Linux Rexec服务 | 爆破/Rlogin登陆 | \n873 | Rsyxc服务 | 文件上传/未授权访问 | \n1080 | socket | 爆破 | \n1352 | Lotus domino邮件服务 | 爆破/信息泄漏 | \n1433 | mssql | 爆破/注入/SA弱口令 | \n1521 | oracle | 爆破/注入/TNS爆破/反弹shell2O49NfS服务配置不当 | \n2181 | zookeeper服务 | 未授权访问 | \n2375 | docker remote api | 未授权访问 | \n3306 | mysql | 爆破/注入 | \n3389 | Rdp远程桌面链接 | 爆破/shfit后门 | \n4848 | GassFish控制台 | 爆破/认证绕过 | \n5000 | sybase/DB2数据库 | 爆破/注入/提权 | \n5432 | postgresql | 爆破/注入/缓冲区溢出 | \n5632 | pcanywhere服务 | 抓密码/代码执行 | \n5900 | vnc | 爆破/认证绕过 | \n6379 | Redis数据库 | 未授权访问/爆破 | \n7001/7002 | weblogic | 反序列化/控制台弱口令 | \n80/443 | http/https | web应用漏洞/心脏滴血 | \n8069 | zabbix服务 | 远程命令执行/注入 | \n8161 | activemq | 弱口令/写文件 | \n8080/8089 | Jboss/Tomcat/Resin | 爆破/PUT文件上传/反序列化 | \n8083/8086 | influxDB | 未授权访问 | \n9000 | fastcgi | 远程命令执行 | \n9090 | Websphere | 控制台爆破/java反序列化/弱口令 | \n9200/9300 | elasticsearch | 远程代码执行 | \n11211 | memcached | 未授权访问 | \n27017/27018 | mongodb | 未授权访问/爆破 | \n\n## 7.2 扫描工具\n\n- scanport\n- nmap\n- masscan\n- masnmapscan\n- zmap\n- 御剑高速TCP端口扫描工具\n- 御剑高速端口扫描工具\n- IISPutScanner\n- IISPutScanner增强版-DotNetScan\n\n# 8 口令收集\n\n## 8.1 弱口令字典的生成\n\n- 针对个人信息生成针对个人的密码字典  \n[CTF密码生成器](https://www.bugku.com/mima/)\n\n- 白鹿社工字典生成器\n[白鹿社工字典生成器](https://github.com/x311/BaiLu-SED-Tool)\n","slug":"2022-05-30.信息收集","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5ke3u9o0001t2na22efe2jt","content":"<ul>\n<li><a href=\"#1-ip%E6%94%B6%E9%9B%86\">1 IP收集</a><ul>\n<li><a href=\"#11-%E5%88%A4%E6%96%AD%E7%9B%AE%E6%A0%87%E6%9C%89%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8cdn\">1.1 判断目标有没有使用CDN</a></li>\n<li><a href=\"#12-%E6%9F%A5%E6%89%BE%E7%9C%9F%E5%AE%9Eip\">1.2 查找真实IP</a><ul>\n<li><a href=\"#121-%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BD%91%E7%BB%9C%E6%90%9C%E7%B4%A2%E5%B9%B3%E5%8F%B0\">1.2.1 大数据网络搜索平台</a></li>\n<li><a href=\"#122-%E5%8E%86%E5%8F%B2dns%E8%AE%B0%E5%BD%95\">1.2.2 历史DNS记录</a></li>\n<li><a href=\"#123-%E4%B8%BB%E5%8A%A8%E8%BF%9E%E6%8E%A5%E6%9A%B4%E9%9C%B2%E7%9A%84%E7%9C%9F%E5%AE%9Eip\">1.2.3 主动连接暴露的真实ip</a></li>\n<li><a href=\"#124-%E5%9B%BD%E5%A4%96%E4%BB%A3%E7%90%86%E8%AE%BF%E9%97%AE\">1.2.4 国外代理访问</a></li>\n<li><a href=\"#125-%E7%BA%AF%E7%9C%9Fip%E6%95%B0%E6%8D%AE%E5%BA%93\">1.2.5 纯真ip数据库</a></li>\n</ul>\n</li>\n<li><a href=\"#13-ip%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\">1.3 IP信息收集</a><ul>\n<li><a href=\"#131-ip-%E6%AE%B5%E6%95%B4%E7%90%86\">1.3.1 IP 段整理</a></li>\n<li><a href=\"#132-c%E6%AE%B5%E6%97%81%E7%AB%99\">1.3.2 C段、旁站</a></li>\n</ul>\n</li>\n<li><a href=\"#14-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E\">1.4 搜索引擎</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%9F%9F%E5%90%8D%E5%AD%90%E5%9F%9F%E5%90%8D%E6%94%B6%E9%9B%86\">2 域名、子域名收集</a><ul>\n<li><a href=\"#21-%E5%9F%9F%E5%90%8D%E7%9A%84%E5%A4%87%E6%A1%88%E5%8F%B7\">2.1 域名的备案号</a></li>\n<li><a href=\"#22-%E5%AD%90%E5%9F%9F%E5%90%8D%E5%B7%A5%E5%85%B7\">2.2 子域名工具</a></li>\n<li><a href=\"#23-%E5%9C%A8%E7%BA%BF%E5%AD%90%E5%9F%9F%E5%90%8D%E6%8E%A5%E5%8F%A3\">2.3 在线子域名接口</a></li>\n<li><a href=\"#24-%E5%85%B6%E4%BB%96%E6%B3%84%E9%9C%B2%E4%BF%A1%E6%81%AF\">2.4 其他泄露信息</a></li>\n<li><a href=\"#25-ssl%E8%AF%81%E4%B9%A6%E6%9F%A5%E8%AF%A2\">2.5 SSL证书查询</a></li>\n</ul>\n</li>\n<li><a href=\"#3-app%E6%94%B6%E9%9B%86\">3 APP收集</a><ul>\n<li><a href=\"#31-app%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E5%92%8C%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC\">3.1 <code>app</code>信息收集和历史版本</a></li>\n<li><a href=\"#32-%E5%B7%A5%E5%85%B7\">3.2 工具</a></li>\n</ul>\n</li>\n<li><a href=\"#4-mail%E6%94%B6%E9%9B%86\">4 MAIL收集</a></li>\n<li><a href=\"#5-web%E6%94%B6%E9%9B%86\">5 WEB收集</a></li>\n<li><a href=\"#6-%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB\">6 指纹识别</a><ul>\n<li><a href=\"#61-%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BD%91%E7%AB%99\">6.1 第三方网站</a></li>\n<li><a href=\"#62-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6\">6.2 浏览器插件</a></li>\n<li><a href=\"#63-%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7\">6.3 其他工具</a></li>\n</ul>\n</li>\n<li><a href=\"#7-%E7%AB%AF%E5%8F%A3%E8%AF%86%E5%88%AB\">7 端口识别</a><ul>\n<li><a href=\"#71-%E5%B8%B8%E8%A7%81%E7%AB%AF%E5%8F%A3\">7.1 常见端口</a></li>\n<li><a href=\"#72-%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7\">7.2 扫描工具</a></li>\n</ul>\n</li>\n<li><a href=\"#8-%E5%8F%A3%E4%BB%A4%E6%94%B6%E9%9B%86\">8 口令收集</a><ul>\n<li><a href=\"#81-%E5%BC%B1%E5%8F%A3%E4%BB%A4%E5%AD%97%E5%85%B8%E7%9A%84%E7%94%9F%E6%88%90\">8.1 弱口令字典的生成</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"1-IP收集\"><a href=\"#1-IP收集\" class=\"headerlink\" title=\"1 IP收集\"></a>1 IP收集</h1><h2 id=\"1-1-判断目标有没有使用CDN\"><a href=\"#1-1-判断目标有没有使用CDN\" class=\"headerlink\" title=\"1.1 判断目标有没有使用CDN\"></a>1.1 判断目标有没有使用CDN</h2><p><a href=\"https://ping.chinaz.com/\">全球ping</a></p>\n<p>以 <code>baidu.com</code> 为例，全球ping结果显示如下，其中ip归属地皆为<code>中国北京海淀 电信</code>，但是ip地址不同，则可以确定为使用了CDN，如果结果显示ip归属地在不同地址，也可以确定为使用了CDN：</p>\n<table>\n<thead>\n<tr>\n<th>监测点</th>\n<th>响应IP</th>\n<th>IP归属地</th>\n<th>响应时间</th>\n<th>TTL</th>\n<th>赞助商</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>四川绵阳[电信]</td>\n<td>220.181.38.251</td>\n<td>中国北京海淀 电信</td>\n<td>35ms</td>\n<td>53ms</td>\n<td></td>\n</tr>\n<tr>\n<td>河南洛阳[多线]</td>\n<td>220.181.38.148</td>\n<td>中国北京海淀 电信</td>\n<td>23ms</td>\n<td>52ms</td>\n<td></td>\n</tr>\n<tr>\n<td>江苏镇江[多线]</td>\n<td>220.181.38.251</td>\n<td>中国北京海淀 电信</td>\n<td>32ms</td>\n<td>49ms</td>\n<td></td>\n</tr>\n<tr>\n<td>江苏镇江[电信]</td>\n<td>220.181.38.148</td>\n<td>中国北京海淀 电信</td>\n<td>27ms</td>\n<td>50ms</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"1-2-查找真实IP\"><a href=\"#1-2-查找真实IP\" class=\"headerlink\" title=\"1.2 查找真实IP\"></a>1.2 查找真实IP</h2><blockquote>\n<p>Tips:找到真实ip，绑定host，可以打开目标网站就是真实ip</p>\n</blockquote>\n<h3 id=\"1-2-1-大数据网络搜索平台\"><a href=\"#1-2-1-大数据网络搜索平台\" class=\"headerlink\" title=\"1.2.1 大数据网络搜索平台\"></a>1.2.1 大数据网络搜索平台</h3><p>以有道为例：</p>\n<p><a href=\"https://zoomeye.org/\">钟馗之眼</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E9%92%9F%E9%A6%97%E4%B9%8B%E7%9C%BC.png\" alt=\"钟馗之眼\"></p>\n<p><a href=\"https://www.censys.io/\">censys</a></p>\n<p><a href=\"https://fofa.info/\">FOFA</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/fofa.png\" alt=\"fofa\"></p>\n<p><a href=\"https://www.shodan.io/\">shodan</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/shodan.png\" alt=\"shodan\"></p>\n<h3 id=\"1-2-2-历史DNS记录\"><a href=\"#1-2-2-历史DNS记录\" class=\"headerlink\" title=\"1.2.2 历史DNS记录\"></a>1.2.2 历史DNS记录</h3><blockquote>\n<p>最早解析的ip地址为真实ip地址，(可能会存在使用CDN前的ip地址)  </p>\n</blockquote>\n<p><a href=\"https://dnsdb.io/zh-cn\">全球DNS搜索引擎</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E5%85%A8%E7%90%83DNS%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.png\" alt=\"全球DNS搜索引擎\"></p>\n<p><a href=\"https://x.threatbook.cn/\">情报社区</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E5%BE%AE%E6%AD%A5%E5%9C%A8%E7%BA%BF.png\" alt=\"微步在线\"></p>\n<p><a href=\"https://toolbar.netcraft.com/site_report?url=\">Netcraft</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/Netcraft.png\" alt=\"Netcraft\"></p>\n<p><a href=\"http://viewdns.info/\">viewdnsinfo</a>  </p>\n<p><a href=\"https://github.com/3xp10it/xcdn\">xcdn</a>  </p>\n<p><a href=\"http://bobao.360.cn/learning/detail/221.html\">zmap</a>  </p>\n<h3 id=\"1-2-3-主动连接暴露的真实ip\"><a href=\"#1-2-3-主动连接暴露的真实ip\" class=\"headerlink\" title=\"1.2.3 主动连接暴露的真实ip\"></a>1.2.3 主动连接暴露的真实ip</h3><ul>\n<li>注册网站邮件验证(显示邮件原文，from字段为真实ip)</li>\n<li>RSS</li>\n<li>订阅网站</li>\n</ul>\n<h3 id=\"1-2-4-国外代理访问\"><a href=\"#1-2-4-国外代理访问\" class=\"headerlink\" title=\"1.2.4 国外代理访问\"></a>1.2.4 国外代理访问</h3><p>国内的CDN往往只针对国内用户访问加速，有时候通过国外的DNS解析可以得到真实IP</p>\n<h3 id=\"1-2-5-纯真ip数据库\"><a href=\"#1-2-5-纯真ip数据库\" class=\"headerlink\" title=\"1.2.5 纯真ip数据库\"></a>1.2.5 纯真ip数据库</h3><h2 id=\"1-3-IP信息收集\"><a href=\"#1-3-IP信息收集\" class=\"headerlink\" title=\"1.3 IP信息收集\"></a>1.3 IP信息收集</h2><h3 id=\"1-3-1-IP-段整理\"><a href=\"#1-3-1-IP-段整理\" class=\"headerlink\" title=\"1.3.1 IP 段整理\"></a>1.3.1 IP 段整理</h3><p><a href=\"https://ipwhois.cnnic.net.cn/\">CNNICIP</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/ip%E6%AE%B5.png\" alt=\"ip段\"></p>\n<h3 id=\"1-3-2-C段、旁站\"><a href=\"#1-3-2-C段、旁站\" class=\"headerlink\" title=\"1.3.2 C段、旁站\"></a>1.3.2 C段、旁站</h3><p><a href=\"http://www.webscan.cc/\">WebScan</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/WebScan.png\" alt=\"WebScan\"></p>\n<p><a href=\"https://chapangzhan.com/\">查旁站</a>  </p>\n<h2 id=\"1-4-搜索引擎\"><a href=\"#1-4-搜索引擎\" class=\"headerlink\" title=\"1.4 搜索引擎\"></a>1.4 搜索引擎</h2><p><a href=\"https://scholar.google.com.ph/\">google学术</a></p>\n<h1 id=\"2-域名、子域名收集\"><a href=\"#2-域名、子域名收集\" class=\"headerlink\" title=\"2 域名、子域名收集\"></a>2 域名、子域名收集</h1><h2 id=\"2-1-域名的备案号\"><a href=\"#2-1-域名的备案号\" class=\"headerlink\" title=\"2.1 域名的备案号\"></a>2.1 域名的备案号</h2><p><a href=\"icp.chinaz.com\">chinaz</a></p>\n<h2 id=\"2-2-子域名工具\"><a href=\"#2-2-子域名工具\" class=\"headerlink\" title=\"2.2 子域名工具\"></a>2.2 子域名工具</h2><ol>\n<li>子域名挖掘机Layer</li>\n<li>Sublist3r</li>\n<li>oneforall</li>\n</ol>\n<h2 id=\"2-3-在线子域名接口\"><a href=\"#2-3-在线子域名接口\" class=\"headerlink\" title=\"2.3 在线子域名接口\"></a>2.3 在线子域名接口</h2><ol>\n<li><a href=\"https://securitytrails.com/list/apex_domain\">https://securitytrails.com/list/apex_domain</a>  </li>\n<li><a href=\"http://ce.baidu.com/index/getRelatedSites\">http://ce.baidu.com/index/getRelatedSites</a>  </li>\n<li><a href=\"https://dnsdumpster.com/\">https://dnsdumpster.com/</a>  </li>\n<li><a href=\"https://findsubdomains.com/\">https://findsubdomains.com/</a>  </li>\n<li><a href=\"https://dnslytics.com/domain\">https://dnslytics.com/domain</a></li>\n</ol>\n<h2 id=\"2-4-其他泄露信息\"><a href=\"#2-4-其他泄露信息\" class=\"headerlink\" title=\"2.4 其他泄露信息\"></a>2.4 其他泄露信息</h2><ol>\n<li>crossdomain.xml文件</li>\n<li>爬虫递归爬取</li>\n<li>DNS域传送漏洞</li>\n</ol>\n<h2 id=\"2-5-SSL证书查询\"><a href=\"#2-5-SSL证书查询\" class=\"headerlink\" title=\"2.5 SSL证书查询\"></a>2.5 SSL证书查询</h2><ol>\n<li>不安全的站点，浏览器证书信息泄露</li>\n<li>dnsdumpster.com</li>\n</ol>\n<h1 id=\"3-APP收集\"><a href=\"#3-APP收集\" class=\"headerlink\" title=\"3 APP收集\"></a>3 APP收集</h1><h2 id=\"3-1-app信息收集和历史版本\"><a href=\"#3-1-app信息收集和历史版本\" class=\"headerlink\" title=\"3.1 app信息收集和历史版本\"></a>3.1 <code>app</code>信息收集和历史版本</h2><ul>\n<li>ios：同公司的其他产品</li>\n<li>android：酷安、碗豆荚等</li>\n</ul>\n<h2 id=\"3-2-工具\"><a href=\"#3-2-工具\" class=\"headerlink\" title=\"3.2 工具\"></a>3.2 工具</h2><blockquote>\n<p>未加密的app会扫描出大量可注入链接  </p>\n</blockquote>\n<ul>\n<li>appinfoscanner</li>\n</ul>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/appinfoscanner.png\" alt=\"appinfoscanner\">  </p>\n<h1 id=\"4-MAIL收集\"><a href=\"#4-MAIL收集\" class=\"headerlink\" title=\"4 MAIL收集\"></a>4 MAIL收集</h1><p><a href=\"https://hunter.io/\">email猎人在线</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E7%8C%8E%E4%BA%BA%E5%9C%A8%E7%BA%BF.png\" alt=\"猎人在线\">  </p>\n<p><a href=\"https://email-format.com/i/search_result/?q=\">email-format</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/email-format.png\" alt=\"email-format\"> </p>\n<h1 id=\"5-WEB收集\"><a href=\"#5-WEB收集\" class=\"headerlink\" title=\"5 WEB收集\"></a>5 WEB收集</h1><p><a href=\"https://github.com/ElevenPaths/FOCA\">FOCA</a></p>\n<h1 id=\"6-指纹识别\"><a href=\"#6-指纹识别\" class=\"headerlink\" title=\"6 指纹识别\"></a>6 指纹识别</h1><h2 id=\"6-1-第三方网站\"><a href=\"#6-1-第三方网站\" class=\"headerlink\" title=\"6.1 第三方网站\"></a>6.1 第三方网站</h2><p><a href=\"www.yunsee.cn\">云悉</a></p>\n<h2 id=\"6-2-浏览器插件\"><a href=\"#6-2-浏览器插件\" class=\"headerlink\" title=\"6.2 浏览器插件\"></a>6.2 浏览器插件</h2><ul>\n<li>wappalyzer</li>\n</ul>\n<h2 id=\"6-3-其他工具\"><a href=\"#6-3-其他工具\" class=\"headerlink\" title=\"6.3 其他工具\"></a>6.3 其他工具</h2><ul>\n<li>what-web</li>\n<li>finger</li>\n</ul>\n<h1 id=\"7-端口识别\"><a href=\"#7-端口识别\" class=\"headerlink\" title=\"7 端口识别\"></a>7 端口识别</h1><h2 id=\"7-1-常见端口\"><a href=\"#7-1-常见端口\" class=\"headerlink\" title=\"7.1 常见端口\"></a>7.1 常见端口</h2><table>\n<thead>\n<tr>\n<th>端口</th>\n<th>服务</th>\n<th>总结</th>\n<th>文档</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>21</td>\n<td>FTP&#x2F;TFTP&#x2F;VSFTPD</td>\n<td>爆破&#x2F;嗅探&#x2F;溢出&#x2F;后门</td>\n<td></td>\n</tr>\n<tr>\n<td>22</td>\n<td>SSH远程连接</td>\n<td>爆破&#x2F;openssh漏洞</td>\n<td></td>\n</tr>\n<tr>\n<td>23</td>\n<td>TELNET远程连接</td>\n<td>爆破&#x2F;嗅探&#x2F;弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>25</td>\n<td>SMTP邮件服务</td>\n<td>邮件伪造</td>\n<td></td>\n</tr>\n<tr>\n<td>53</td>\n<td>DNS域名解析系统</td>\n<td>域传送&#x2F;劫持&#x2F;缓存投毒&#x2F;欺骗</td>\n<td></td>\n</tr>\n<tr>\n<td>67&#x2F;68</td>\n<td>dhcp服务</td>\n<td>劫持&#x2F;欺骗</td>\n<td></td>\n</tr>\n<tr>\n<td>110</td>\n<td>pop3</td>\n<td>爆破&#x2F;嗅探</td>\n<td></td>\n</tr>\n<tr>\n<td>139</td>\n<td>samba服务</td>\n<td>爆破&#x2F;未授权访问&#x2F;远程命令执行</td>\n<td></td>\n</tr>\n<tr>\n<td>143</td>\n<td>Imap协议</td>\n<td>爆破JGSNMP协议爆破&#x2F;搜集目标内网信息</td>\n<td></td>\n</tr>\n<tr>\n<td>389</td>\n<td>Ldap目录访问协议</td>\n<td>注入&#x2F;未授权访问&#x2F;弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>445</td>\n<td>smb</td>\n<td>ms17-010端口溢出</td>\n<td></td>\n</tr>\n<tr>\n<td>512&#x2F;513&#x2F;514</td>\n<td>Linux Rexec服务</td>\n<td>爆破&#x2F;Rlogin登陆</td>\n<td></td>\n</tr>\n<tr>\n<td>873</td>\n<td>Rsyxc服务</td>\n<td>文件上传&#x2F;未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>1080</td>\n<td>socket</td>\n<td>爆破</td>\n<td></td>\n</tr>\n<tr>\n<td>1352</td>\n<td>Lotus domino邮件服务</td>\n<td>爆破&#x2F;信息泄漏</td>\n<td></td>\n</tr>\n<tr>\n<td>1433</td>\n<td>mssql</td>\n<td>爆破&#x2F;注入&#x2F;SA弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>1521</td>\n<td>oracle</td>\n<td>爆破&#x2F;注入&#x2F;TNS爆破&#x2F;反弹shell2O49NfS服务配置不当</td>\n<td></td>\n</tr>\n<tr>\n<td>2181</td>\n<td>zookeeper服务</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>2375</td>\n<td>docker remote api</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>3306</td>\n<td>mysql</td>\n<td>爆破&#x2F;注入</td>\n<td></td>\n</tr>\n<tr>\n<td>3389</td>\n<td>Rdp远程桌面链接</td>\n<td>爆破&#x2F;shfit后门</td>\n<td></td>\n</tr>\n<tr>\n<td>4848</td>\n<td>GassFish控制台</td>\n<td>爆破&#x2F;认证绕过</td>\n<td></td>\n</tr>\n<tr>\n<td>5000</td>\n<td>sybase&#x2F;DB2数据库</td>\n<td>爆破&#x2F;注入&#x2F;提权</td>\n<td></td>\n</tr>\n<tr>\n<td>5432</td>\n<td>postgresql</td>\n<td>爆破&#x2F;注入&#x2F;缓冲区溢出</td>\n<td></td>\n</tr>\n<tr>\n<td>5632</td>\n<td>pcanywhere服务</td>\n<td>抓密码&#x2F;代码执行</td>\n<td></td>\n</tr>\n<tr>\n<td>5900</td>\n<td>vnc</td>\n<td>爆破&#x2F;认证绕过</td>\n<td></td>\n</tr>\n<tr>\n<td>6379</td>\n<td>Redis数据库</td>\n<td>未授权访问&#x2F;爆破</td>\n<td></td>\n</tr>\n<tr>\n<td>7001&#x2F;7002</td>\n<td>weblogic</td>\n<td>反序列化&#x2F;控制台弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>80&#x2F;443</td>\n<td>http&#x2F;https</td>\n<td>web应用漏洞&#x2F;心脏滴血</td>\n<td></td>\n</tr>\n<tr>\n<td>8069</td>\n<td>zabbix服务</td>\n<td>远程命令执行&#x2F;注入</td>\n<td></td>\n</tr>\n<tr>\n<td>8161</td>\n<td>activemq</td>\n<td>弱口令&#x2F;写文件</td>\n<td></td>\n</tr>\n<tr>\n<td>8080&#x2F;8089</td>\n<td>Jboss&#x2F;Tomcat&#x2F;Resin</td>\n<td>爆破&#x2F;PUT文件上传&#x2F;反序列化</td>\n<td></td>\n</tr>\n<tr>\n<td>8083&#x2F;8086</td>\n<td>influxDB</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>9000</td>\n<td>fastcgi</td>\n<td>远程命令执行</td>\n<td></td>\n</tr>\n<tr>\n<td>9090</td>\n<td>Websphere</td>\n<td>控制台爆破&#x2F;java反序列化&#x2F;弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>9200&#x2F;9300</td>\n<td>elasticsearch</td>\n<td>远程代码执行</td>\n<td></td>\n</tr>\n<tr>\n<td>11211</td>\n<td>memcached</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>27017&#x2F;27018</td>\n<td>mongodb</td>\n<td>未授权访问&#x2F;爆破</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"7-2-扫描工具\"><a href=\"#7-2-扫描工具\" class=\"headerlink\" title=\"7.2 扫描工具\"></a>7.2 扫描工具</h2><ul>\n<li>scanport</li>\n<li>nmap</li>\n<li>masscan</li>\n<li>masnmapscan</li>\n<li>zmap</li>\n<li>御剑高速TCP端口扫描工具</li>\n<li>御剑高速端口扫描工具</li>\n<li>IISPutScanner</li>\n<li>IISPutScanner增强版-DotNetScan</li>\n</ul>\n<h1 id=\"8-口令收集\"><a href=\"#8-口令收集\" class=\"headerlink\" title=\"8 口令收集\"></a>8 口令收集</h1><h2 id=\"8-1-弱口令字典的生成\"><a href=\"#8-1-弱口令字典的生成\" class=\"headerlink\" title=\"8.1 弱口令字典的生成\"></a>8.1 弱口令字典的生成</h2><ul>\n<li><p>针对个人信息生成针对个人的密码字典<br><a href=\"https://www.bugku.com/mima/\">CTF密码生成器</a></p>\n</li>\n<li><p>白鹿社工字典生成器<br><a href=\"https://github.com/x311/BaiLu-SED-Tool\">白鹿社工字典生成器</a></p>\n</li>\n</ul>\n","site":{"data":{}},"wordcount":2774,"more":"<ul>\n<li><a href=\"#1-ip%E6%94%B6%E9%9B%86\">1 IP收集</a><ul>\n<li><a href=\"#11-%E5%88%A4%E6%96%AD%E7%9B%AE%E6%A0%87%E6%9C%89%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8cdn\">1.1 判断目标有没有使用CDN</a></li>\n<li><a href=\"#12-%E6%9F%A5%E6%89%BE%E7%9C%9F%E5%AE%9Eip\">1.2 查找真实IP</a><ul>\n<li><a href=\"#121-%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BD%91%E7%BB%9C%E6%90%9C%E7%B4%A2%E5%B9%B3%E5%8F%B0\">1.2.1 大数据网络搜索平台</a></li>\n<li><a href=\"#122-%E5%8E%86%E5%8F%B2dns%E8%AE%B0%E5%BD%95\">1.2.2 历史DNS记录</a></li>\n<li><a href=\"#123-%E4%B8%BB%E5%8A%A8%E8%BF%9E%E6%8E%A5%E6%9A%B4%E9%9C%B2%E7%9A%84%E7%9C%9F%E5%AE%9Eip\">1.2.3 主动连接暴露的真实ip</a></li>\n<li><a href=\"#124-%E5%9B%BD%E5%A4%96%E4%BB%A3%E7%90%86%E8%AE%BF%E9%97%AE\">1.2.4 国外代理访问</a></li>\n<li><a href=\"#125-%E7%BA%AF%E7%9C%9Fip%E6%95%B0%E6%8D%AE%E5%BA%93\">1.2.5 纯真ip数据库</a></li>\n</ul>\n</li>\n<li><a href=\"#13-ip%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\">1.3 IP信息收集</a><ul>\n<li><a href=\"#131-ip-%E6%AE%B5%E6%95%B4%E7%90%86\">1.3.1 IP 段整理</a></li>\n<li><a href=\"#132-c%E6%AE%B5%E6%97%81%E7%AB%99\">1.3.2 C段、旁站</a></li>\n</ul>\n</li>\n<li><a href=\"#14-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E\">1.4 搜索引擎</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%9F%9F%E5%90%8D%E5%AD%90%E5%9F%9F%E5%90%8D%E6%94%B6%E9%9B%86\">2 域名、子域名收集</a><ul>\n<li><a href=\"#21-%E5%9F%9F%E5%90%8D%E7%9A%84%E5%A4%87%E6%A1%88%E5%8F%B7\">2.1 域名的备案号</a></li>\n<li><a href=\"#22-%E5%AD%90%E5%9F%9F%E5%90%8D%E5%B7%A5%E5%85%B7\">2.2 子域名工具</a></li>\n<li><a href=\"#23-%E5%9C%A8%E7%BA%BF%E5%AD%90%E5%9F%9F%E5%90%8D%E6%8E%A5%E5%8F%A3\">2.3 在线子域名接口</a></li>\n<li><a href=\"#24-%E5%85%B6%E4%BB%96%E6%B3%84%E9%9C%B2%E4%BF%A1%E6%81%AF\">2.4 其他泄露信息</a></li>\n<li><a href=\"#25-ssl%E8%AF%81%E4%B9%A6%E6%9F%A5%E8%AF%A2\">2.5 SSL证书查询</a></li>\n</ul>\n</li>\n<li><a href=\"#3-app%E6%94%B6%E9%9B%86\">3 APP收集</a><ul>\n<li><a href=\"#31-app%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E5%92%8C%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC\">3.1 <code>app</code>信息收集和历史版本</a></li>\n<li><a href=\"#32-%E5%B7%A5%E5%85%B7\">3.2 工具</a></li>\n</ul>\n</li>\n<li><a href=\"#4-mail%E6%94%B6%E9%9B%86\">4 MAIL收集</a></li>\n<li><a href=\"#5-web%E6%94%B6%E9%9B%86\">5 WEB收集</a></li>\n<li><a href=\"#6-%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB\">6 指纹识别</a><ul>\n<li><a href=\"#61-%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BD%91%E7%AB%99\">6.1 第三方网站</a></li>\n<li><a href=\"#62-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6\">6.2 浏览器插件</a></li>\n<li><a href=\"#63-%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7\">6.3 其他工具</a></li>\n</ul>\n</li>\n<li><a href=\"#7-%E7%AB%AF%E5%8F%A3%E8%AF%86%E5%88%AB\">7 端口识别</a><ul>\n<li><a href=\"#71-%E5%B8%B8%E8%A7%81%E7%AB%AF%E5%8F%A3\">7.1 常见端口</a></li>\n<li><a href=\"#72-%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7\">7.2 扫描工具</a></li>\n</ul>\n</li>\n<li><a href=\"#8-%E5%8F%A3%E4%BB%A4%E6%94%B6%E9%9B%86\">8 口令收集</a><ul>\n<li><a href=\"#81-%E5%BC%B1%E5%8F%A3%E4%BB%A4%E5%AD%97%E5%85%B8%E7%9A%84%E7%94%9F%E6%88%90\">8.1 弱口令字典的生成</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"1-IP收集\"><a href=\"#1-IP收集\" class=\"headerlink\" title=\"1 IP收集\"></a>1 IP收集</h1><h2 id=\"1-1-判断目标有没有使用CDN\"><a href=\"#1-1-判断目标有没有使用CDN\" class=\"headerlink\" title=\"1.1 判断目标有没有使用CDN\"></a>1.1 判断目标有没有使用CDN</h2><p><a href=\"https://ping.chinaz.com/\">全球ping</a></p>\n<p>以 <code>baidu.com</code> 为例，全球ping结果显示如下，其中ip归属地皆为<code>中国北京海淀 电信</code>，但是ip地址不同，则可以确定为使用了CDN，如果结果显示ip归属地在不同地址，也可以确定为使用了CDN：</p>\n<table>\n<thead>\n<tr>\n<th>监测点</th>\n<th>响应IP</th>\n<th>IP归属地</th>\n<th>响应时间</th>\n<th>TTL</th>\n<th>赞助商</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>四川绵阳[电信]</td>\n<td>220.181.38.251</td>\n<td>中国北京海淀 电信</td>\n<td>35ms</td>\n<td>53ms</td>\n<td></td>\n</tr>\n<tr>\n<td>河南洛阳[多线]</td>\n<td>220.181.38.148</td>\n<td>中国北京海淀 电信</td>\n<td>23ms</td>\n<td>52ms</td>\n<td></td>\n</tr>\n<tr>\n<td>江苏镇江[多线]</td>\n<td>220.181.38.251</td>\n<td>中国北京海淀 电信</td>\n<td>32ms</td>\n<td>49ms</td>\n<td></td>\n</tr>\n<tr>\n<td>江苏镇江[电信]</td>\n<td>220.181.38.148</td>\n<td>中国北京海淀 电信</td>\n<td>27ms</td>\n<td>50ms</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"1-2-查找真实IP\"><a href=\"#1-2-查找真实IP\" class=\"headerlink\" title=\"1.2 查找真实IP\"></a>1.2 查找真实IP</h2><blockquote>\n<p>Tips:找到真实ip，绑定host，可以打开目标网站就是真实ip</p>\n</blockquote>\n<h3 id=\"1-2-1-大数据网络搜索平台\"><a href=\"#1-2-1-大数据网络搜索平台\" class=\"headerlink\" title=\"1.2.1 大数据网络搜索平台\"></a>1.2.1 大数据网络搜索平台</h3><p>以有道为例：</p>\n<p><a href=\"https://zoomeye.org/\">钟馗之眼</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E9%92%9F%E9%A6%97%E4%B9%8B%E7%9C%BC.png\" alt=\"钟馗之眼\"></p>\n<p><a href=\"https://www.censys.io/\">censys</a></p>\n<p><a href=\"https://fofa.info/\">FOFA</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/fofa.png\" alt=\"fofa\"></p>\n<p><a href=\"https://www.shodan.io/\">shodan</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/shodan.png\" alt=\"shodan\"></p>\n<h3 id=\"1-2-2-历史DNS记录\"><a href=\"#1-2-2-历史DNS记录\" class=\"headerlink\" title=\"1.2.2 历史DNS记录\"></a>1.2.2 历史DNS记录</h3><blockquote>\n<p>最早解析的ip地址为真实ip地址，(可能会存在使用CDN前的ip地址)  </p>\n</blockquote>\n<p><a href=\"https://dnsdb.io/zh-cn\">全球DNS搜索引擎</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E5%85%A8%E7%90%83DNS%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.png\" alt=\"全球DNS搜索引擎\"></p>\n<p><a href=\"https://x.threatbook.cn/\">情报社区</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E5%BE%AE%E6%AD%A5%E5%9C%A8%E7%BA%BF.png\" alt=\"微步在线\"></p>\n<p><a href=\"https://toolbar.netcraft.com/site_report?url=\">Netcraft</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/Netcraft.png\" alt=\"Netcraft\"></p>\n<p><a href=\"http://viewdns.info/\">viewdnsinfo</a>  </p>\n<p><a href=\"https://github.com/3xp10it/xcdn\">xcdn</a>  </p>\n<p><a href=\"http://bobao.360.cn/learning/detail/221.html\">zmap</a>  </p>\n<h3 id=\"1-2-3-主动连接暴露的真实ip\"><a href=\"#1-2-3-主动连接暴露的真实ip\" class=\"headerlink\" title=\"1.2.3 主动连接暴露的真实ip\"></a>1.2.3 主动连接暴露的真实ip</h3><ul>\n<li>注册网站邮件验证(显示邮件原文，from字段为真实ip)</li>\n<li>RSS</li>\n<li>订阅网站</li>\n</ul>\n<h3 id=\"1-2-4-国外代理访问\"><a href=\"#1-2-4-国外代理访问\" class=\"headerlink\" title=\"1.2.4 国外代理访问\"></a>1.2.4 国外代理访问</h3><p>国内的CDN往往只针对国内用户访问加速，有时候通过国外的DNS解析可以得到真实IP</p>\n<h3 id=\"1-2-5-纯真ip数据库\"><a href=\"#1-2-5-纯真ip数据库\" class=\"headerlink\" title=\"1.2.5 纯真ip数据库\"></a>1.2.5 纯真ip数据库</h3><h2 id=\"1-3-IP信息收集\"><a href=\"#1-3-IP信息收集\" class=\"headerlink\" title=\"1.3 IP信息收集\"></a>1.3 IP信息收集</h2><h3 id=\"1-3-1-IP-段整理\"><a href=\"#1-3-1-IP-段整理\" class=\"headerlink\" title=\"1.3.1 IP 段整理\"></a>1.3.1 IP 段整理</h3><p><a href=\"https://ipwhois.cnnic.net.cn/\">CNNICIP</a></p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/ip%E6%AE%B5.png\" alt=\"ip段\"></p>\n<h3 id=\"1-3-2-C段、旁站\"><a href=\"#1-3-2-C段、旁站\" class=\"headerlink\" title=\"1.3.2 C段、旁站\"></a>1.3.2 C段、旁站</h3><p><a href=\"http://www.webscan.cc/\">WebScan</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/WebScan.png\" alt=\"WebScan\"></p>\n<p><a href=\"https://chapangzhan.com/\">查旁站</a>  </p>\n<h2 id=\"1-4-搜索引擎\"><a href=\"#1-4-搜索引擎\" class=\"headerlink\" title=\"1.4 搜索引擎\"></a>1.4 搜索引擎</h2><p><a href=\"https://scholar.google.com.ph/\">google学术</a></p>\n<h1 id=\"2-域名、子域名收集\"><a href=\"#2-域名、子域名收集\" class=\"headerlink\" title=\"2 域名、子域名收集\"></a>2 域名、子域名收集</h1><h2 id=\"2-1-域名的备案号\"><a href=\"#2-1-域名的备案号\" class=\"headerlink\" title=\"2.1 域名的备案号\"></a>2.1 域名的备案号</h2><p><a href=\"icp.chinaz.com\">chinaz</a></p>\n<h2 id=\"2-2-子域名工具\"><a href=\"#2-2-子域名工具\" class=\"headerlink\" title=\"2.2 子域名工具\"></a>2.2 子域名工具</h2><ol>\n<li>子域名挖掘机Layer</li>\n<li>Sublist3r</li>\n<li>oneforall</li>\n</ol>\n<h2 id=\"2-3-在线子域名接口\"><a href=\"#2-3-在线子域名接口\" class=\"headerlink\" title=\"2.3 在线子域名接口\"></a>2.3 在线子域名接口</h2><ol>\n<li><a href=\"https://securitytrails.com/list/apex_domain\">https://securitytrails.com/list/apex_domain</a>  </li>\n<li><a href=\"http://ce.baidu.com/index/getRelatedSites\">http://ce.baidu.com/index/getRelatedSites</a>  </li>\n<li><a href=\"https://dnsdumpster.com/\">https://dnsdumpster.com/</a>  </li>\n<li><a href=\"https://findsubdomains.com/\">https://findsubdomains.com/</a>  </li>\n<li><a href=\"https://dnslytics.com/domain\">https://dnslytics.com/domain</a></li>\n</ol>\n<h2 id=\"2-4-其他泄露信息\"><a href=\"#2-4-其他泄露信息\" class=\"headerlink\" title=\"2.4 其他泄露信息\"></a>2.4 其他泄露信息</h2><ol>\n<li>crossdomain.xml文件</li>\n<li>爬虫递归爬取</li>\n<li>DNS域传送漏洞</li>\n</ol>\n<h2 id=\"2-5-SSL证书查询\"><a href=\"#2-5-SSL证书查询\" class=\"headerlink\" title=\"2.5 SSL证书查询\"></a>2.5 SSL证书查询</h2><ol>\n<li>不安全的站点，浏览器证书信息泄露</li>\n<li>dnsdumpster.com</li>\n</ol>\n<h1 id=\"3-APP收集\"><a href=\"#3-APP收集\" class=\"headerlink\" title=\"3 APP收集\"></a>3 APP收集</h1><h2 id=\"3-1-app信息收集和历史版本\"><a href=\"#3-1-app信息收集和历史版本\" class=\"headerlink\" title=\"3.1 app信息收集和历史版本\"></a>3.1 <code>app</code>信息收集和历史版本</h2><ul>\n<li>ios：同公司的其他产品</li>\n<li>android：酷安、碗豆荚等</li>\n</ul>\n<h2 id=\"3-2-工具\"><a href=\"#3-2-工具\" class=\"headerlink\" title=\"3.2 工具\"></a>3.2 工具</h2><blockquote>\n<p>未加密的app会扫描出大量可注入链接  </p>\n</blockquote>\n<ul>\n<li>appinfoscanner</li>\n</ul>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/appinfoscanner.png\" alt=\"appinfoscanner\">  </p>\n<h1 id=\"4-MAIL收集\"><a href=\"#4-MAIL收集\" class=\"headerlink\" title=\"4 MAIL收集\"></a>4 MAIL收集</h1><p><a href=\"https://hunter.io/\">email猎人在线</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E7%8C%8E%E4%BA%BA%E5%9C%A8%E7%BA%BF.png\" alt=\"猎人在线\">  </p>\n<p><a href=\"https://email-format.com/i/search_result/?q=\">email-format</a>  </p>\n<p><img src=\"/img/article/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/email-format.png\" alt=\"email-format\"> </p>\n<h1 id=\"5-WEB收集\"><a href=\"#5-WEB收集\" class=\"headerlink\" title=\"5 WEB收集\"></a>5 WEB收集</h1><p><a href=\"https://github.com/ElevenPaths/FOCA\">FOCA</a></p>\n<h1 id=\"6-指纹识别\"><a href=\"#6-指纹识别\" class=\"headerlink\" title=\"6 指纹识别\"></a>6 指纹识别</h1><h2 id=\"6-1-第三方网站\"><a href=\"#6-1-第三方网站\" class=\"headerlink\" title=\"6.1 第三方网站\"></a>6.1 第三方网站</h2><p><a href=\"www.yunsee.cn\">云悉</a></p>\n<h2 id=\"6-2-浏览器插件\"><a href=\"#6-2-浏览器插件\" class=\"headerlink\" title=\"6.2 浏览器插件\"></a>6.2 浏览器插件</h2><ul>\n<li>wappalyzer</li>\n</ul>\n<h2 id=\"6-3-其他工具\"><a href=\"#6-3-其他工具\" class=\"headerlink\" title=\"6.3 其他工具\"></a>6.3 其他工具</h2><ul>\n<li>what-web</li>\n<li>finger</li>\n</ul>\n<h1 id=\"7-端口识别\"><a href=\"#7-端口识别\" class=\"headerlink\" title=\"7 端口识别\"></a>7 端口识别</h1><h2 id=\"7-1-常见端口\"><a href=\"#7-1-常见端口\" class=\"headerlink\" title=\"7.1 常见端口\"></a>7.1 常见端口</h2><table>\n<thead>\n<tr>\n<th>端口</th>\n<th>服务</th>\n<th>总结</th>\n<th>文档</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>21</td>\n<td>FTP&#x2F;TFTP&#x2F;VSFTPD</td>\n<td>爆破&#x2F;嗅探&#x2F;溢出&#x2F;后门</td>\n<td></td>\n</tr>\n<tr>\n<td>22</td>\n<td>SSH远程连接</td>\n<td>爆破&#x2F;openssh漏洞</td>\n<td></td>\n</tr>\n<tr>\n<td>23</td>\n<td>TELNET远程连接</td>\n<td>爆破&#x2F;嗅探&#x2F;弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>25</td>\n<td>SMTP邮件服务</td>\n<td>邮件伪造</td>\n<td></td>\n</tr>\n<tr>\n<td>53</td>\n<td>DNS域名解析系统</td>\n<td>域传送&#x2F;劫持&#x2F;缓存投毒&#x2F;欺骗</td>\n<td></td>\n</tr>\n<tr>\n<td>67&#x2F;68</td>\n<td>dhcp服务</td>\n<td>劫持&#x2F;欺骗</td>\n<td></td>\n</tr>\n<tr>\n<td>110</td>\n<td>pop3</td>\n<td>爆破&#x2F;嗅探</td>\n<td></td>\n</tr>\n<tr>\n<td>139</td>\n<td>samba服务</td>\n<td>爆破&#x2F;未授权访问&#x2F;远程命令执行</td>\n<td></td>\n</tr>\n<tr>\n<td>143</td>\n<td>Imap协议</td>\n<td>爆破JGSNMP协议爆破&#x2F;搜集目标内网信息</td>\n<td></td>\n</tr>\n<tr>\n<td>389</td>\n<td>Ldap目录访问协议</td>\n<td>注入&#x2F;未授权访问&#x2F;弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>445</td>\n<td>smb</td>\n<td>ms17-010端口溢出</td>\n<td></td>\n</tr>\n<tr>\n<td>512&#x2F;513&#x2F;514</td>\n<td>Linux Rexec服务</td>\n<td>爆破&#x2F;Rlogin登陆</td>\n<td></td>\n</tr>\n<tr>\n<td>873</td>\n<td>Rsyxc服务</td>\n<td>文件上传&#x2F;未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>1080</td>\n<td>socket</td>\n<td>爆破</td>\n<td></td>\n</tr>\n<tr>\n<td>1352</td>\n<td>Lotus domino邮件服务</td>\n<td>爆破&#x2F;信息泄漏</td>\n<td></td>\n</tr>\n<tr>\n<td>1433</td>\n<td>mssql</td>\n<td>爆破&#x2F;注入&#x2F;SA弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>1521</td>\n<td>oracle</td>\n<td>爆破&#x2F;注入&#x2F;TNS爆破&#x2F;反弹shell2O49NfS服务配置不当</td>\n<td></td>\n</tr>\n<tr>\n<td>2181</td>\n<td>zookeeper服务</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>2375</td>\n<td>docker remote api</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>3306</td>\n<td>mysql</td>\n<td>爆破&#x2F;注入</td>\n<td></td>\n</tr>\n<tr>\n<td>3389</td>\n<td>Rdp远程桌面链接</td>\n<td>爆破&#x2F;shfit后门</td>\n<td></td>\n</tr>\n<tr>\n<td>4848</td>\n<td>GassFish控制台</td>\n<td>爆破&#x2F;认证绕过</td>\n<td></td>\n</tr>\n<tr>\n<td>5000</td>\n<td>sybase&#x2F;DB2数据库</td>\n<td>爆破&#x2F;注入&#x2F;提权</td>\n<td></td>\n</tr>\n<tr>\n<td>5432</td>\n<td>postgresql</td>\n<td>爆破&#x2F;注入&#x2F;缓冲区溢出</td>\n<td></td>\n</tr>\n<tr>\n<td>5632</td>\n<td>pcanywhere服务</td>\n<td>抓密码&#x2F;代码执行</td>\n<td></td>\n</tr>\n<tr>\n<td>5900</td>\n<td>vnc</td>\n<td>爆破&#x2F;认证绕过</td>\n<td></td>\n</tr>\n<tr>\n<td>6379</td>\n<td>Redis数据库</td>\n<td>未授权访问&#x2F;爆破</td>\n<td></td>\n</tr>\n<tr>\n<td>7001&#x2F;7002</td>\n<td>weblogic</td>\n<td>反序列化&#x2F;控制台弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>80&#x2F;443</td>\n<td>http&#x2F;https</td>\n<td>web应用漏洞&#x2F;心脏滴血</td>\n<td></td>\n</tr>\n<tr>\n<td>8069</td>\n<td>zabbix服务</td>\n<td>远程命令执行&#x2F;注入</td>\n<td></td>\n</tr>\n<tr>\n<td>8161</td>\n<td>activemq</td>\n<td>弱口令&#x2F;写文件</td>\n<td></td>\n</tr>\n<tr>\n<td>8080&#x2F;8089</td>\n<td>Jboss&#x2F;Tomcat&#x2F;Resin</td>\n<td>爆破&#x2F;PUT文件上传&#x2F;反序列化</td>\n<td></td>\n</tr>\n<tr>\n<td>8083&#x2F;8086</td>\n<td>influxDB</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>9000</td>\n<td>fastcgi</td>\n<td>远程命令执行</td>\n<td></td>\n</tr>\n<tr>\n<td>9090</td>\n<td>Websphere</td>\n<td>控制台爆破&#x2F;java反序列化&#x2F;弱口令</td>\n<td></td>\n</tr>\n<tr>\n<td>9200&#x2F;9300</td>\n<td>elasticsearch</td>\n<td>远程代码执行</td>\n<td></td>\n</tr>\n<tr>\n<td>11211</td>\n<td>memcached</td>\n<td>未授权访问</td>\n<td></td>\n</tr>\n<tr>\n<td>27017&#x2F;27018</td>\n<td>mongodb</td>\n<td>未授权访问&#x2F;爆破</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"7-2-扫描工具\"><a href=\"#7-2-扫描工具\" class=\"headerlink\" title=\"7.2 扫描工具\"></a>7.2 扫描工具</h2><ul>\n<li>scanport</li>\n<li>nmap</li>\n<li>masscan</li>\n<li>masnmapscan</li>\n<li>zmap</li>\n<li>御剑高速TCP端口扫描工具</li>\n<li>御剑高速端口扫描工具</li>\n<li>IISPutScanner</li>\n<li>IISPutScanner增强版-DotNetScan</li>\n</ul>\n<h1 id=\"8-口令收集\"><a href=\"#8-口令收集\" class=\"headerlink\" title=\"8 口令收集\"></a>8 口令收集</h1><h2 id=\"8-1-弱口令字典的生成\"><a href=\"#8-1-弱口令字典的生成\" class=\"headerlink\" title=\"8.1 弱口令字典的生成\"></a>8.1 弱口令字典的生成</h2><ul>\n<li><p>针对个人信息生成针对个人的密码字典<br><a href=\"https://www.bugku.com/mima/\">CTF密码生成器</a></p>\n</li>\n<li><p>白鹿社工字典生成器<br><a href=\"https://github.com/x311/BaiLu-SED-Tool\">白鹿社工字典生成器</a></p>\n</li>\n</ul>\n"},{"title":"经典漏洞-弱口令","excerpt":"默认弱口令及实战思路等……","index_img":"/img/article-head/弱口令.jpeg","date":"2022-06-17T02:46:25.000Z","updated":"2022-06-23T06:46:25.000Z","hide":false,"_content":"\n- [1 默认弱口令](#1-默认弱口令)\n  - [1.1 web容器后台弱口令](#11-web容器后台弱口令)\n  - [1.2 安全设备弱口令](#12-安全设备弱口令)\n- [2 实战思路](#2-实战思路)\n  - [2.1 字典生成](#21-字典生成)\n  - [2.2 批量爆破工具](#22-批量爆破工具)\n\n# 1 默认弱口令\n\n## 1.1 web容器后台弱口令\n\n常见中间件 | 管理端口 | 后台地址 | 默认账号名密码\n| - | - | - | - |\nJboss | 8080 | http://ip:8080/web-console/<br>http://ip:8080/jmx-console/<br>http://ip:8080/console | admin/admin\nWebSphere | 9060(控制台端口)<br>9043<br>9080<br>9443<br>2809<br>5060<br>5061<br>8880<br>9401<br>9403<br>9402<br>9100<br>9353<br>7276<br>7286<br>5558<br>5578 | http://ip:9060/ibm/console/ | 默认没有鉴权页面\nWeblogic | 7001(http管理控制端口)<br>7002(https管理控制端口) | http://ip:7001/console | weblogic/weblogic1<br>weblogic/weblogic<br>system/system<br>portaladmin/portaladmin<br>guest/guest\nTomcat | 8080 | http://ip:8080/manager/html | tomcat/tomcat<br>both/tomcat<br>role1/tomcat<br>manager/admin\n\n## 1.2 安全设备弱口令\n\n产品 | 登录地址 | 默认账号名密码 | 技术支持热线\n| - | - | - | - |\n天融信防火墙 | https://192.168.1.254<br>https://192.168.1.254:8080 | superman/talent<br>superman/talent!23 | 8008105119\n联想网御防火墙(需要证书) | https://10.1.5.254:8889 | admin/leadsec@7766<br>admin/administrator<br>admin/bane@7766 | 4008107766<br>01056632666\n深信服防火墙 | https://10.251.251.251<br>https://10.254.254.254 | admin/admin | 4006306430\n启明星辰  | https://10.1.5.254:8889<br>https://10.50.10.45:8889 | admin/bane＠7766 admin/admin＠123 | 10.50.10.44/255.255.255.0<br>技术支持热线:4006243900\njuniper | https://192.168.1.1 | netscreen/netscreen |\nCisco | https://192.168.0.1 | admin/cisco |\nHuawei | http://192.168.0.1 | admin/Admin＠123 |\nH3C | http://192.168.0.1 | admin/admin | 4006306430\n绿盟IPS | https://192.168.1.101 | weboper/weboper | 配置重启生效 \n网神防火墙GE1口 | https://10.50.10.45 | admin/firewall | 4006108220\n深信服VPN | 51111端口 | delanrecover |\n华为VPN | | root/mduadmin |\n华为防火墙 | | admin/Admin＠123<br>eudemon/eudemon |\nJuniper防火墙 | | netscreen/netscreen |\n迪普 | 192.168.0.1 | admin／admin＿default | \n山石 | 192.168.1.1 | hillstone/hillstone \n安恒的明御防火墙 | | admin／adminadmin |\n某堡垒机 | | shterm／shterm |\n天融信的vpn | | test／123456 | \n\n# 2 实战思路\n\n- 授权项目\n1. ip地址\n2. 踩点获得人员姓名及生日\n\n## 2.1 字典生成\n\n- 人员姓名大小写加生日的弱口令\n- 常规弱口令\n\n## 2.2 批量爆破工具\n\n- SNETCracker\n\n\n\n\n\n\n","source":"_posts/2022-06-17.经典漏洞-弱口令.md","raw":"---\ntitle: 经典漏洞-弱口令\nexcerpt: 默认弱口令及实战思路等……\nindex_img: /img/article-head/弱口令.jpeg\ndate: \"2022/6/17 10:46:25\"\nupdated: \"2022/6/23 14:46:25\"\nhide: false\ntags:\n- Security\n- PenTest\n- 经典漏洞\ncategories:\n- Security\n- PenTest\n- 经典漏洞\n---\n\n- [1 默认弱口令](#1-默认弱口令)\n  - [1.1 web容器后台弱口令](#11-web容器后台弱口令)\n  - [1.2 安全设备弱口令](#12-安全设备弱口令)\n- [2 实战思路](#2-实战思路)\n  - [2.1 字典生成](#21-字典生成)\n  - [2.2 批量爆破工具](#22-批量爆破工具)\n\n# 1 默认弱口令\n\n## 1.1 web容器后台弱口令\n\n常见中间件 | 管理端口 | 后台地址 | 默认账号名密码\n| - | - | - | - |\nJboss | 8080 | http://ip:8080/web-console/<br>http://ip:8080/jmx-console/<br>http://ip:8080/console | admin/admin\nWebSphere | 9060(控制台端口)<br>9043<br>9080<br>9443<br>2809<br>5060<br>5061<br>8880<br>9401<br>9403<br>9402<br>9100<br>9353<br>7276<br>7286<br>5558<br>5578 | http://ip:9060/ibm/console/ | 默认没有鉴权页面\nWeblogic | 7001(http管理控制端口)<br>7002(https管理控制端口) | http://ip:7001/console | weblogic/weblogic1<br>weblogic/weblogic<br>system/system<br>portaladmin/portaladmin<br>guest/guest\nTomcat | 8080 | http://ip:8080/manager/html | tomcat/tomcat<br>both/tomcat<br>role1/tomcat<br>manager/admin\n\n## 1.2 安全设备弱口令\n\n产品 | 登录地址 | 默认账号名密码 | 技术支持热线\n| - | - | - | - |\n天融信防火墙 | https://192.168.1.254<br>https://192.168.1.254:8080 | superman/talent<br>superman/talent!23 | 8008105119\n联想网御防火墙(需要证书) | https://10.1.5.254:8889 | admin/leadsec@7766<br>admin/administrator<br>admin/bane@7766 | 4008107766<br>01056632666\n深信服防火墙 | https://10.251.251.251<br>https://10.254.254.254 | admin/admin | 4006306430\n启明星辰  | https://10.1.5.254:8889<br>https://10.50.10.45:8889 | admin/bane＠7766 admin/admin＠123 | 10.50.10.44/255.255.255.0<br>技术支持热线:4006243900\njuniper | https://192.168.1.1 | netscreen/netscreen |\nCisco | https://192.168.0.1 | admin/cisco |\nHuawei | http://192.168.0.1 | admin/Admin＠123 |\nH3C | http://192.168.0.1 | admin/admin | 4006306430\n绿盟IPS | https://192.168.1.101 | weboper/weboper | 配置重启生效 \n网神防火墙GE1口 | https://10.50.10.45 | admin/firewall | 4006108220\n深信服VPN | 51111端口 | delanrecover |\n华为VPN | | root/mduadmin |\n华为防火墙 | | admin/Admin＠123<br>eudemon/eudemon |\nJuniper防火墙 | | netscreen/netscreen |\n迪普 | 192.168.0.1 | admin／admin＿default | \n山石 | 192.168.1.1 | hillstone/hillstone \n安恒的明御防火墙 | | admin／adminadmin |\n某堡垒机 | | shterm／shterm |\n天融信的vpn | | test／123456 | \n\n# 2 实战思路\n\n- 授权项目\n1. ip地址\n2. 踩点获得人员姓名及生日\n\n## 2.1 字典生成\n\n- 人员姓名大小写加生日的弱口令\n- 常规弱口令\n\n## 2.2 批量爆破工具\n\n- SNETCracker\n\n\n\n\n\n\n","slug":"2022-06-17.经典漏洞-弱口令","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5ke3u9p0002t2naex49dxiw","content":"<ul>\n<li><a href=\"#1-%E9%BB%98%E8%AE%A4%E5%BC%B1%E5%8F%A3%E4%BB%A4\">1 默认弱口令</a><ul>\n<li><a href=\"#11-web%E5%AE%B9%E5%99%A8%E5%90%8E%E5%8F%B0%E5%BC%B1%E5%8F%A3%E4%BB%A4\">1.1 web容器后台弱口令</a></li>\n<li><a href=\"#12-%E5%AE%89%E5%85%A8%E8%AE%BE%E5%A4%87%E5%BC%B1%E5%8F%A3%E4%BB%A4\">1.2 安全设备弱口令</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%9E%E6%88%98%E6%80%9D%E8%B7%AF\">2 实战思路</a><ul>\n<li><a href=\"#21-%E5%AD%97%E5%85%B8%E7%94%9F%E6%88%90\">2.1 字典生成</a></li>\n<li><a href=\"#22-%E6%89%B9%E9%87%8F%E7%88%86%E7%A0%B4%E5%B7%A5%E5%85%B7\">2.2 批量爆破工具</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"1-默认弱口令\"><a href=\"#1-默认弱口令\" class=\"headerlink\" title=\"1 默认弱口令\"></a>1 默认弱口令</h1><h2 id=\"1-1-web容器后台弱口令\"><a href=\"#1-1-web容器后台弱口令\" class=\"headerlink\" title=\"1.1 web容器后台弱口令\"></a>1.1 web容器后台弱口令</h2><table>\n<thead>\n<tr>\n<th>常见中间件</th>\n<th>管理端口</th>\n<th>后台地址</th>\n<th>默认账号名密码</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Jboss</td>\n<td>8080</td>\n<td><a href=\"http://ip:8080/web-console/\">http://ip:8080/web-console/</a><br><a href=\"http://ip:8080/jmx-console/\">http://ip:8080/jmx-console/</a><br><a href=\"http://ip:8080/console\">http://ip:8080/console</a></td>\n<td>admin&#x2F;admin</td>\n</tr>\n<tr>\n<td>WebSphere</td>\n<td>9060(控制台端口)<br>9043<br>9080<br>9443<br>2809<br>5060<br>5061<br>8880<br>9401<br>9403<br>9402<br>9100<br>9353<br>7276<br>7286<br>5558<br>5578</td>\n<td><a href=\"http://ip:9060/ibm/console/\">http://ip:9060/ibm/console/</a></td>\n<td>默认没有鉴权页面</td>\n</tr>\n<tr>\n<td>Weblogic</td>\n<td>7001(http管理控制端口)<br>7002(https管理控制端口)</td>\n<td><a href=\"http://ip:7001/console\">http://ip:7001/console</a></td>\n<td>weblogic&#x2F;weblogic1<br>weblogic&#x2F;weblogic<br>system&#x2F;system<br>portaladmin&#x2F;portaladmin<br>guest&#x2F;guest</td>\n</tr>\n<tr>\n<td>Tomcat</td>\n<td>8080</td>\n<td><a href=\"http://ip:8080/manager/html\">http://ip:8080/manager/html</a></td>\n<td>tomcat&#x2F;tomcat<br>both&#x2F;tomcat<br>role1&#x2F;tomcat<br>manager&#x2F;admin</td>\n</tr>\n</tbody></table>\n<h2 id=\"1-2-安全设备弱口令\"><a href=\"#1-2-安全设备弱口令\" class=\"headerlink\" title=\"1.2 安全设备弱口令\"></a>1.2 安全设备弱口令</h2><table>\n<thead>\n<tr>\n<th>产品</th>\n<th>登录地址</th>\n<th>默认账号名密码</th>\n<th>技术支持热线</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>天融信防火墙</td>\n<td><a href=\"https://192.168.1.254/\">https://192.168.1.254</a><br><a href=\"https://192.168.1.254:8080/\">https://192.168.1.254:8080</a></td>\n<td>superman&#x2F;talent<br>superman&#x2F;talent!23</td>\n<td>8008105119</td>\n</tr>\n<tr>\n<td>联想网御防火墙(需要证书)</td>\n<td><a href=\"https://10.1.5.254:8889/\">https://10.1.5.254:8889</a></td>\n<td>admin&#x2F;leadsec@7766<br>admin&#x2F;administrator<br>admin&#x2F;bane@7766</td>\n<td>4008107766<br>01056632666</td>\n</tr>\n<tr>\n<td>深信服防火墙</td>\n<td><a href=\"https://10.251.251.251/\">https://10.251.251.251</a><br><a href=\"https://10.254.254.254/\">https://10.254.254.254</a></td>\n<td>admin&#x2F;admin</td>\n<td>4006306430</td>\n</tr>\n<tr>\n<td>启明星辰</td>\n<td><a href=\"https://10.1.5.254:8889/\">https://10.1.5.254:8889</a><br><a href=\"https://10.50.10.45:8889/\">https://10.50.10.45:8889</a></td>\n<td>admin&#x2F;bane＠7766 admin&#x2F;admin＠123</td>\n<td>10.50.10.44&#x2F;255.255.255.0<br>技术支持热线:4006243900</td>\n</tr>\n<tr>\n<td>juniper</td>\n<td><a href=\"https://192.168.1.1/\">https://192.168.1.1</a></td>\n<td>netscreen&#x2F;netscreen</td>\n<td></td>\n</tr>\n<tr>\n<td>Cisco</td>\n<td><a href=\"https://192.168.0.1/\">https://192.168.0.1</a></td>\n<td>admin&#x2F;cisco</td>\n<td></td>\n</tr>\n<tr>\n<td>Huawei</td>\n<td><a href=\"http://192.168.0.1/\">http://192.168.0.1</a></td>\n<td>admin&#x2F;Admin＠123</td>\n<td></td>\n</tr>\n<tr>\n<td>H3C</td>\n<td><a href=\"http://192.168.0.1/\">http://192.168.0.1</a></td>\n<td>admin&#x2F;admin</td>\n<td>4006306430</td>\n</tr>\n<tr>\n<td>绿盟IPS</td>\n<td><a href=\"https://192.168.1.101/\">https://192.168.1.101</a></td>\n<td>weboper&#x2F;weboper</td>\n<td>配置重启生效</td>\n</tr>\n<tr>\n<td>网神防火墙GE1口</td>\n<td><a href=\"https://10.50.10.45/\">https://10.50.10.45</a></td>\n<td>admin&#x2F;firewall</td>\n<td>4006108220</td>\n</tr>\n<tr>\n<td>深信服VPN</td>\n<td>51111端口</td>\n<td>delanrecover</td>\n<td></td>\n</tr>\n<tr>\n<td>华为VPN</td>\n<td></td>\n<td>root&#x2F;mduadmin</td>\n<td></td>\n</tr>\n<tr>\n<td>华为防火墙</td>\n<td></td>\n<td>admin&#x2F;Admin＠123<br>eudemon&#x2F;eudemon</td>\n<td></td>\n</tr>\n<tr>\n<td>Juniper防火墙</td>\n<td></td>\n<td>netscreen&#x2F;netscreen</td>\n<td></td>\n</tr>\n<tr>\n<td>迪普</td>\n<td>192.168.0.1</td>\n<td>admin／admin＿default</td>\n<td></td>\n</tr>\n<tr>\n<td>山石</td>\n<td>192.168.1.1</td>\n<td>hillstone&#x2F;hillstone</td>\n<td></td>\n</tr>\n<tr>\n<td>安恒的明御防火墙</td>\n<td></td>\n<td>admin／adminadmin</td>\n<td></td>\n</tr>\n<tr>\n<td>某堡垒机</td>\n<td></td>\n<td>shterm／shterm</td>\n<td></td>\n</tr>\n<tr>\n<td>天融信的vpn</td>\n<td></td>\n<td>test／123456</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"2-实战思路\"><a href=\"#2-实战思路\" class=\"headerlink\" title=\"2 实战思路\"></a>2 实战思路</h1><ul>\n<li>授权项目</li>\n</ul>\n<ol>\n<li>ip地址</li>\n<li>踩点获得人员姓名及生日</li>\n</ol>\n<h2 id=\"2-1-字典生成\"><a href=\"#2-1-字典生成\" class=\"headerlink\" title=\"2.1 字典生成\"></a>2.1 字典生成</h2><ul>\n<li>人员姓名大小写加生日的弱口令</li>\n<li>常规弱口令</li>\n</ul>\n<h2 id=\"2-2-批量爆破工具\"><a href=\"#2-2-批量爆破工具\" class=\"headerlink\" title=\"2.2 批量爆破工具\"></a>2.2 批量爆破工具</h2><ul>\n<li>SNETCracker</li>\n</ul>\n","site":{"data":{}},"wordcount":1673,"more":"<ul>\n<li><a href=\"#1-%E9%BB%98%E8%AE%A4%E5%BC%B1%E5%8F%A3%E4%BB%A4\">1 默认弱口令</a><ul>\n<li><a href=\"#11-web%E5%AE%B9%E5%99%A8%E5%90%8E%E5%8F%B0%E5%BC%B1%E5%8F%A3%E4%BB%A4\">1.1 web容器后台弱口令</a></li>\n<li><a href=\"#12-%E5%AE%89%E5%85%A8%E8%AE%BE%E5%A4%87%E5%BC%B1%E5%8F%A3%E4%BB%A4\">1.2 安全设备弱口令</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%9E%E6%88%98%E6%80%9D%E8%B7%AF\">2 实战思路</a><ul>\n<li><a href=\"#21-%E5%AD%97%E5%85%B8%E7%94%9F%E6%88%90\">2.1 字典生成</a></li>\n<li><a href=\"#22-%E6%89%B9%E9%87%8F%E7%88%86%E7%A0%B4%E5%B7%A5%E5%85%B7\">2.2 批量爆破工具</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"1-默认弱口令\"><a href=\"#1-默认弱口令\" class=\"headerlink\" title=\"1 默认弱口令\"></a>1 默认弱口令</h1><h2 id=\"1-1-web容器后台弱口令\"><a href=\"#1-1-web容器后台弱口令\" class=\"headerlink\" title=\"1.1 web容器后台弱口令\"></a>1.1 web容器后台弱口令</h2><table>\n<thead>\n<tr>\n<th>常见中间件</th>\n<th>管理端口</th>\n<th>后台地址</th>\n<th>默认账号名密码</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Jboss</td>\n<td>8080</td>\n<td><a href=\"http://ip:8080/web-console/\">http://ip:8080/web-console/</a><br><a href=\"http://ip:8080/jmx-console/\">http://ip:8080/jmx-console/</a><br><a href=\"http://ip:8080/console\">http://ip:8080/console</a></td>\n<td>admin&#x2F;admin</td>\n</tr>\n<tr>\n<td>WebSphere</td>\n<td>9060(控制台端口)<br>9043<br>9080<br>9443<br>2809<br>5060<br>5061<br>8880<br>9401<br>9403<br>9402<br>9100<br>9353<br>7276<br>7286<br>5558<br>5578</td>\n<td><a href=\"http://ip:9060/ibm/console/\">http://ip:9060/ibm/console/</a></td>\n<td>默认没有鉴权页面</td>\n</tr>\n<tr>\n<td>Weblogic</td>\n<td>7001(http管理控制端口)<br>7002(https管理控制端口)</td>\n<td><a href=\"http://ip:7001/console\">http://ip:7001/console</a></td>\n<td>weblogic&#x2F;weblogic1<br>weblogic&#x2F;weblogic<br>system&#x2F;system<br>portaladmin&#x2F;portaladmin<br>guest&#x2F;guest</td>\n</tr>\n<tr>\n<td>Tomcat</td>\n<td>8080</td>\n<td><a href=\"http://ip:8080/manager/html\">http://ip:8080/manager/html</a></td>\n<td>tomcat&#x2F;tomcat<br>both&#x2F;tomcat<br>role1&#x2F;tomcat<br>manager&#x2F;admin</td>\n</tr>\n</tbody></table>\n<h2 id=\"1-2-安全设备弱口令\"><a href=\"#1-2-安全设备弱口令\" class=\"headerlink\" title=\"1.2 安全设备弱口令\"></a>1.2 安全设备弱口令</h2><table>\n<thead>\n<tr>\n<th>产品</th>\n<th>登录地址</th>\n<th>默认账号名密码</th>\n<th>技术支持热线</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>天融信防火墙</td>\n<td><a href=\"https://192.168.1.254/\">https://192.168.1.254</a><br><a href=\"https://192.168.1.254:8080/\">https://192.168.1.254:8080</a></td>\n<td>superman&#x2F;talent<br>superman&#x2F;talent!23</td>\n<td>8008105119</td>\n</tr>\n<tr>\n<td>联想网御防火墙(需要证书)</td>\n<td><a href=\"https://10.1.5.254:8889/\">https://10.1.5.254:8889</a></td>\n<td>admin&#x2F;leadsec@7766<br>admin&#x2F;administrator<br>admin&#x2F;bane@7766</td>\n<td>4008107766<br>01056632666</td>\n</tr>\n<tr>\n<td>深信服防火墙</td>\n<td><a href=\"https://10.251.251.251/\">https://10.251.251.251</a><br><a href=\"https://10.254.254.254/\">https://10.254.254.254</a></td>\n<td>admin&#x2F;admin</td>\n<td>4006306430</td>\n</tr>\n<tr>\n<td>启明星辰</td>\n<td><a href=\"https://10.1.5.254:8889/\">https://10.1.5.254:8889</a><br><a href=\"https://10.50.10.45:8889/\">https://10.50.10.45:8889</a></td>\n<td>admin&#x2F;bane＠7766 admin&#x2F;admin＠123</td>\n<td>10.50.10.44&#x2F;255.255.255.0<br>技术支持热线:4006243900</td>\n</tr>\n<tr>\n<td>juniper</td>\n<td><a href=\"https://192.168.1.1/\">https://192.168.1.1</a></td>\n<td>netscreen&#x2F;netscreen</td>\n<td></td>\n</tr>\n<tr>\n<td>Cisco</td>\n<td><a href=\"https://192.168.0.1/\">https://192.168.0.1</a></td>\n<td>admin&#x2F;cisco</td>\n<td></td>\n</tr>\n<tr>\n<td>Huawei</td>\n<td><a href=\"http://192.168.0.1/\">http://192.168.0.1</a></td>\n<td>admin&#x2F;Admin＠123</td>\n<td></td>\n</tr>\n<tr>\n<td>H3C</td>\n<td><a href=\"http://192.168.0.1/\">http://192.168.0.1</a></td>\n<td>admin&#x2F;admin</td>\n<td>4006306430</td>\n</tr>\n<tr>\n<td>绿盟IPS</td>\n<td><a href=\"https://192.168.1.101/\">https://192.168.1.101</a></td>\n<td>weboper&#x2F;weboper</td>\n<td>配置重启生效</td>\n</tr>\n<tr>\n<td>网神防火墙GE1口</td>\n<td><a href=\"https://10.50.10.45/\">https://10.50.10.45</a></td>\n<td>admin&#x2F;firewall</td>\n<td>4006108220</td>\n</tr>\n<tr>\n<td>深信服VPN</td>\n<td>51111端口</td>\n<td>delanrecover</td>\n<td></td>\n</tr>\n<tr>\n<td>华为VPN</td>\n<td></td>\n<td>root&#x2F;mduadmin</td>\n<td></td>\n</tr>\n<tr>\n<td>华为防火墙</td>\n<td></td>\n<td>admin&#x2F;Admin＠123<br>eudemon&#x2F;eudemon</td>\n<td></td>\n</tr>\n<tr>\n<td>Juniper防火墙</td>\n<td></td>\n<td>netscreen&#x2F;netscreen</td>\n<td></td>\n</tr>\n<tr>\n<td>迪普</td>\n<td>192.168.0.1</td>\n<td>admin／admin＿default</td>\n<td></td>\n</tr>\n<tr>\n<td>山石</td>\n<td>192.168.1.1</td>\n<td>hillstone&#x2F;hillstone</td>\n<td></td>\n</tr>\n<tr>\n<td>安恒的明御防火墙</td>\n<td></td>\n<td>admin／adminadmin</td>\n<td></td>\n</tr>\n<tr>\n<td>某堡垒机</td>\n<td></td>\n<td>shterm／shterm</td>\n<td></td>\n</tr>\n<tr>\n<td>天融信的vpn</td>\n<td></td>\n<td>test／123456</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"2-实战思路\"><a href=\"#2-实战思路\" class=\"headerlink\" title=\"2 实战思路\"></a>2 实战思路</h1><ul>\n<li>授权项目</li>\n</ul>\n<ol>\n<li>ip地址</li>\n<li>踩点获得人员姓名及生日</li>\n</ol>\n<h2 id=\"2-1-字典生成\"><a href=\"#2-1-字典生成\" class=\"headerlink\" title=\"2.1 字典生成\"></a>2.1 字典生成</h2><ul>\n<li>人员姓名大小写加生日的弱口令</li>\n<li>常规弱口令</li>\n</ul>\n<h2 id=\"2-2-批量爆破工具\"><a href=\"#2-2-批量爆破工具\" class=\"headerlink\" title=\"2.2 批量爆破工具\"></a>2.2 批量爆破工具</h2><ul>\n<li>SNETCracker</li>\n</ul>\n"},{"title":"Gentoo 配置手册","excerpt":"gentoo 安装配置记录……","index_img":"/img/article-head/弱口令.jpeg","date":"2022-07-04T02:46:25.000Z","updated":"2022-06-23T06:46:25.000Z","hide":false,"_content":"- [1 准备工作](#1-准备工作)\n  - [1.1 下载](#11-下载)\n  - [1.2 网络](#12-网络)\n  - [1.3 分区挂载](#13-分区挂载)\n  - [1.4 ssh连接最小化安装系统](#14-ssh连接最小化安装系统)\n- [2 安装](#2-安装)\n  - [2.1 解压基本系统](#21-解压基本系统)\n  - [2.2 镜像源与chroot](#22-镜像源与chroot)\n  - [2.3 portage仓库](#23-portage仓库)\n  - [2.4 profile选择](#24-profile选择)\n  - [2.5 安装内核、固件](#25-安装内核固件)\n  - [2.6 配置引导](#26-配置引导)\n  - [2.7 时区、字符集配置](#27-时区字符集配置)\n  - [2.8 virtualbox 虚拟机配置](#28-virtualbox-虚拟机配置)\n- [3 USE](#3-use)\n  - [3.1 make.conf](#31-makeconf)\n  - [3.2 USE](#32-use)\n- [4 tools](#4-tools)\n  - [4.1 包管理](#41-包管理)\n    - [4.1.1 app-portage/eix](#411-app-portageeix)\n  - [4.2 文件系统](#42-文件系统)\n    - [4.2.1 sys-fs/lvm2](#421-sys-fslvm2)\n    - [4.2.2 ntfs](#422-ntfs)\n  - [4.3 DE](#43-de)\n    - [4.3.1 gnome](#431-gnome)\n  - [4.4 vitual](#44-vitual)\n    - [4.4.1 virtualbox](#441-virtualbox)\n    - [4.4.2 kvm](#442-kvm)\n- [5 系统迁移](#5-系统迁移)\n# 1 准备工作\n## 1.1 下载\n- 下载[最小化安装镜像](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/), 名称为: `install-amd64-minimal-{日期}.iso`  \n\n- 下载[合适的stage3](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/),以日期为路径: `20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz`\n## 1.2 网络\n&emsp;&emsp;基操忽略\n## 1.3 分区挂载\n&emsp;&emsp;基操忽略\n## 1.4 ssh连接最小化安装系统\n&emsp;&emsp;编辑 `sshd` 服务配置文件 `/etc/ssh/sshd_config`, 重启服务 `rc-server sshd restart`\n```bash\nPermitRootLogin yes\nPasswordAuthentication yes\n```\n# 2 安装\n## 2.1 解压基本系统\n```bash\nlivecd ~ # blkid\n/dev/sdb: UUID=\"e09609d8-0b90-4f34-aad1-8e5b37495f52\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\"\n/dev/sr0: BLOCK_SIZE=\"2048\" UUID=\"2022-07-03-19-01-40-00\" LABEL=\"Gentoo amd64 20220703T170542Z\" TYPE=\"iso9660\" PTUUID=\"5e426e6b\" PTTYPE=\"dos\"\nloop0: TYPE=\"squashfs\"\n/dev/sda2: UUID=\"14077ead-3683-4354-95eb-a106c52350e9\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"4af31142-0ead-0644-b34c-c01b7c0944e1\"\n/dev/sda1: UUID=\"831A-6EDD\" BLOCK_SIZE=\"512\" TYPE=\"vfat\" PARTUUID=\"733a54ad-b3d7-3842-8cc8-21b15d29e82d\"\nlivecd ~ # mount /dev/sda2 /mnt/gentoo/\nlivecd ~ # mkdir /mnt/gentoo/boot\nlivecd ~ # mount /dev/sda1 /mnt/gentoo/boot\nlivecd ~ # cd /mnt/gentoo/\nlivecd /mnt/gentoo # ls\nboot  lost+found\nlivecd /mnt/gentoo # wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz\n--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  \nResolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840\nConnecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 516402028 (492M) [application/octet-stream]\nSaving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’\nstage3-amd64-desktop-systemd- 100%[=================================================>] 492.48M  11.3MB/s    in 46s\n2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]\nlivecd /mnt/gentoo # tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include='*.*' --numeric-owner\n……\n```\n## 2.2 镜像源与chroot\n&emsp;&emsp;配置一个速度较快的镜像源服务器地址\n```bash\nmirrorselect -i -o >>/mnt/gentoo/etc/portage/make.conf  # 选择163和清华大学源\necho 'GENTOO_MIRRORS=\"https://mirrors.tuna.tsinghua.edu.cn/gentoo\"' >>/mnt/gentoo/etc/portage/make.conf\n# chroot 到目标系统\n# 复制 DNS 配置到目标系统环境\ncp -L /etc/resolv.conf /mnt/gentoo/etc/\n# 挂载必要的文件系统\nmount --types proc /proc /mnt/gentoo/proc\nmount --rbind /sys /mnt/gentoo/sys\nmount --rbind /dev /mnt/gentoo/dev\n# systemd stage3 额外执行\nmount --make-rslave /mnt/gentoo/sys\nmount --make-rslave /mnt/gentoo/dev\n# chroot 到目标系统环境\nchroot /mnt/gentoo\n# 导入环境信息\n. /etc/profile\n# 修改提示符以便于区分\nPS1=(chroot)$PS1\n```\n\n## 2.3 portage仓库\n\n```bash\n# 仓库信息打包下载到本地\nemerge-webrsync\n# 安装 vim\nemerge -ask app-editors/vim\n```\n\n## 2.4 profile选择\n\n```bash\n(chroot)livecd / # eselect profile list\n(chroot)livecd / # eselect profile set 7\n(chroot)livecd / # emerge --ask --verbose --update --deep --newuse @world\n```\n\n## 2.5 安装内核、固件\n\n```bash\n(chroot)livecd / # emerge --ask gentoo-kernel  \n```\n\n```bash\n(chroot)livecd / # emerge --ask linux-firmware\n\n```\n\n## 2.6 配置引导\n\n```bash\n(chroot)livecd / # emerge --ask grub\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --removable\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.  \n(chroot)livecd / # grub-mkconfig -o /boot/grub/grub.cfg\nGenerating grub configuration file ...\nFound linux image: /boot/vmlinuz-5.15.48-gentoo-dist\nFound initrd image: /boot/initramfs-5.15.48-gentoo-dist.img\nWarning: os-prober will not be executed to detect other bootable partitions.\nSystems on them will not be added to the GRUB boot configuration.\nCheck GRUB_DISABLE_OS_PROBER documentation entry.\nAdding boot menu entry for UEFI Firmware Settings ...\ndone        \n```\n\n## 2.7 时区、字符集配置\n\n```bash\necho 'Asia/Shanghai' > /etc/timezone\nrm /etc/localtime\nemerge --config sys-libs/timezone-data\nvim /etc/locale.gen\nlocale-gen\n\ndd if=/dev/zero of=/swapfile bs=1M count=8192 status=progress\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho \"/swapfile               none    swap    defaults        0 0\" >> /etc/fstab\n```\n\n## 2.8 virtualbox 虚拟机配置\n\n```bash\n# 新建用户\nuseradd -m -g wheel -G usb,users,audio -s /bin/bash -N miloo\n\n# 如果是虚拟机需要添加到以下两个组\ngpasswd -a miloo vboxguest\ngpasswd -a miloo vboxsf\n\n# virtualbox 虚拟机安装后操作\nemerge --ask app-emulation/virtualbox-guest-additions\nsystemctl enable --now virtualbox-guest-additions\n```\n\n# 3 USE\n\n## 3.1 make.conf\n\n```bash\n\n```\n\n## 3.2 USE\n\n用户id=1001(miloo) 组id=100(users) 组=100(users),10(wheel),11(floppy),18(audio),19(cdrom),27(video),85(usb),78(kvm),272(plugdev),172(pulse-access),304(vboxusers),79(libvirt)\n\n# 4 tools\n\n## 4.1 包管理\n\n### 4.1.1 app-portage/eix\n\n```bash\napp-portage/eix\napp-portage/gentoolkit\n```\n\n## 4.2 文件系统\n\n### 4.2.1 sys-fs/lvm2\n\n```bash\nsys-fs/lvm2\n```\n\n### 4.2.2 ntfs\n\n```bash\nsys-fs/ntfs3g\n```\n\n## 4.3 DE\n\n### 4.3.1 gnome \n\n> 一定要有swap分区，否则编译不会通过  \n> make。conf 中 MAKEOPTS=\"-j4\" 此条不存在编译也会失败\n\n```bash\ngnome-base/gnome-light\ngnome-base/gconf\ngnome-extra/gnome-tweaks\n```\n\n## 4.4 vitual\n\n### 4.4.1 virtualbox\n\n```bash\napp-emulation/virtualbox\napp-emulation/virtualbox-additions\napp-emulation/virtualbox-extpack-oracle\napp-emulation/virtualbox-modules\napp-emulation/virtualbox-guest-additions  # gentoo虚拟机安装\n```\n\n### 4.4.2 kvm\n\n```bash\napp-emulation/qemu\napp-emulation/libvirt\napp-emulation/virt-manager\nnet-misc/bridge-utils\n```\n\n```bash\nusermod -a -G libvirt miloo\nusermod -a -G kvm miloo \nsystemctl enable libvirtd\nsystemctl enable virtlogd-admin.socket\n```\n\n\n# 5 系统迁移\n\ngetfacl -R ./ > acl.txt\nsetfacl --restore=acl.txt\n\n\n\n","source":"_posts/2022-07-04.gentoo配置手册.md","raw":"---\ntitle: Gentoo 配置手册\nexcerpt: gentoo 安装配置记录……\nindex_img: /img/article-head/弱口令.jpeg\ndate: \"2022/7/4 10:46:25\"\nupdated: \"2022/6/23 14:46:25\"\nhide: false\ntags:\n- Linux\n- Gentoo\ncategories:\n- Linux\n- Gentoo\n---\n- [1 准备工作](#1-准备工作)\n  - [1.1 下载](#11-下载)\n  - [1.2 网络](#12-网络)\n  - [1.3 分区挂载](#13-分区挂载)\n  - [1.4 ssh连接最小化安装系统](#14-ssh连接最小化安装系统)\n- [2 安装](#2-安装)\n  - [2.1 解压基本系统](#21-解压基本系统)\n  - [2.2 镜像源与chroot](#22-镜像源与chroot)\n  - [2.3 portage仓库](#23-portage仓库)\n  - [2.4 profile选择](#24-profile选择)\n  - [2.5 安装内核、固件](#25-安装内核固件)\n  - [2.6 配置引导](#26-配置引导)\n  - [2.7 时区、字符集配置](#27-时区字符集配置)\n  - [2.8 virtualbox 虚拟机配置](#28-virtualbox-虚拟机配置)\n- [3 USE](#3-use)\n  - [3.1 make.conf](#31-makeconf)\n  - [3.2 USE](#32-use)\n- [4 tools](#4-tools)\n  - [4.1 包管理](#41-包管理)\n    - [4.1.1 app-portage/eix](#411-app-portageeix)\n  - [4.2 文件系统](#42-文件系统)\n    - [4.2.1 sys-fs/lvm2](#421-sys-fslvm2)\n    - [4.2.2 ntfs](#422-ntfs)\n  - [4.3 DE](#43-de)\n    - [4.3.1 gnome](#431-gnome)\n  - [4.4 vitual](#44-vitual)\n    - [4.4.1 virtualbox](#441-virtualbox)\n    - [4.4.2 kvm](#442-kvm)\n- [5 系统迁移](#5-系统迁移)\n# 1 准备工作\n## 1.1 下载\n- 下载[最小化安装镜像](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/), 名称为: `install-amd64-minimal-{日期}.iso`  \n\n- 下载[合适的stage3](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/),以日期为路径: `20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz`\n## 1.2 网络\n&emsp;&emsp;基操忽略\n## 1.3 分区挂载\n&emsp;&emsp;基操忽略\n## 1.4 ssh连接最小化安装系统\n&emsp;&emsp;编辑 `sshd` 服务配置文件 `/etc/ssh/sshd_config`, 重启服务 `rc-server sshd restart`\n```bash\nPermitRootLogin yes\nPasswordAuthentication yes\n```\n# 2 安装\n## 2.1 解压基本系统\n```bash\nlivecd ~ # blkid\n/dev/sdb: UUID=\"e09609d8-0b90-4f34-aad1-8e5b37495f52\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\"\n/dev/sr0: BLOCK_SIZE=\"2048\" UUID=\"2022-07-03-19-01-40-00\" LABEL=\"Gentoo amd64 20220703T170542Z\" TYPE=\"iso9660\" PTUUID=\"5e426e6b\" PTTYPE=\"dos\"\nloop0: TYPE=\"squashfs\"\n/dev/sda2: UUID=\"14077ead-3683-4354-95eb-a106c52350e9\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"4af31142-0ead-0644-b34c-c01b7c0944e1\"\n/dev/sda1: UUID=\"831A-6EDD\" BLOCK_SIZE=\"512\" TYPE=\"vfat\" PARTUUID=\"733a54ad-b3d7-3842-8cc8-21b15d29e82d\"\nlivecd ~ # mount /dev/sda2 /mnt/gentoo/\nlivecd ~ # mkdir /mnt/gentoo/boot\nlivecd ~ # mount /dev/sda1 /mnt/gentoo/boot\nlivecd ~ # cd /mnt/gentoo/\nlivecd /mnt/gentoo # ls\nboot  lost+found\nlivecd /mnt/gentoo # wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz\n--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  \nResolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840\nConnecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 516402028 (492M) [application/octet-stream]\nSaving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’\nstage3-amd64-desktop-systemd- 100%[=================================================>] 492.48M  11.3MB/s    in 46s\n2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]\nlivecd /mnt/gentoo # tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include='*.*' --numeric-owner\n……\n```\n## 2.2 镜像源与chroot\n&emsp;&emsp;配置一个速度较快的镜像源服务器地址\n```bash\nmirrorselect -i -o >>/mnt/gentoo/etc/portage/make.conf  # 选择163和清华大学源\necho 'GENTOO_MIRRORS=\"https://mirrors.tuna.tsinghua.edu.cn/gentoo\"' >>/mnt/gentoo/etc/portage/make.conf\n# chroot 到目标系统\n# 复制 DNS 配置到目标系统环境\ncp -L /etc/resolv.conf /mnt/gentoo/etc/\n# 挂载必要的文件系统\nmount --types proc /proc /mnt/gentoo/proc\nmount --rbind /sys /mnt/gentoo/sys\nmount --rbind /dev /mnt/gentoo/dev\n# systemd stage3 额外执行\nmount --make-rslave /mnt/gentoo/sys\nmount --make-rslave /mnt/gentoo/dev\n# chroot 到目标系统环境\nchroot /mnt/gentoo\n# 导入环境信息\n. /etc/profile\n# 修改提示符以便于区分\nPS1=(chroot)$PS1\n```\n\n## 2.3 portage仓库\n\n```bash\n# 仓库信息打包下载到本地\nemerge-webrsync\n# 安装 vim\nemerge -ask app-editors/vim\n```\n\n## 2.4 profile选择\n\n```bash\n(chroot)livecd / # eselect profile list\n(chroot)livecd / # eselect profile set 7\n(chroot)livecd / # emerge --ask --verbose --update --deep --newuse @world\n```\n\n## 2.5 安装内核、固件\n\n```bash\n(chroot)livecd / # emerge --ask gentoo-kernel  \n```\n\n```bash\n(chroot)livecd / # emerge --ask linux-firmware\n\n```\n\n## 2.6 配置引导\n\n```bash\n(chroot)livecd / # emerge --ask grub\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --removable\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.  \n(chroot)livecd / # grub-mkconfig -o /boot/grub/grub.cfg\nGenerating grub configuration file ...\nFound linux image: /boot/vmlinuz-5.15.48-gentoo-dist\nFound initrd image: /boot/initramfs-5.15.48-gentoo-dist.img\nWarning: os-prober will not be executed to detect other bootable partitions.\nSystems on them will not be added to the GRUB boot configuration.\nCheck GRUB_DISABLE_OS_PROBER documentation entry.\nAdding boot menu entry for UEFI Firmware Settings ...\ndone        \n```\n\n## 2.7 时区、字符集配置\n\n```bash\necho 'Asia/Shanghai' > /etc/timezone\nrm /etc/localtime\nemerge --config sys-libs/timezone-data\nvim /etc/locale.gen\nlocale-gen\n\ndd if=/dev/zero of=/swapfile bs=1M count=8192 status=progress\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho \"/swapfile               none    swap    defaults        0 0\" >> /etc/fstab\n```\n\n## 2.8 virtualbox 虚拟机配置\n\n```bash\n# 新建用户\nuseradd -m -g wheel -G usb,users,audio -s /bin/bash -N miloo\n\n# 如果是虚拟机需要添加到以下两个组\ngpasswd -a miloo vboxguest\ngpasswd -a miloo vboxsf\n\n# virtualbox 虚拟机安装后操作\nemerge --ask app-emulation/virtualbox-guest-additions\nsystemctl enable --now virtualbox-guest-additions\n```\n\n# 3 USE\n\n## 3.1 make.conf\n\n```bash\n\n```\n\n## 3.2 USE\n\n用户id=1001(miloo) 组id=100(users) 组=100(users),10(wheel),11(floppy),18(audio),19(cdrom),27(video),85(usb),78(kvm),272(plugdev),172(pulse-access),304(vboxusers),79(libvirt)\n\n# 4 tools\n\n## 4.1 包管理\n\n### 4.1.1 app-portage/eix\n\n```bash\napp-portage/eix\napp-portage/gentoolkit\n```\n\n## 4.2 文件系统\n\n### 4.2.1 sys-fs/lvm2\n\n```bash\nsys-fs/lvm2\n```\n\n### 4.2.2 ntfs\n\n```bash\nsys-fs/ntfs3g\n```\n\n## 4.3 DE\n\n### 4.3.1 gnome \n\n> 一定要有swap分区，否则编译不会通过  \n> make。conf 中 MAKEOPTS=\"-j4\" 此条不存在编译也会失败\n\n```bash\ngnome-base/gnome-light\ngnome-base/gconf\ngnome-extra/gnome-tweaks\n```\n\n## 4.4 vitual\n\n### 4.4.1 virtualbox\n\n```bash\napp-emulation/virtualbox\napp-emulation/virtualbox-additions\napp-emulation/virtualbox-extpack-oracle\napp-emulation/virtualbox-modules\napp-emulation/virtualbox-guest-additions  # gentoo虚拟机安装\n```\n\n### 4.4.2 kvm\n\n```bash\napp-emulation/qemu\napp-emulation/libvirt\napp-emulation/virt-manager\nnet-misc/bridge-utils\n```\n\n```bash\nusermod -a -G libvirt miloo\nusermod -a -G kvm miloo \nsystemctl enable libvirtd\nsystemctl enable virtlogd-admin.socket\n```\n\n\n# 5 系统迁移\n\ngetfacl -R ./ > acl.txt\nsetfacl --restore=acl.txt\n\n\n\n","slug":"2022-07-04.gentoo配置手册","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5ke3u9r0005t2naa1j45wza","content":"<ul>\n<li><a href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">1 准备工作</a><ul>\n<li><a href=\"#11-%E4%B8%8B%E8%BD%BD\">1.1 下载</a></li>\n<li><a href=\"#12-%E7%BD%91%E7%BB%9C\">1.2 网络</a></li>\n<li><a href=\"#13-%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD\">1.3 分区挂载</a></li>\n<li><a href=\"#14-ssh%E8%BF%9E%E6%8E%A5%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F\">1.4 ssh连接最小化安装系统</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85\">2 安装</a><ul>\n<li><a href=\"#21-%E8%A7%A3%E5%8E%8B%E5%9F%BA%E6%9C%AC%E7%B3%BB%E7%BB%9F\">2.1 解压基本系统</a></li>\n<li><a href=\"#22-%E9%95%9C%E5%83%8F%E6%BA%90%E4%B8%8Echroot\">2.2 镜像源与chroot</a></li>\n<li><a href=\"#23-portage%E4%BB%93%E5%BA%93\">2.3 portage仓库</a></li>\n<li><a href=\"#24-profile%E9%80%89%E6%8B%A9\">2.4 profile选择</a></li>\n<li><a href=\"#25-%E5%AE%89%E8%A3%85%E5%86%85%E6%A0%B8%E5%9B%BA%E4%BB%B6\">2.5 安装内核、固件</a></li>\n<li><a href=\"#26-%E9%85%8D%E7%BD%AE%E5%BC%95%E5%AF%BC\">2.6 配置引导</a></li>\n<li><a href=\"#27-%E6%97%B6%E5%8C%BA%E5%AD%97%E7%AC%A6%E9%9B%86%E9%85%8D%E7%BD%AE\">2.7 时区、字符集配置</a></li>\n<li><a href=\"#28-virtualbox-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE\">2.8 virtualbox 虚拟机配置</a></li>\n</ul>\n</li>\n<li><a href=\"#3-use\">3 USE</a><ul>\n<li><a href=\"#31-makeconf\">3.1 make.conf</a></li>\n<li><a href=\"#32-use\">3.2 USE</a></li>\n</ul>\n</li>\n<li><a href=\"#4-tools\">4 tools</a><ul>\n<li><a href=\"#41-%E5%8C%85%E7%AE%A1%E7%90%86\">4.1 包管理</a><ul>\n<li><a href=\"#411-app-portageeix\">4.1.1 app-portage&#x2F;eix</a></li>\n</ul>\n</li>\n<li><a href=\"#42-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\">4.2 文件系统</a><ul>\n<li><a href=\"#421-sys-fslvm2\">4.2.1 sys-fs&#x2F;lvm2</a></li>\n<li><a href=\"#422-ntfs\">4.2.2 ntfs</a></li>\n</ul>\n</li>\n<li><a href=\"#43-de\">4.3 DE</a><ul>\n<li><a href=\"#431-gnome\">4.3.1 gnome</a></li>\n</ul>\n</li>\n<li><a href=\"#44-vitual\">4.4 vitual</a><ul>\n<li><a href=\"#441-virtualbox\">4.4.1 virtualbox</a></li>\n<li><a href=\"#442-kvm\">4.4.2 kvm</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#5-%E7%B3%BB%E7%BB%9F%E8%BF%81%E7%A7%BB\">5 系统迁移</a></li>\n</ul>\n<h1 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1 准备工作\"></a>1 准备工作</h1><h2 id=\"1-1-下载\"><a href=\"#1-1-下载\" class=\"headerlink\" title=\"1.1 下载\"></a>1.1 下载</h2><ul>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/\">最小化安装镜像</a>, 名称为: <code>install-amd64-minimal-&#123;日期&#125;.iso</code>  </p>\n</li>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/\">合适的stage3</a>,以日期为路径: <code>20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</code></p>\n</li>\n</ul>\n<h2 id=\"1-2-网络\"><a href=\"#1-2-网络\" class=\"headerlink\" title=\"1.2 网络\"></a>1.2 网络</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-3-分区挂载\"><a href=\"#1-3-分区挂载\" class=\"headerlink\" title=\"1.3 分区挂载\"></a>1.3 分区挂载</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-4-ssh连接最小化安装系统\"><a href=\"#1-4-ssh连接最小化安装系统\" class=\"headerlink\" title=\"1.4 ssh连接最小化安装系统\"></a>1.4 ssh连接最小化安装系统</h2><p>&amp;emsp;&amp;emsp;编辑 <code>sshd</code> 服务配置文件 <code>/etc/ssh/sshd_config</code>, 重启服务 <code>rc-server sshd restart</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">PermitRootLogin <span class=\"hljs-built_in\">yes</span><br>PasswordAuthentication <span class=\"hljs-built_in\">yes</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2 安装\"></a>2 安装</h1><h2 id=\"2-1-解压基本系统\"><a href=\"#2-1-解压基本系统\" class=\"headerlink\" title=\"2.1 解压基本系统\"></a>2.1 解压基本系统</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">livecd ~ <span class=\"hljs-comment\"># blkid</span><br>/dev/sdb: UUID=<span class=\"hljs-string\">&quot;e09609d8-0b90-4f34-aad1-8e5b37495f52&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span><br>/dev/sr0: BLOCK_SIZE=<span class=\"hljs-string\">&quot;2048&quot;</span> UUID=<span class=\"hljs-string\">&quot;2022-07-03-19-01-40-00&quot;</span> LABEL=<span class=\"hljs-string\">&quot;Gentoo amd64 20220703T170542Z&quot;</span> TYPE=<span class=\"hljs-string\">&quot;iso9660&quot;</span> PTUUID=<span class=\"hljs-string\">&quot;5e426e6b&quot;</span> PTTYPE=<span class=\"hljs-string\">&quot;dos&quot;</span><br>loop0: TYPE=<span class=\"hljs-string\">&quot;squashfs&quot;</span><br>/dev/sda2: UUID=<span class=\"hljs-string\">&quot;14077ead-3683-4354-95eb-a106c52350e9&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;4af31142-0ead-0644-b34c-c01b7c0944e1&quot;</span><br>/dev/sda1: UUID=<span class=\"hljs-string\">&quot;831A-6EDD&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;512&quot;</span> TYPE=<span class=\"hljs-string\">&quot;vfat&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;733a54ad-b3d7-3842-8cc8-21b15d29e82d&quot;</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda2 /mnt/gentoo/</span><br>livecd ~ <span class=\"hljs-comment\"># mkdir /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda1 /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># cd /mnt/gentoo/</span><br>livecd /mnt/gentoo <span class=\"hljs-comment\"># ls</span><br>boot  lost+found<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</span><br>--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  <br>Resolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840<br>Connecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 516402028 (492M) [application/octet-stream]<br>Saving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’<br>stage3-amd64-desktop-systemd- 100%[=================================================&gt;] 492.48M  11.3MB/s    <span class=\"hljs-keyword\">in</span> 46s<br>2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include=&#x27;*.*&#x27; --numeric-owner</span><br>……<br></code></pre></td></tr></table></figure>\n<h2 id=\"2-2-镜像源与chroot\"><a href=\"#2-2-镜像源与chroot\" class=\"headerlink\" title=\"2.2 镜像源与chroot\"></a>2.2 镜像源与chroot</h2><p>&amp;emsp;&amp;emsp;配置一个速度较快的镜像源服务器地址</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">mirrorselect -i -o &gt;&gt;/mnt/gentoo/etc/portage/make.conf  <span class=\"hljs-comment\"># 选择163和清华大学源</span><br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;GENTOO_MIRRORS=&quot;https://mirrors.tuna.tsinghua.edu.cn/gentoo&quot;&#x27;</span> &gt;&gt;/mnt/gentoo/etc/portage/make.conf<br><span class=\"hljs-comment\"># chroot 到目标系统</span><br><span class=\"hljs-comment\"># 复制 DNS 配置到目标系统环境</span><br><span class=\"hljs-built_in\">cp</span> -L /etc/resolv.conf /mnt/gentoo/etc/<br><span class=\"hljs-comment\"># 挂载必要的文件系统</span><br>mount --types proc /proc /mnt/gentoo/proc<br>mount --rbind /sys /mnt/gentoo/sys<br>mount --rbind /dev /mnt/gentoo/dev<br><span class=\"hljs-comment\"># systemd stage3 额外执行</span><br>mount --make-rslave /mnt/gentoo/sys<br>mount --make-rslave /mnt/gentoo/dev<br><span class=\"hljs-comment\"># chroot 到目标系统环境</span><br><span class=\"hljs-built_in\">chroot</span> /mnt/gentoo<br><span class=\"hljs-comment\"># 导入环境信息</span><br>. /etc/profile<br><span class=\"hljs-comment\"># 修改提示符以便于区分</span><br>PS1=(<span class=\"hljs-built_in\">chroot</span>)<span class=\"hljs-variable\">$PS1</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-3-portage仓库\"><a href=\"#2-3-portage仓库\" class=\"headerlink\" title=\"2.3 portage仓库\"></a>2.3 portage仓库</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 仓库信息打包下载到本地</span><br>emerge-webrsync<br><span class=\"hljs-comment\"># 安装 vim</span><br>emerge -ask app-editors/vim<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-4-profile选择\"><a href=\"#2-4-profile选择\" class=\"headerlink\" title=\"2.4 profile选择\"></a>2.4 profile选择</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile list</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile set 7</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask --verbose --update --deep --newuse @world</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-5-安装内核、固件\"><a href=\"#2-5-安装内核、固件\" class=\"headerlink\" title=\"2.5 安装内核、固件\"></a>2.5 安装内核、固件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask gentoo-kernel  </span><br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask linux-firmware</span><br><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-6-配置引导\"><a href=\"#2-6-配置引导\" class=\"headerlink\" title=\"2.6 配置引导\"></a>2.6 配置引导</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask grub</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.<br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --removable</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.  <br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-mkconfig -o /boot/grub/grub.cfg</span><br>Generating grub configuration file ...<br>Found linux image: /boot/vmlinuz-5.15.48-gentoo-dist<br>Found initrd image: /boot/initramfs-5.15.48-gentoo-dist.img<br>Warning: os-prober will not be executed to detect other bootable partitions.<br>Systems on them will not be added to the GRUB boot configuration.<br>Check GRUB_DISABLE_OS_PROBER documentation entry.<br>Adding boot menu entry <span class=\"hljs-keyword\">for</span> UEFI Firmware Settings ...<br><span class=\"hljs-keyword\">done</span>        <br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-7-时区、字符集配置\"><a href=\"#2-7-时区、字符集配置\" class=\"headerlink\" title=\"2.7 时区、字符集配置\"></a>2.7 时区、字符集配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;Asia/Shanghai&#x27;</span> &gt; /etc/timezone<br><span class=\"hljs-built_in\">rm</span> /etc/localtime<br>emerge --config sys-libs/timezone-data<br>vim /etc/locale.gen<br>locale-gen<br><br><span class=\"hljs-built_in\">dd</span> <span class=\"hljs-keyword\">if</span>=/dev/zero of=/swapfile bs=1M count=8192 status=progress<br><span class=\"hljs-built_in\">chmod</span> 600 /swapfile<br>mkswap /swapfile<br>swapon /swapfile<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;/swapfile               none    swap    defaults        0 0&quot;</span> &gt;&gt; /etc/fstab<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-8-virtualbox-虚拟机配置\"><a href=\"#2-8-virtualbox-虚拟机配置\" class=\"headerlink\" title=\"2.8 virtualbox 虚拟机配置\"></a>2.8 virtualbox 虚拟机配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 新建用户</span><br>useradd -m -g wheel -G usb,<span class=\"hljs-built_in\">users</span>,audio -s /bin/bash -N miloo<br><br><span class=\"hljs-comment\"># 如果是虚拟机需要添加到以下两个组</span><br>gpasswd -a miloo vboxguest<br>gpasswd -a miloo vboxsf<br><br><span class=\"hljs-comment\"># virtualbox 虚拟机安装后操作</span><br>emerge --ask app-emulation/virtualbox-guest-additions<br>systemctl <span class=\"hljs-built_in\">enable</span> --now virtualbox-guest-additions<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"3-USE\"><a href=\"#3-USE\" class=\"headerlink\" title=\"3 USE\"></a>3 USE</h1><h2 id=\"3-1-make-conf\"><a href=\"#3-1-make-conf\" class=\"headerlink\" title=\"3.1 make.conf\"></a>3.1 make.conf</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"3-2-USE\"><a href=\"#3-2-USE\" class=\"headerlink\" title=\"3.2 USE\"></a>3.2 USE</h2><p>用户id&#x3D;1001(miloo) 组id&#x3D;100(users) 组&#x3D;100(users),10(wheel),11(floppy),18(audio),19(cdrom),27(video),85(usb),78(kvm),272(plugdev),172(pulse-access),304(vboxusers),79(libvirt)</p>\n<h1 id=\"4-tools\"><a href=\"#4-tools\" class=\"headerlink\" title=\"4 tools\"></a>4 tools</h1><h2 id=\"4-1-包管理\"><a href=\"#4-1-包管理\" class=\"headerlink\" title=\"4.1 包管理\"></a>4.1 包管理</h2><h3 id=\"4-1-1-app-portage-x2F-eix\"><a href=\"#4-1-1-app-portage-x2F-eix\" class=\"headerlink\" title=\"4.1.1 app-portage&#x2F;eix\"></a>4.1.1 app-portage&#x2F;eix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-portage/eix<br>app-portage/gentoolkit<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-2-文件系统\"><a href=\"#4-2-文件系统\" class=\"headerlink\" title=\"4.2 文件系统\"></a>4.2 文件系统</h2><h3 id=\"4-2-1-sys-fs-x2F-lvm2\"><a href=\"#4-2-1-sys-fs-x2F-lvm2\" class=\"headerlink\" title=\"4.2.1 sys-fs&#x2F;lvm2\"></a>4.2.1 sys-fs&#x2F;lvm2</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/lvm2<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-2-2-ntfs\"><a href=\"#4-2-2-ntfs\" class=\"headerlink\" title=\"4.2.2 ntfs\"></a>4.2.2 ntfs</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/ntfs3g<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-3-DE\"><a href=\"#4-3-DE\" class=\"headerlink\" title=\"4.3 DE\"></a>4.3 DE</h2><h3 id=\"4-3-1-gnome\"><a href=\"#4-3-1-gnome\" class=\"headerlink\" title=\"4.3.1 gnome\"></a>4.3.1 gnome</h3><blockquote>\n<p>一定要有swap分区，否则编译不会通过<br>make。conf 中 MAKEOPTS&#x3D;”-j4” 此条不存在编译也会失败</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">gnome-base/gnome-light<br>gnome-base/gconf<br>gnome-extra/gnome-tweaks<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-4-vitual\"><a href=\"#4-4-vitual\" class=\"headerlink\" title=\"4.4 vitual\"></a>4.4 vitual</h2><h3 id=\"4-4-1-virtualbox\"><a href=\"#4-4-1-virtualbox\" class=\"headerlink\" title=\"4.4.1 virtualbox\"></a>4.4.1 virtualbox</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/virtualbox<br>app-emulation/virtualbox-additions<br>app-emulation/virtualbox-extpack-oracle<br>app-emulation/virtualbox-modules<br>app-emulation/virtualbox-guest-additions  <span class=\"hljs-comment\"># gentoo虚拟机安装</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-4-2-kvm\"><a href=\"#4-4-2-kvm\" class=\"headerlink\" title=\"4.4.2 kvm\"></a>4.4.2 kvm</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/qemu<br>app-emulation/libvirt<br>app-emulation/virt-manager<br>net-misc/bridge-utils<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">usermod -a -G libvirt miloo<br>usermod -a -G kvm miloo <br>systemctl <span class=\"hljs-built_in\">enable</span> libvirtd<br>systemctl <span class=\"hljs-built_in\">enable</span> virtlogd-admin.socket<br></code></pre></td></tr></table></figure>\n\n\n<h1 id=\"5-系统迁移\"><a href=\"#5-系统迁移\" class=\"headerlink\" title=\"5 系统迁移\"></a>5 系统迁移</h1><p>getfacl -R .&#x2F; &gt; acl.txt<br>setfacl –restore&#x3D;acl.txt</p>\n","site":{"data":{}},"wordcount":5649,"more":"<ul>\n<li><a href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">1 准备工作</a><ul>\n<li><a href=\"#11-%E4%B8%8B%E8%BD%BD\">1.1 下载</a></li>\n<li><a href=\"#12-%E7%BD%91%E7%BB%9C\">1.2 网络</a></li>\n<li><a href=\"#13-%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD\">1.3 分区挂载</a></li>\n<li><a href=\"#14-ssh%E8%BF%9E%E6%8E%A5%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F\">1.4 ssh连接最小化安装系统</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85\">2 安装</a><ul>\n<li><a href=\"#21-%E8%A7%A3%E5%8E%8B%E5%9F%BA%E6%9C%AC%E7%B3%BB%E7%BB%9F\">2.1 解压基本系统</a></li>\n<li><a href=\"#22-%E9%95%9C%E5%83%8F%E6%BA%90%E4%B8%8Echroot\">2.2 镜像源与chroot</a></li>\n<li><a href=\"#23-portage%E4%BB%93%E5%BA%93\">2.3 portage仓库</a></li>\n<li><a href=\"#24-profile%E9%80%89%E6%8B%A9\">2.4 profile选择</a></li>\n<li><a href=\"#25-%E5%AE%89%E8%A3%85%E5%86%85%E6%A0%B8%E5%9B%BA%E4%BB%B6\">2.5 安装内核、固件</a></li>\n<li><a href=\"#26-%E9%85%8D%E7%BD%AE%E5%BC%95%E5%AF%BC\">2.6 配置引导</a></li>\n<li><a href=\"#27-%E6%97%B6%E5%8C%BA%E5%AD%97%E7%AC%A6%E9%9B%86%E9%85%8D%E7%BD%AE\">2.7 时区、字符集配置</a></li>\n<li><a href=\"#28-virtualbox-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE\">2.8 virtualbox 虚拟机配置</a></li>\n</ul>\n</li>\n<li><a href=\"#3-use\">3 USE</a><ul>\n<li><a href=\"#31-makeconf\">3.1 make.conf</a></li>\n<li><a href=\"#32-use\">3.2 USE</a></li>\n</ul>\n</li>\n<li><a href=\"#4-tools\">4 tools</a><ul>\n<li><a href=\"#41-%E5%8C%85%E7%AE%A1%E7%90%86\">4.1 包管理</a><ul>\n<li><a href=\"#411-app-portageeix\">4.1.1 app-portage&#x2F;eix</a></li>\n</ul>\n</li>\n<li><a href=\"#42-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\">4.2 文件系统</a><ul>\n<li><a href=\"#421-sys-fslvm2\">4.2.1 sys-fs&#x2F;lvm2</a></li>\n<li><a href=\"#422-ntfs\">4.2.2 ntfs</a></li>\n</ul>\n</li>\n<li><a href=\"#43-de\">4.3 DE</a><ul>\n<li><a href=\"#431-gnome\">4.3.1 gnome</a></li>\n</ul>\n</li>\n<li><a href=\"#44-vitual\">4.4 vitual</a><ul>\n<li><a href=\"#441-virtualbox\">4.4.1 virtualbox</a></li>\n<li><a href=\"#442-kvm\">4.4.2 kvm</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#5-%E7%B3%BB%E7%BB%9F%E8%BF%81%E7%A7%BB\">5 系统迁移</a></li>\n</ul>\n<h1 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1 准备工作\"></a>1 准备工作</h1><h2 id=\"1-1-下载\"><a href=\"#1-1-下载\" class=\"headerlink\" title=\"1.1 下载\"></a>1.1 下载</h2><ul>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/\">最小化安装镜像</a>, 名称为: <code>install-amd64-minimal-&#123;日期&#125;.iso</code>  </p>\n</li>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/\">合适的stage3</a>,以日期为路径: <code>20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</code></p>\n</li>\n</ul>\n<h2 id=\"1-2-网络\"><a href=\"#1-2-网络\" class=\"headerlink\" title=\"1.2 网络\"></a>1.2 网络</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-3-分区挂载\"><a href=\"#1-3-分区挂载\" class=\"headerlink\" title=\"1.3 分区挂载\"></a>1.3 分区挂载</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-4-ssh连接最小化安装系统\"><a href=\"#1-4-ssh连接最小化安装系统\" class=\"headerlink\" title=\"1.4 ssh连接最小化安装系统\"></a>1.4 ssh连接最小化安装系统</h2><p>&amp;emsp;&amp;emsp;编辑 <code>sshd</code> 服务配置文件 <code>/etc/ssh/sshd_config</code>, 重启服务 <code>rc-server sshd restart</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">PermitRootLogin <span class=\"hljs-built_in\">yes</span><br>PasswordAuthentication <span class=\"hljs-built_in\">yes</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2 安装\"></a>2 安装</h1><h2 id=\"2-1-解压基本系统\"><a href=\"#2-1-解压基本系统\" class=\"headerlink\" title=\"2.1 解压基本系统\"></a>2.1 解压基本系统</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">livecd ~ <span class=\"hljs-comment\"># blkid</span><br>/dev/sdb: UUID=<span class=\"hljs-string\">&quot;e09609d8-0b90-4f34-aad1-8e5b37495f52&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span><br>/dev/sr0: BLOCK_SIZE=<span class=\"hljs-string\">&quot;2048&quot;</span> UUID=<span class=\"hljs-string\">&quot;2022-07-03-19-01-40-00&quot;</span> LABEL=<span class=\"hljs-string\">&quot;Gentoo amd64 20220703T170542Z&quot;</span> TYPE=<span class=\"hljs-string\">&quot;iso9660&quot;</span> PTUUID=<span class=\"hljs-string\">&quot;5e426e6b&quot;</span> PTTYPE=<span class=\"hljs-string\">&quot;dos&quot;</span><br>loop0: TYPE=<span class=\"hljs-string\">&quot;squashfs&quot;</span><br>/dev/sda2: UUID=<span class=\"hljs-string\">&quot;14077ead-3683-4354-95eb-a106c52350e9&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;4af31142-0ead-0644-b34c-c01b7c0944e1&quot;</span><br>/dev/sda1: UUID=<span class=\"hljs-string\">&quot;831A-6EDD&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;512&quot;</span> TYPE=<span class=\"hljs-string\">&quot;vfat&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;733a54ad-b3d7-3842-8cc8-21b15d29e82d&quot;</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda2 /mnt/gentoo/</span><br>livecd ~ <span class=\"hljs-comment\"># mkdir /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda1 /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># cd /mnt/gentoo/</span><br>livecd /mnt/gentoo <span class=\"hljs-comment\"># ls</span><br>boot  lost+found<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</span><br>--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  <br>Resolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840<br>Connecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 516402028 (492M) [application/octet-stream]<br>Saving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’<br>stage3-amd64-desktop-systemd- 100%[=================================================&gt;] 492.48M  11.3MB/s    <span class=\"hljs-keyword\">in</span> 46s<br>2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include=&#x27;*.*&#x27; --numeric-owner</span><br>……<br></code></pre></td></tr></table></figure>\n<h2 id=\"2-2-镜像源与chroot\"><a href=\"#2-2-镜像源与chroot\" class=\"headerlink\" title=\"2.2 镜像源与chroot\"></a>2.2 镜像源与chroot</h2><p>&amp;emsp;&amp;emsp;配置一个速度较快的镜像源服务器地址</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">mirrorselect -i -o &gt;&gt;/mnt/gentoo/etc/portage/make.conf  <span class=\"hljs-comment\"># 选择163和清华大学源</span><br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;GENTOO_MIRRORS=&quot;https://mirrors.tuna.tsinghua.edu.cn/gentoo&quot;&#x27;</span> &gt;&gt;/mnt/gentoo/etc/portage/make.conf<br><span class=\"hljs-comment\"># chroot 到目标系统</span><br><span class=\"hljs-comment\"># 复制 DNS 配置到目标系统环境</span><br><span class=\"hljs-built_in\">cp</span> -L /etc/resolv.conf /mnt/gentoo/etc/<br><span class=\"hljs-comment\"># 挂载必要的文件系统</span><br>mount --types proc /proc /mnt/gentoo/proc<br>mount --rbind /sys /mnt/gentoo/sys<br>mount --rbind /dev /mnt/gentoo/dev<br><span class=\"hljs-comment\"># systemd stage3 额外执行</span><br>mount --make-rslave /mnt/gentoo/sys<br>mount --make-rslave /mnt/gentoo/dev<br><span class=\"hljs-comment\"># chroot 到目标系统环境</span><br><span class=\"hljs-built_in\">chroot</span> /mnt/gentoo<br><span class=\"hljs-comment\"># 导入环境信息</span><br>. /etc/profile<br><span class=\"hljs-comment\"># 修改提示符以便于区分</span><br>PS1=(<span class=\"hljs-built_in\">chroot</span>)<span class=\"hljs-variable\">$PS1</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-3-portage仓库\"><a href=\"#2-3-portage仓库\" class=\"headerlink\" title=\"2.3 portage仓库\"></a>2.3 portage仓库</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 仓库信息打包下载到本地</span><br>emerge-webrsync<br><span class=\"hljs-comment\"># 安装 vim</span><br>emerge -ask app-editors/vim<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-4-profile选择\"><a href=\"#2-4-profile选择\" class=\"headerlink\" title=\"2.4 profile选择\"></a>2.4 profile选择</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile list</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile set 7</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask --verbose --update --deep --newuse @world</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-5-安装内核、固件\"><a href=\"#2-5-安装内核、固件\" class=\"headerlink\" title=\"2.5 安装内核、固件\"></a>2.5 安装内核、固件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask gentoo-kernel  </span><br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask linux-firmware</span><br><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-6-配置引导\"><a href=\"#2-6-配置引导\" class=\"headerlink\" title=\"2.6 配置引导\"></a>2.6 配置引导</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask grub</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.<br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --removable</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.  <br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-mkconfig -o /boot/grub/grub.cfg</span><br>Generating grub configuration file ...<br>Found linux image: /boot/vmlinuz-5.15.48-gentoo-dist<br>Found initrd image: /boot/initramfs-5.15.48-gentoo-dist.img<br>Warning: os-prober will not be executed to detect other bootable partitions.<br>Systems on them will not be added to the GRUB boot configuration.<br>Check GRUB_DISABLE_OS_PROBER documentation entry.<br>Adding boot menu entry <span class=\"hljs-keyword\">for</span> UEFI Firmware Settings ...<br><span class=\"hljs-keyword\">done</span>        <br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-7-时区、字符集配置\"><a href=\"#2-7-时区、字符集配置\" class=\"headerlink\" title=\"2.7 时区、字符集配置\"></a>2.7 时区、字符集配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;Asia/Shanghai&#x27;</span> &gt; /etc/timezone<br><span class=\"hljs-built_in\">rm</span> /etc/localtime<br>emerge --config sys-libs/timezone-data<br>vim /etc/locale.gen<br>locale-gen<br><br><span class=\"hljs-built_in\">dd</span> <span class=\"hljs-keyword\">if</span>=/dev/zero of=/swapfile bs=1M count=8192 status=progress<br><span class=\"hljs-built_in\">chmod</span> 600 /swapfile<br>mkswap /swapfile<br>swapon /swapfile<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;/swapfile               none    swap    defaults        0 0&quot;</span> &gt;&gt; /etc/fstab<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-8-virtualbox-虚拟机配置\"><a href=\"#2-8-virtualbox-虚拟机配置\" class=\"headerlink\" title=\"2.8 virtualbox 虚拟机配置\"></a>2.8 virtualbox 虚拟机配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 新建用户</span><br>useradd -m -g wheel -G usb,<span class=\"hljs-built_in\">users</span>,audio -s /bin/bash -N miloo<br><br><span class=\"hljs-comment\"># 如果是虚拟机需要添加到以下两个组</span><br>gpasswd -a miloo vboxguest<br>gpasswd -a miloo vboxsf<br><br><span class=\"hljs-comment\"># virtualbox 虚拟机安装后操作</span><br>emerge --ask app-emulation/virtualbox-guest-additions<br>systemctl <span class=\"hljs-built_in\">enable</span> --now virtualbox-guest-additions<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"3-USE\"><a href=\"#3-USE\" class=\"headerlink\" title=\"3 USE\"></a>3 USE</h1><h2 id=\"3-1-make-conf\"><a href=\"#3-1-make-conf\" class=\"headerlink\" title=\"3.1 make.conf\"></a>3.1 make.conf</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"3-2-USE\"><a href=\"#3-2-USE\" class=\"headerlink\" title=\"3.2 USE\"></a>3.2 USE</h2><p>用户id&#x3D;1001(miloo) 组id&#x3D;100(users) 组&#x3D;100(users),10(wheel),11(floppy),18(audio),19(cdrom),27(video),85(usb),78(kvm),272(plugdev),172(pulse-access),304(vboxusers),79(libvirt)</p>\n<h1 id=\"4-tools\"><a href=\"#4-tools\" class=\"headerlink\" title=\"4 tools\"></a>4 tools</h1><h2 id=\"4-1-包管理\"><a href=\"#4-1-包管理\" class=\"headerlink\" title=\"4.1 包管理\"></a>4.1 包管理</h2><h3 id=\"4-1-1-app-portage-x2F-eix\"><a href=\"#4-1-1-app-portage-x2F-eix\" class=\"headerlink\" title=\"4.1.1 app-portage&#x2F;eix\"></a>4.1.1 app-portage&#x2F;eix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-portage/eix<br>app-portage/gentoolkit<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-2-文件系统\"><a href=\"#4-2-文件系统\" class=\"headerlink\" title=\"4.2 文件系统\"></a>4.2 文件系统</h2><h3 id=\"4-2-1-sys-fs-x2F-lvm2\"><a href=\"#4-2-1-sys-fs-x2F-lvm2\" class=\"headerlink\" title=\"4.2.1 sys-fs&#x2F;lvm2\"></a>4.2.1 sys-fs&#x2F;lvm2</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/lvm2<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-2-2-ntfs\"><a href=\"#4-2-2-ntfs\" class=\"headerlink\" title=\"4.2.2 ntfs\"></a>4.2.2 ntfs</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/ntfs3g<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-3-DE\"><a href=\"#4-3-DE\" class=\"headerlink\" title=\"4.3 DE\"></a>4.3 DE</h2><h3 id=\"4-3-1-gnome\"><a href=\"#4-3-1-gnome\" class=\"headerlink\" title=\"4.3.1 gnome\"></a>4.3.1 gnome</h3><blockquote>\n<p>一定要有swap分区，否则编译不会通过<br>make。conf 中 MAKEOPTS&#x3D;”-j4” 此条不存在编译也会失败</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">gnome-base/gnome-light<br>gnome-base/gconf<br>gnome-extra/gnome-tweaks<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-4-vitual\"><a href=\"#4-4-vitual\" class=\"headerlink\" title=\"4.4 vitual\"></a>4.4 vitual</h2><h3 id=\"4-4-1-virtualbox\"><a href=\"#4-4-1-virtualbox\" class=\"headerlink\" title=\"4.4.1 virtualbox\"></a>4.4.1 virtualbox</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/virtualbox<br>app-emulation/virtualbox-additions<br>app-emulation/virtualbox-extpack-oracle<br>app-emulation/virtualbox-modules<br>app-emulation/virtualbox-guest-additions  <span class=\"hljs-comment\"># gentoo虚拟机安装</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-4-2-kvm\"><a href=\"#4-4-2-kvm\" class=\"headerlink\" title=\"4.4.2 kvm\"></a>4.4.2 kvm</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/qemu<br>app-emulation/libvirt<br>app-emulation/virt-manager<br>net-misc/bridge-utils<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">usermod -a -G libvirt miloo<br>usermod -a -G kvm miloo <br>systemctl <span class=\"hljs-built_in\">enable</span> libvirtd<br>systemctl <span class=\"hljs-built_in\">enable</span> virtlogd-admin.socket<br></code></pre></td></tr></table></figure>\n\n\n<h1 id=\"5-系统迁移\"><a href=\"#5-系统迁移\" class=\"headerlink\" title=\"5 系统迁移\"></a>5 系统迁移</h1><p>getfacl -R .&#x2F; &gt; acl.txt<br>setfacl –restore&#x3D;acl.txt</p>\n"},{"title":"Git global setup","excerpt":"git push","index_img":null,"date":"2022-05-23T12:46:25.000Z","updated":"2022-06-07T02:46:25.000Z","hide":true,"_content":"\n# Git global setup\n\n```\ngit config --global user.name \"miloo\"\ngit config --global user.email \"miloo@worisur\"\n```\n\n# Create a new repository\n```\ngit clone git@gitlab.com:imiloo/imiloo.gitlab.io.git\ncd imiloo.gitlab.io\ngit switch -c main\ntouch README.md\ngit add README.md\ngit commit -m \"add README\"\ngit push -u origin main\n```\n\n# Push an existing folder\n```\ncd existing_folder\ngit init --initial-branch=main\ngit remote add origin git@gitlab.com:imiloo/imiloo.gitlab.io.git\ngit add .\ngit commit -m \"Initial commit\"\ngit push -u origin main\n```\n\n# Push an existing Git repository\n```\ncd existing_repo\ngit switch -c main\ngit remote rename origin old-origin\ngit remote add origin git@gitlab.com:imiloo/imiloo.gitlab.io.git\ngit commit -m \"update blog\"\ngit push -u origin --all\ngit push -u origin --tags\n```\n\n# 日常使用\n```\ngit add .\ngit switch -c main\ngit remote rename origin old-origin\ngit remote add origin git@github.com:imiloo/imiloo.github.io.git\ngit commit -m \"update blog\"\ngit push -u origin --all\ngit push -u origin --tags\n```\n\n```\ngit add .\ngit switch -c main\ngit remote rename origin old-origin\ngit remote add origin git@gitlab.com:imiloo/imiloo.gitlab.io.git\ngit commit -m \"update blog\"\ngit push -u origin --all\ngit push -u origin --tags\n```\n\n# 删除文件\n\n1. 克隆远程仓库到本地库,例如使用ssh方法：\n```\ngit clone git@github.com:xxx/xxx.git\n```\n2. 对需要删除的文件、文件夹进行如下操作:\n```\ngit rm test.txt (删除文件)\ngit rm -r test (删除文件夹)\n```\n3. 提交修改\n```\ngit commit -m \"Delete some files.\"\n```\n4. 将修改提交到远程仓库的xxx分支:\n```\ngit push origin xxx\n```\n\n# 删除远程仓库 但不删本地资源\n\n把xxx.iml加到`.gitignore`里面忽略掉，然后提交使.gitignore生效，既:\n```\ngit rm -r --cached xxx.iml　　//-r 是递归的意思   当最后面是文件夹的时候有用\ngit add xxx.iml　　　　　 //若.gitignore文件中已经忽略了xxx.iml则可以不用执行此句\ngit commit -m \"ignore xxx.xml\"\ngit push\n```","source":"_posts/2022-6-7.git.md","raw":"---\ntitle: Git global setup\nexcerpt: git push\nindex_img: \ndate: \"2022/5/23 20:46:25\"\nupdated: \"2022/6/7 10:46:25\"\nhide: true\ntags:\n- git\ncategories:\n- git\n---\n\n# Git global setup\n\n```\ngit config --global user.name \"miloo\"\ngit config --global user.email \"miloo@worisur\"\n```\n\n# Create a new repository\n```\ngit clone git@gitlab.com:imiloo/imiloo.gitlab.io.git\ncd imiloo.gitlab.io\ngit switch -c main\ntouch README.md\ngit add README.md\ngit commit -m \"add README\"\ngit push -u origin main\n```\n\n# Push an existing folder\n```\ncd existing_folder\ngit init --initial-branch=main\ngit remote add origin git@gitlab.com:imiloo/imiloo.gitlab.io.git\ngit add .\ngit commit -m \"Initial commit\"\ngit push -u origin main\n```\n\n# Push an existing Git repository\n```\ncd existing_repo\ngit switch -c main\ngit remote rename origin old-origin\ngit remote add origin git@gitlab.com:imiloo/imiloo.gitlab.io.git\ngit commit -m \"update blog\"\ngit push -u origin --all\ngit push -u origin --tags\n```\n\n# 日常使用\n```\ngit add .\ngit switch -c main\ngit remote rename origin old-origin\ngit remote add origin git@github.com:imiloo/imiloo.github.io.git\ngit commit -m \"update blog\"\ngit push -u origin --all\ngit push -u origin --tags\n```\n\n```\ngit add .\ngit switch -c main\ngit remote rename origin old-origin\ngit remote add origin git@gitlab.com:imiloo/imiloo.gitlab.io.git\ngit commit -m \"update blog\"\ngit push -u origin --all\ngit push -u origin --tags\n```\n\n# 删除文件\n\n1. 克隆远程仓库到本地库,例如使用ssh方法：\n```\ngit clone git@github.com:xxx/xxx.git\n```\n2. 对需要删除的文件、文件夹进行如下操作:\n```\ngit rm test.txt (删除文件)\ngit rm -r test (删除文件夹)\n```\n3. 提交修改\n```\ngit commit -m \"Delete some files.\"\n```\n4. 将修改提交到远程仓库的xxx分支:\n```\ngit push origin xxx\n```\n\n# 删除远程仓库 但不删本地资源\n\n把xxx.iml加到`.gitignore`里面忽略掉，然后提交使.gitignore生效，既:\n```\ngit rm -r --cached xxx.iml　　//-r 是递归的意思   当最后面是文件夹的时候有用\ngit add xxx.iml　　　　　 //若.gitignore文件中已经忽略了xxx.iml则可以不用执行此句\ngit commit -m \"ignore xxx.xml\"\ngit push\n```","slug":"2022-6-7.git","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5ke3u9w0010t2nabv19gkjd","content":"<h1 id=\"Git-global-setup\"><a href=\"#Git-global-setup\" class=\"headerlink\" title=\"Git global setup\"></a>Git global setup</h1><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">git config <span class=\"hljs-attr\">--global</span> user<span class=\"hljs-selector-class\">.name</span> <span class=\"hljs-string\">&quot;miloo&quot;</span><br>git config <span class=\"hljs-attr\">--global</span> user<span class=\"hljs-selector-class\">.email</span> <span class=\"hljs-string\">&quot;miloo@worisur&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"Create-a-new-repository\"><a href=\"#Create-a-new-repository\" class=\"headerlink\" title=\"Create a new repository\"></a>Create a new repository</h1><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">git clone git@gitlab<span class=\"hljs-selector-class\">.com</span>:imiloo/imiloo<span class=\"hljs-selector-class\">.gitlab</span><span class=\"hljs-selector-class\">.io</span><span class=\"hljs-selector-class\">.git</span><br>cd imiloo<span class=\"hljs-selector-class\">.gitlab</span><span class=\"hljs-selector-class\">.io</span><br>git switch -c <span class=\"hljs-selector-tag\">main</span><br>touch README<span class=\"hljs-selector-class\">.md</span><br>git add README<span class=\"hljs-selector-class\">.md</span><br>git commit -m <span class=\"hljs-string\">&quot;add README&quot;</span><br>git push -u origin main<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"Push-an-existing-folder\"><a href=\"#Push-an-existing-folder\" class=\"headerlink\" title=\"Push an existing folder\"></a>Push an existing folder</h1><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs routeros\">cd existing_folder<br>git init <span class=\"hljs-attribute\">--initial-branch</span>=main<br>git remote <span class=\"hljs-built_in\">add</span> origin git@gitlab.com:imiloo/imiloo.gitlab.io.git<br>git <span class=\"hljs-built_in\">add</span> .<br>git commit -m <span class=\"hljs-string\">&quot;Initial commit&quot;</span><br>git push -u origin main<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"Push-an-existing-Git-repository\"><a href=\"#Push-an-existing-Git-repository\" class=\"headerlink\" title=\"Push an existing Git repository\"></a>Push an existing Git repository</h1><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">cd existing_repo<br>git switch -c <span class=\"hljs-selector-tag\">main</span><br>git remote rename origin old-origin<br>git remote add origin git@gitlab<span class=\"hljs-selector-class\">.com</span>:imiloo/imiloo<span class=\"hljs-selector-class\">.gitlab</span><span class=\"hljs-selector-class\">.io</span><span class=\"hljs-selector-class\">.git</span><br>git commit -m <span class=\"hljs-string\">&quot;update blog&quot;</span><br>git push -u origin <span class=\"hljs-attr\">--all</span><br>git push -u origin <span class=\"hljs-attr\">--tags</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"日常使用\"><a href=\"#日常使用\" class=\"headerlink\" title=\"日常使用\"></a>日常使用</h1><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git <span class=\"hljs-keyword\">add</span> .<br>git switch <span class=\"hljs-operator\">-</span>c main<br>git remote rename origin <span class=\"hljs-keyword\">old</span><span class=\"hljs-operator\">-</span>origin<br>git remote <span class=\"hljs-keyword\">add</span> origin git<span class=\"hljs-variable\">@github</span>.com:imiloo<span class=\"hljs-operator\">/</span>imiloo.github.io.git<br>git <span class=\"hljs-keyword\">commit</span> <span class=\"hljs-operator\">-</span>m &quot;update blog&quot;<br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--all</span><br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--tags</span><br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git <span class=\"hljs-keyword\">add</span> .<br>git switch <span class=\"hljs-operator\">-</span>c main<br>git remote rename origin <span class=\"hljs-keyword\">old</span><span class=\"hljs-operator\">-</span>origin<br>git remote <span class=\"hljs-keyword\">add</span> origin git<span class=\"hljs-variable\">@gitlab</span>.com:imiloo<span class=\"hljs-operator\">/</span>imiloo.gitlab.io.git<br>git <span class=\"hljs-keyword\">commit</span> <span class=\"hljs-operator\">-</span>m &quot;update blog&quot;<br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--all</span><br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--tags</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"删除文件\"><a href=\"#删除文件\" class=\"headerlink\" title=\"删除文件\"></a>删除文件</h1><ol>\n<li>克隆远程仓库到本地库,例如使用ssh方法：<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs crmsh\">git <span class=\"hljs-keyword\">clone</span> <span class=\"hljs-title\">git</span>@github.com:xxx/xxx.git<br></code></pre></td></tr></table></figure></li>\n<li>对需要删除的文件、文件夹进行如下操作:<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stata\">git <span class=\"hljs-keyword\">rm</span> <span class=\"hljs-keyword\">test</span>.txt (删除文件)<br>git <span class=\"hljs-keyword\">rm</span> -r <span class=\"hljs-keyword\">test</span> (删除文件夹)<br></code></pre></td></tr></table></figure></li>\n<li>提交修改<figure class=\"highlight n1ql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs n1ql\">git commit -m &quot;<span class=\"hljs-keyword\">Delete</span> <span class=\"hljs-keyword\">some</span> files.<span class=\"hljs-string\">&quot;</span><br></code></pre></td></tr></table></figure></li>\n<li>将修改提交到远程仓库的xxx分支:<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs maxima\">git <span class=\"hljs-built_in\">push</span> <span class=\"hljs-built_in\">origin</span> xxx<br></code></pre></td></tr></table></figure></li>\n</ol>\n<h1 id=\"删除远程仓库-但不删本地资源\"><a href=\"#删除远程仓库-但不删本地资源\" class=\"headerlink\" title=\"删除远程仓库 但不删本地资源\"></a>删除远程仓库 但不删本地资源</h1><p>把xxx.iml加到<code>.gitignore</code>里面忽略掉，然后提交使.gitignore生效，既:</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">git rm -r <span class=\"hljs-attr\">--cached</span> xxx<span class=\"hljs-selector-class\">.iml</span>　　<span class=\"hljs-comment\">//-r 是递归的意思   当最后面是文件夹的时候有用</span><br>git add xxx<span class=\"hljs-selector-class\">.iml</span>　　　　　 <span class=\"hljs-comment\">//若.gitignore文件中已经忽略了xxx.iml则可以不用执行此句</span><br>git commit -m <span class=\"hljs-string\">&quot;ignore xxx.xml&quot;</span><br>git push<br></code></pre></td></tr></table></figure>","site":{"data":{}},"wordcount":1512,"more":"<h1 id=\"Git-global-setup\"><a href=\"#Git-global-setup\" class=\"headerlink\" title=\"Git global setup\"></a>Git global setup</h1><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">git config <span class=\"hljs-attr\">--global</span> user<span class=\"hljs-selector-class\">.name</span> <span class=\"hljs-string\">&quot;miloo&quot;</span><br>git config <span class=\"hljs-attr\">--global</span> user<span class=\"hljs-selector-class\">.email</span> <span class=\"hljs-string\">&quot;miloo@worisur&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"Create-a-new-repository\"><a href=\"#Create-a-new-repository\" class=\"headerlink\" title=\"Create a new repository\"></a>Create a new repository</h1><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">git clone git@gitlab<span class=\"hljs-selector-class\">.com</span>:imiloo/imiloo<span class=\"hljs-selector-class\">.gitlab</span><span class=\"hljs-selector-class\">.io</span><span class=\"hljs-selector-class\">.git</span><br>cd imiloo<span class=\"hljs-selector-class\">.gitlab</span><span class=\"hljs-selector-class\">.io</span><br>git switch -c <span class=\"hljs-selector-tag\">main</span><br>touch README<span class=\"hljs-selector-class\">.md</span><br>git add README<span class=\"hljs-selector-class\">.md</span><br>git commit -m <span class=\"hljs-string\">&quot;add README&quot;</span><br>git push -u origin main<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"Push-an-existing-folder\"><a href=\"#Push-an-existing-folder\" class=\"headerlink\" title=\"Push an existing folder\"></a>Push an existing folder</h1><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs routeros\">cd existing_folder<br>git init <span class=\"hljs-attribute\">--initial-branch</span>=main<br>git remote <span class=\"hljs-built_in\">add</span> origin git@gitlab.com:imiloo/imiloo.gitlab.io.git<br>git <span class=\"hljs-built_in\">add</span> .<br>git commit -m <span class=\"hljs-string\">&quot;Initial commit&quot;</span><br>git push -u origin main<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"Push-an-existing-Git-repository\"><a href=\"#Push-an-existing-Git-repository\" class=\"headerlink\" title=\"Push an existing Git repository\"></a>Push an existing Git repository</h1><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">cd existing_repo<br>git switch -c <span class=\"hljs-selector-tag\">main</span><br>git remote rename origin old-origin<br>git remote add origin git@gitlab<span class=\"hljs-selector-class\">.com</span>:imiloo/imiloo<span class=\"hljs-selector-class\">.gitlab</span><span class=\"hljs-selector-class\">.io</span><span class=\"hljs-selector-class\">.git</span><br>git commit -m <span class=\"hljs-string\">&quot;update blog&quot;</span><br>git push -u origin <span class=\"hljs-attr\">--all</span><br>git push -u origin <span class=\"hljs-attr\">--tags</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"日常使用\"><a href=\"#日常使用\" class=\"headerlink\" title=\"日常使用\"></a>日常使用</h1><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git <span class=\"hljs-keyword\">add</span> .<br>git switch <span class=\"hljs-operator\">-</span>c main<br>git remote rename origin <span class=\"hljs-keyword\">old</span><span class=\"hljs-operator\">-</span>origin<br>git remote <span class=\"hljs-keyword\">add</span> origin git<span class=\"hljs-variable\">@github</span>.com:imiloo<span class=\"hljs-operator\">/</span>imiloo.github.io.git<br>git <span class=\"hljs-keyword\">commit</span> <span class=\"hljs-operator\">-</span>m &quot;update blog&quot;<br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--all</span><br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--tags</span><br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\">git <span class=\"hljs-keyword\">add</span> .<br>git switch <span class=\"hljs-operator\">-</span>c main<br>git remote rename origin <span class=\"hljs-keyword\">old</span><span class=\"hljs-operator\">-</span>origin<br>git remote <span class=\"hljs-keyword\">add</span> origin git<span class=\"hljs-variable\">@gitlab</span>.com:imiloo<span class=\"hljs-operator\">/</span>imiloo.gitlab.io.git<br>git <span class=\"hljs-keyword\">commit</span> <span class=\"hljs-operator\">-</span>m &quot;update blog&quot;<br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--all</span><br>git push <span class=\"hljs-operator\">-</span>u origin <span class=\"hljs-comment\">--tags</span><br></code></pre></td></tr></table></figure>\n\n<h1 id=\"删除文件\"><a href=\"#删除文件\" class=\"headerlink\" title=\"删除文件\"></a>删除文件</h1><ol>\n<li>克隆远程仓库到本地库,例如使用ssh方法：<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs crmsh\">git <span class=\"hljs-keyword\">clone</span> <span class=\"hljs-title\">git</span>@github.com:xxx/xxx.git<br></code></pre></td></tr></table></figure></li>\n<li>对需要删除的文件、文件夹进行如下操作:<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stata\">git <span class=\"hljs-keyword\">rm</span> <span class=\"hljs-keyword\">test</span>.txt (删除文件)<br>git <span class=\"hljs-keyword\">rm</span> -r <span class=\"hljs-keyword\">test</span> (删除文件夹)<br></code></pre></td></tr></table></figure></li>\n<li>提交修改<figure class=\"highlight n1ql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs n1ql\">git commit -m &quot;<span class=\"hljs-keyword\">Delete</span> <span class=\"hljs-keyword\">some</span> files.<span class=\"hljs-string\">&quot;</span><br></code></pre></td></tr></table></figure></li>\n<li>将修改提交到远程仓库的xxx分支:<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs maxima\">git <span class=\"hljs-built_in\">push</span> <span class=\"hljs-built_in\">origin</span> xxx<br></code></pre></td></tr></table></figure></li>\n</ol>\n<h1 id=\"删除远程仓库-但不删本地资源\"><a href=\"#删除远程仓库-但不删本地资源\" class=\"headerlink\" title=\"删除远程仓库 但不删本地资源\"></a>删除远程仓库 但不删本地资源</h1><p>把xxx.iml加到<code>.gitignore</code>里面忽略掉，然后提交使.gitignore生效，既:</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\">git rm -r <span class=\"hljs-attr\">--cached</span> xxx<span class=\"hljs-selector-class\">.iml</span>　　<span class=\"hljs-comment\">//-r 是递归的意思   当最后面是文件夹的时候有用</span><br>git add xxx<span class=\"hljs-selector-class\">.iml</span>　　　　　 <span class=\"hljs-comment\">//若.gitignore文件中已经忽略了xxx.iml则可以不用执行此句</span><br>git commit -m <span class=\"hljs-string\">&quot;ignore xxx.xml&quot;</span><br>git push<br></code></pre></td></tr></table></figure>"},{"title":"Gentoo 配置手册","excerpt":"gentoo 安装配置记录……","index_img":"/img/article-head/弱口令.jpeg","date":"2022-07-04T02:46:25.000Z","updated":"2022-06-23T06:46:25.000Z","hide":false,"_content":"- [1 准备工作](#1-准备工作)\n  - [1.1 下载](#11-下载)\n  - [1.2 网络](#12-网络)\n  - [1.3 分区挂载](#13-分区挂载)\n  - [1.4 ssh连接最小化安装系统](#14-ssh连接最小化安装系统)\n- [2 安装](#2-安装)\n  - [2.1 解压基本系统](#21-解压基本系统)\n  - [2.2 镜像源与chroot](#22-镜像源与chroot)\n  - [2.3 portage仓库](#23-portage仓库)\n  - [2.4 profile选择](#24-profile选择)\n  - [2.5 安装内核、固件](#25-安装内核固件)\n  - [2.6 配置引导](#26-配置引导)\n  - [2.7 时区、字符集配置](#27-时区字符集配置)\n  - [2.8 virtualbox 虚拟机配置](#28-virtualbox-虚拟机配置)\n- [3 USE](#3-use)\n  - [3.1 make.conf](#31-makeconf)\n  - [3.2 USE](#32-use)\n- [4 tools](#4-tools)\n  - [4.1 包管理](#41-包管理)\n    - [4.1.1 app-portage/eix](#411-app-portageeix)\n  - [4.2 文件系统](#42-文件系统)\n    - [4.2.1 sys-fs/lvm2](#421-sys-fslvm2)\n    - [4.2.2 ntfs](#422-ntfs)\n  - [4.3 DE](#43-de)\n    - [4.3.1 gnome](#431-gnome)\n  - [4.4 vitual](#44-vitual)\n    - [4.4.1 virtualbox](#441-virtualbox)\n    - [4.4.2 kvm](#442-kvm)\n- [5 系统迁移](#5-系统迁移)\n# 1 准备工作\n## 1.1 下载\n- 下载[最小化安装镜像](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/), 名称为: `install-amd64-minimal-{日期}.iso`  \n\n- 下载[合适的stage3](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/),以日期为路径: `20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz`\n## 1.2 网络\n&emsp;&emsp;基操忽略\n## 1.3 分区挂载\n&emsp;&emsp;基操忽略\n## 1.4 ssh连接最小化安装系统\n&emsp;&emsp;编辑 `sshd` 服务配置文件 `/etc/ssh/sshd_config`, 重启服务 `rc-server sshd restart`\n```bash\nPermitRootLogin yes\nPasswordAuthentication yes\n```\n# 2 安装\n## 2.1 解压基本系统\n```bash\nlivecd ~ # blkid\n/dev/sdb: UUID=\"e09609d8-0b90-4f34-aad1-8e5b37495f52\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\"\n/dev/sr0: BLOCK_SIZE=\"2048\" UUID=\"2022-07-03-19-01-40-00\" LABEL=\"Gentoo amd64 20220703T170542Z\" TYPE=\"iso9660\" PTUUID=\"5e426e6b\" PTTYPE=\"dos\"\nloop0: TYPE=\"squashfs\"\n/dev/sda2: UUID=\"14077ead-3683-4354-95eb-a106c52350e9\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"4af31142-0ead-0644-b34c-c01b7c0944e1\"\n/dev/sda1: UUID=\"831A-6EDD\" BLOCK_SIZE=\"512\" TYPE=\"vfat\" PARTUUID=\"733a54ad-b3d7-3842-8cc8-21b15d29e82d\"\nlivecd ~ # mount /dev/sda2 /mnt/gentoo/\nlivecd ~ # mkdir /mnt/gentoo/boot\nlivecd ~ # mount /dev/sda1 /mnt/gentoo/boot\nlivecd ~ # cd /mnt/gentoo/\nlivecd /mnt/gentoo # ls\nboot  lost+found\nlivecd /mnt/gentoo # wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz\n--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  \nResolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840\nConnecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 516402028 (492M) [application/octet-stream]\nSaving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’\nstage3-amd64-desktop-systemd- 100%[=================================================>] 492.48M  11.3MB/s    in 46s\n2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]\nlivecd /mnt/gentoo # tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include='*.*' --numeric-owner\n……\n```\n## 2.2 镜像源与chroot\n&emsp;&emsp;配置一个速度较快的镜像源服务器地址\n```bash\nmirrorselect -i -o >>/mnt/gentoo/etc/portage/make.conf  # 选择163和清华大学源\necho 'GENTOO_MIRRORS=\"https://mirrors.tuna.tsinghua.edu.cn/gentoo\"' >>/mnt/gentoo/etc/portage/make.conf\n# chroot 到目标系统\n# 复制 DNS 配置到目标系统环境\ncp -L /etc/resolv.conf /mnt/gentoo/etc/\n# 挂载必要的文件系统\nmount --types proc /proc /mnt/gentoo/proc\nmount --rbind /sys /mnt/gentoo/sys\nmount --rbind /dev /mnt/gentoo/dev\n# systemd stage3 额外执行\nmount --make-rslave /mnt/gentoo/sys\nmount --make-rslave /mnt/gentoo/dev\n# chroot 到目标系统环境\nchroot /mnt/gentoo\n# 导入环境信息\n. /etc/profile\n# 修改提示符以便于区分\nPS1=(chroot)$PS1\n```\n\n## 2.3 portage仓库\n\n```bash\n# 仓库信息打包下载到本地\nemerge-webrsync\n# 安装 vim\nemerge -ask app-editors/vim\n# vim USE\nCalculating dependencies... done!\n[ebuild  N     ] app-eselect/eselect-vi-1.2\n[ebuild  N     ] dev-libs/libsodium-1.0.18_p20210617  USE=\"asm urandom -minimal -static-libs -verify-sig\" ABI_X86=\"(64) -32 (-x32)\" CPU_FLAGS_X86=\"-aes -sse4_1\"\n[ebuild  N     ] app-editors/vim-core-8.2.4586  USE=\"acl nls -minimal\"\n[ebuild  N     ] app-editors/vim-8.2.4586  USE=\"X acl crypt gpm nls -cscope -debug -lua -minimal -perl -python -racket -ruby (-selinux) -sound -tcl -terminal -vim-pager\" LUA_SINGLE_TARGET=\"lua5-1 -luajit\" PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\"\n[ebuild  N     ] app-vim/gentoo-syntax-1  USE=\"-ignore-glep31\" \n```\n\n## 2.4 profile选择\n\n```bash\n(chroot)livecd / # eselect profile list\n(chroot)livecd / # eselect profile set 7\n(chroot)livecd / # emerge --ask --verbose --update --deep --newuse @world\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] acct-group/colord-0::gentoo  0 KiB\n[ebuild  N     ] acct-group/plugdev-0-r1::gentoo  0 KiB\n[ebuild  N     ] net-wireless/wireless-regdb-20220606::gentoo  27 KiB\n[ebuild  N     ] dev-libs/ell-0.50::gentoo  USE=\"-pie -test\" ABI_X86=\"(64) -32 (-x32)\" 522 KiB\n[ebuild  N     ] net-dialup/ppp-scripts-0::gentoo  2 KiB\n[ebuild  N     ] acct-user/colord-0::gentoo  0 KiB\n[ebuild  N     ] app-text/docbook-sgml-dtd-3.0-r5:3.0::gentoo  43 KiB\n[ebuild  N     ] app-text/docbook-dsssl-stylesheets-1.79-r4::gentoo  272 KiB\n[ebuild   R    ] dev-libs/libpcre-8.45-r1:3::gentoo  USE=\"bzip2 cxx jit readline (split-usr) (unicode) zlib -libedit -pcre16 -pcre32 -static-libs*\" ABI_X86=\"(64) -32 (-x32)\" 1542 KiB\n[ebuild  N     ] sys-libs/slang-2.3.2::gentoo  USE=\"pcre png readline zlib -cjk -static-libs\" ABI_X86=\"(64) -32 (-x32)\" 1550 KiB\n[ebuild  N     ] dev-lang/swig-4.0.2::gentoo  USE=\"pcre -ccache -doc\" 7908 KiB\n[ebuild  N     ] dev-perl/X11-Protocol-0.560.0-r2::gentoo  USE=\"-examples -test\" 99 KiB\n[ebuild  N     ] dev-perl/Text-Iconv-1.700.0-r3::gentoo  USE=\"-test\" 11 KiB\n[ebuild  N     ] virtual/perl-Time-HiRes-1.976.700::gentoo  0 KiB\n[ebuild  N     ] dev-perl/Tie-IxHash-1.230.0-r1::gentoo  USE=\"-test\" 10 KiB\n[ebuild  N     ] dev-perl/XML-XPath-1.440.0::gentoo  USE=\"-examples -test\" 55 KiB\n[ebuild  N     ] dev-perl/XML-Twig-3.520.0-r1::gentoo  USE=\"nls -test\" 399 KiB\n[ebuild   R    ] sys-libs/pam-1.5.1_p20210622-r1::gentoo  USE=\"filecaps* (split-usr) -audit -berkdb -debug -nis (-selinux)\" ABI_X86=\"(64) -32 (-x32)\" 826 KiB\n[ebuild   R    ] dev-db/sqlite-3.38.5:3::gentoo  USE=\"icu* readline -debug -doc -secure-delete -static-libs -tcl -test -tools\" ABI_X86=\"(64) -32 (-x32)\" 12935 KiB\n[ebuild  N     ] dev-libs/libnl-3.5.0:3::gentoo  USE=\"debug -python -test -utils\" ABI_X86=\"(64) -32 (-x32)\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9\" 946 KiB\n[ebuild  N     ] net-misc/mobile-broadband-provider-info-20220511::gentoo  USE=\"-test\" 84 KiB\n[ebuild  N     ] dev-libs/newt-0.52.21_p20210816::gentoo  USE=\"gpm nls -tcl\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9\" 126 KiB\n[ebuild  N     ] dev-libs/nspr-4.34::gentoo  USE=\"-debug\" ABI_X86=\"(64) -32 (-x32)\" 1071 KiB\n[ebuild   R    ] app-crypt/libb2-0.98.1-r2::gentoo  USE=\"openmp* -native-cflags -static-libs\" ABI_X86=\"(64) -32 (-x32)\" 275 KiB\n[ebuild  N     ] dev-util/itstool-2.0.7::gentoo  PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\" 103 KiB\n[ebuild  N     ] dev-libs/nss-3.68.4::gentoo  USE=\"-cacert -utils\" ABI_X86=\"(64) -32 (-x32)\" 80478 KiB\n[ebuild  N     ] app-text/docbook-xsl-ns-stylesheets-1.79.1::gentoo  USE=\"-ruby\" 21448 KiB\n[ebuild  N     ] dev-libs/json-c-0.16-r1:0/5::gentoo  USE=\"-doc -static-libs -threads\" ABI_X86=\"(64) -32 (-x32)\" CPU_FLAGS_X86=\"-rdrand\" 344 KiB\n[ebuild  N     ] dev-perl/Net-DBus-1.2.0::gentoo  USE=\"-test\" 106 KiB\n[ebuild  N     ] dev-util/sysprof-capture-3.44.0:4::gentoo  ABI_X86=\"(64) -32 (-x32)\" 483 KiB\n[ebuild   R    ] net-misc/iputils-20211215::gentoo  USE=\"arping filecaps* nls -caps -clockdiff -doc -idn -rarpd -rdisc -static -test -tracepath\" 530 KiB\n[ebuild  N     ] dev-util/wayland-scanner-1.20.0::gentoo  220 KiB\n[ebuild  N     ] dev-libs/wayland-1.20.0::gentoo  USE=\"-doc -test\" ABI_X86=\"(64) -32 (-x32)\" 0 KiB\n[ebuild  N     ] dev-libs/wayland-protocols-1.25::gentoo  USE=\"-test\" 78 KiB\n[ebuild   R    ] x11-libs/libxkbcommon-1.4.1::gentoo  USE=\"X wayland* -doc -static-libs -test -tools\" ABI_X86=\"(64) -32 (-x32)\" 461 KiB\n[ebuild   R    ] dev-libs/glib-2.72.2:2::gentoo  USE=\"dbus elf (mime) sysprof* xattr -debug -fam -gtk-doc (-selinux) -static-libs -systemtap -test -utils\" ABI_X86=\"(64) -32 (-x32)\" 4777 KiB\n[ebuild  N     ] dev-util/sysprof-capture-3.36.0-r1:3::gentoo  ABI_X86=\"(64) -32 (-x32)\" 426 KiB\n[ebuild  N     ] net-libs/libmbim-1.26.4::gentoo  553 KiB\n[ebuild  N     ] dev-util/gtk-doc-1.33.2::gentoo  USE=\"-emacs -test\" PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\" 496 KiB\n[ebuild  N     ] dev-qt/qttest-5.15.5:5/5.15::gentoo  USE=\"-debug -test\" 49582 KiB\n[ebuild  N     ] net-libs/libndp-1.8::gentoo  ABI_X86=\"(64) -32 (-x32)\" 357 KiB\n[ebuild  N     ] x11-themes/gnome-themes-standard-3.28::gentoo  2885 KiB\n[ebuild  N     ] dev-libs/libgudev-237-r1::gentoo  USE=\"introspection -test\" ABI_X86=\"(64) -32 (-x32)\" 29 KiB           [ebuild   R    ] x11-misc/xdg-utils-1.1.3_p20200220-r5::gentoo  USE=\"dbus gnome* -doc\" 281 KiB\n[ebuild  N     ] dev-libs/libical-3.0.14-r1:0/3::gentoo  USE=\"glib introspection vala -doc -examples -static-libs -test\" 867 KiB\n[ebuild  N     ] net-libs/libqmi-1.30.6:0/5.8::gentoo  USE=\"mbim -gtk-doc\" 1214 KiB\n[ebuild  N     ] dev-libs/libgusb-0.3.10::gentoo  USE=\"introspection vala -gtk-doc -static-libs -test\" ABI_X86=\"(64) -32 (-x32)\" 42 KiB\n[ebuild  N     ] dev-python/m2crypto-0.38.0::gentoo  USE=\"-test\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9 (-python3_11)\" 1213 KiB\n[ebuild  N     ] net-wireless/crda-4.14::gentoo  USE=\"-gcrypt\" 72 KiB\n[ebuild  N     ] net-wireless/bluez-5.64:0/3::gentoo  USE=\"cups mesh obex readline systemd udev -btpclient -debug -deprecated -doc -experimental -extra-tools -midi (-selinux) -test -test-programs\" ABI_X86=\"(64) -32 (-x32)\" PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\" 2125 KiB\n[ebuild   R    ] media-libs/mesa-22.0.5::gentoo  USE=\"X gles2 llvm wayland* zstd -d3d9 -debug -gles1 -lm-sensors -opencl -osmesa (-selinux) -test -unwind -vaapi -valgrind -vdpau -vulkan -vulkan-overlay -xa -xvmc -zink\" ABI_X86=\"(64) -32 (-x32)\" CPU_FLAGS_X86=\"sse2\" VIDEO_CARDS=\"intel nouveau radeon radeonsi (-freedreno) (-lima) (-panfrost) -r300 -r600 (-v3d) (-vc4) -virgl (-vivante) -vmware\" 15408 KiB\n[ebuild  N     ] dev-python/pycairo-1.21.0::gentoo  USE=\"-doc -examples -test\" PYTHON_TARGETS=\"python3_10 (-pypy3) -python3_8 -python3_9 (-python3_11)\" 333 KiB\n[ebuild   R    ] x11-libs/pango-1.50.7::gentoo  USE=\"X introspection sysprof* -debug -test\" ABI_X86=\"(64) -32 (-x32)\" 4195 KiB\n[ebuild  N     ] dev-python/pygobject-3.42.1:3::gentoo  USE=\"cairo -examples -test\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9 (-python3_11)\" 545 KiB\n[ebuild   R    ] dev-qt/qtgui-5.15.5:5/5.15.5::gentoo  USE=\"X dbus egl gif jpeg libinput png udev wayland* -accessibility -debug -eglfs -evdev -gles2-only -ibus -linuxfb -test -tslib -tuio -vnc -vulkan\" 0 KiB\n[ebuild  NS    ] x11-libs/gtk+-2.24.33:2::gentoo [3.24.34:3::gentoo] USE=\"cups introspection (-aqua) -examples -test -vim-syntax -xinerama (-X%*) (-broadway%) (-colord%) (-gtk-doc%) (-sysprof%) (-wayland%)\" ABI_X86=\"(64) -32 (-x32)\" 12366 KiB\n[ebuild  N     ] x11-themes/gtk-engines-adwaita-3.28::gentoo  ABI_X86=\"(64) -32 (-x32)\" 0 KiB\n[ebuild  N     ] net-dialup/ppp-2.4.9-r8:0/2.4.9::gentoo  USE=\"eap-tls gtk ipv6 pam systemd -activefilter -atm -dhcp -radius\" 754 KiB\n[ebuild   R    ] sys-auth/pambase-20220214::gentoo  USE=\"gnome-keyring* nullok passwdqc sha512 systemd -caps -debug (-elogind) -homed -minimal -mktemp -pam_krb5 -pam_ssh -pwhistory -pwquality -securetty (-selinux) -yescrypt\" 4 KiB          [ebuild  N     ] x11-misc/colord-1.4.6:0/2::gentoo  USE=\"introspection systemd -argyllcms -examples -extra-print-profiles -gtk-doc -scanner (-selinux) -test -vala\" ABI_X86=\"(64) -32 (-x32)\" 1829 KiB\n[ebuild   R    ] x11-libs/gtk+-3.24.34:3::gentoo  USE=\"X colord* cups introspection sysprof* wayland* (-aqua) -broadway -examples -gtk-doc -test -vim-syntax -xinerama\" ABI_X86=\"(64) -32 (-x32)\" 21082 KiB\n[ebuild  N     ] net-misc/modemmanager-1.18.8:0/1::gentoo  USE=\"introspection policykit qmi systemd udev (-elogind) -mbim -test -vala\" 2475 KiB\n[ebuild  N     ] dev-qt/qtsvg-5.15.5:5/5.15::gentoo  USE=\"-debug -test\" 1851 KiB\n[ebuild  N     ] net-wireless/wpa_supplicant-2.10-r1::gentoo  USE=\"crda dbus fils hs2-0 mbo mesh qt5 readline -ap -broadcom-sta -eap-sim -eapol-test -fasteap -macsec -p2p -privsep (-ps3) (-selinux) -smartcard -tdls -tkip -uncommon-eap-types -wep (-wimax) -wps\" 3430 KiB\n[ebuild  N     ] net-misc/networkmanager-1.38.2::gentoo  USE=\"bluetooth concheck gtk-doc introspection modemmanager nss policykit ppp systemd tools wext wifi -audit -connection-sharing -debug -dhclient -dhcpcd (-elogind) -gnutls -iptables -iwd -libedit -lto -nftables -ofono -ovs -psl -resolvconf (-selinux) -syslog -teamd -test -vala\" ABI_X86=\"(64) -32 (-x32)\" 5398 KiB\n[ebuild  N     ] dev-qt/qtnetwork-5.15.5:5/5.15::gentoo  USE=\"networkmanager ssl -connman -debug -gssapi -libproxy -sctp -test\" 0 KiB\n[ebuild  N     ] dev-qt/qtdeclarative-5.15.5:5/5.15::gentoo  USE=\"jit widgets -debug -gles2-only -localstorage -test -vulkan\" 21098 KiB\n[ebuild  N     ] dev-qt/qtwayland-5.15.5:5/5.15.5::gentoo  USE=\"X -debug -test -vulkan\" 586 KiB\n[ebuild   R    ] app-crypt/pinentry-1.2.0::gentoo  USE=\"gnome-keyring* gtk ncurses qt5 -caps -efl -emacs\" 487 KiB\nTotal: 69 packages (54 new, 1 in new slot, 14 reinstalls), Size of downloads: 289683 KiB\nWould you like to merge these packages? [Yes/No]\n```\n\n## 2.5 安装内核、固件\n\n```bash\n(chroot)livecd / # emerge --ask gentoo-kernel\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] app-text/asciidoc-9.1.0  USE=\"-doc -test\" PYTHON_SINGLE_TARGET=\"python3_10 (-pypy3) -python3_8 -python3_9\"\n[ebuild  N     ] sys-kernel/dracut-055-r4  USE=\"(-selinux) (-test)\"\n[ebuild  N     ] sys-kernel/gentoo-kernel-5.15.48  USE=\"initramfs -debug -hardened -savedconfig -test\"\n[ebuild  N     ] virtual/dist-kernel-5.15.48\nWould you like to merge these packages? [Yes/No]   \n```\n\n```bash\n(chroot)livecd / # emerge --ask linux-firmware\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] sys-kernel/linux-firmware-20220610  USE=\"redistributable -initramfs -savedconfig (-unknown-license)\"\n```\n\n## 2.6 配置引导\n\n```bash\n(chroot)livecd / # emerge --ask grub\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] sys-apps/pciutils-3.8.0  USE=\"kmod udev zlib -dns -static-libs\" ABI_X86=\"(64) -32 (-x32)\"\n[ebuild  N     ] sys-libs/efivar-37\n[ebuild  N     ] sys-boot/efibootmgr-17\n[ebuild  N     ] sys-boot/grub-2.06-r2  USE=\"fonts nls sdl themes truetype -device-mapper -doc -efiemu -libzfs -mount (-test)\" GRUB_PLATFORMS=\"efi-64 pc -coreboot -efi-32 -emu -ieee1275 (-loongson) -multiboot -qemu (-qemu-mips) -uboot -xen -xen-32 -xen-pvh\" \n\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --removable\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.  \n(chroot)livecd / # grub-mkconfig -o /boot/grub/grub.cfg\nGenerating grub configuration file ...                                                                                                     Found linux image: /boot/vmlinuz-5.15.48-gentoo-dist                                                                                       Found initrd image: /boot/initramfs-5.15.48-gentoo-dist.img                                                                                Warning: os-prober will not be executed to detect other bootable partitions.                                                               Systems on them will not be added to the GRUB boot configuration.                                                                          Check GRUB_DISABLE_OS_PROBER documentation entry.                                                                                          Adding boot menu entry for UEFI Firmware Settings ...                                                                                      done        \n```\n\n## 2.7 时区、字符集配置\n\n```bash\necho 'Asia/Shanghai' > /etc/timezone\nrm /etc/localtime\nemerge --config sys-libs/timezone-data\nvim /etc/locale.gen\nlocale-gen\n\ndd if=/dev/zero of=/swapfile bs=1M count=8192 status=progress\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho \"/swapfile               none    swap    defaults        0 0\" >> /etc/fstab\n```\n\n## 2.8 virtualbox 虚拟机配置\n\n```bash\n# 新建用户\nuseradd -m -g wheel -G usb,users,audio -s /bin/bash -N miloo\n\n# 如果是虚拟机需要添加到以下两个组\ngpasswd -a miloo vboxguest\ngpasswd -a miloo vboxsf\n\n# virtualbox 虚拟机安装后操作\nemerge --ask app-emulation/virtualbox-guest-additions\nsystemctl enable --now virtualbox-guest-additions\n```\n\n# 3 USE\n\n## 3.1 make.conf\n\n```bash\n\n```\n\n## 3.2 USE\n\n\n\n# 4 tools\n\n## 4.1 包管理\n\n### 4.1.1 app-portage/eix\n\n```bash\napp-portage/eix\napp-portage/gentoolkit\n```\n\n## 4.2 文件系统\n\n### 4.2.1 sys-fs/lvm2\n\n```bash\nsys-fs/lvm2\n```\n\n### 4.2.2 ntfs\n\n```bash\nsys-fs/ntfs3g\n```\n\n## 4.3 DE\n\n### 4.3.1 gnome \n\n> 一定要有swap分区，否则编译不会通过  \n> make。conf 中 MAKEOPTS=\"-j4\" 此条不存在编译也会失败\n\n```bash\ngnome-base/gnome-light\ngnome-base/gconf\ngnome-extra/gnome-tweaks\n```\n\n## 4.4 vitual\n\n### 4.4.1 virtualbox\n\n```bash\napp-emulation/virtualbox\napp-emulation/virtualbox-additions\napp-emulation/virtualbox-extpack-oracle\napp-emulation/virtualbox-modules\napp-emulation/virtualbox-guest-additions  # gentoo虚拟机安装\n```\n\n### 4.4.2 kvm\n\n```bash\napp-emulation/libvirt\napp-emulation/virt-manager\n```\n\n> ### 4.4.3 gnome-boxes\n> Emerge qemu once with USE=-spice then emerge spice and then qemu again, this time with USE=spice\n\n\n# 5 系统迁移\n\ngetfacl -R ./ > acl.txt\nsetfacl --restore=acl.txt\n\n\n\n","source":"_posts/2022-07-04.gentoo配置手册 copy.md","raw":"---\ntitle: Gentoo 配置手册\nexcerpt: gentoo 安装配置记录……\nindex_img: /img/article-head/弱口令.jpeg\ndate: \"2022/7/4 10:46:25\"\nupdated: \"2022/6/23 14:46:25\"\nhide: false\ntags:\n- Linux\n- Gentoo\ncategories:\n- Linux\n- Gentoo\n---\n- [1 准备工作](#1-准备工作)\n  - [1.1 下载](#11-下载)\n  - [1.2 网络](#12-网络)\n  - [1.3 分区挂载](#13-分区挂载)\n  - [1.4 ssh连接最小化安装系统](#14-ssh连接最小化安装系统)\n- [2 安装](#2-安装)\n  - [2.1 解压基本系统](#21-解压基本系统)\n  - [2.2 镜像源与chroot](#22-镜像源与chroot)\n  - [2.3 portage仓库](#23-portage仓库)\n  - [2.4 profile选择](#24-profile选择)\n  - [2.5 安装内核、固件](#25-安装内核固件)\n  - [2.6 配置引导](#26-配置引导)\n  - [2.7 时区、字符集配置](#27-时区字符集配置)\n  - [2.8 virtualbox 虚拟机配置](#28-virtualbox-虚拟机配置)\n- [3 USE](#3-use)\n  - [3.1 make.conf](#31-makeconf)\n  - [3.2 USE](#32-use)\n- [4 tools](#4-tools)\n  - [4.1 包管理](#41-包管理)\n    - [4.1.1 app-portage/eix](#411-app-portageeix)\n  - [4.2 文件系统](#42-文件系统)\n    - [4.2.1 sys-fs/lvm2](#421-sys-fslvm2)\n    - [4.2.2 ntfs](#422-ntfs)\n  - [4.3 DE](#43-de)\n    - [4.3.1 gnome](#431-gnome)\n  - [4.4 vitual](#44-vitual)\n    - [4.4.1 virtualbox](#441-virtualbox)\n    - [4.4.2 kvm](#442-kvm)\n- [5 系统迁移](#5-系统迁移)\n# 1 准备工作\n## 1.1 下载\n- 下载[最小化安装镜像](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/), 名称为: `install-amd64-minimal-{日期}.iso`  \n\n- 下载[合适的stage3](https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/),以日期为路径: `20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz`\n## 1.2 网络\n&emsp;&emsp;基操忽略\n## 1.3 分区挂载\n&emsp;&emsp;基操忽略\n## 1.4 ssh连接最小化安装系统\n&emsp;&emsp;编辑 `sshd` 服务配置文件 `/etc/ssh/sshd_config`, 重启服务 `rc-server sshd restart`\n```bash\nPermitRootLogin yes\nPasswordAuthentication yes\n```\n# 2 安装\n## 2.1 解压基本系统\n```bash\nlivecd ~ # blkid\n/dev/sdb: UUID=\"e09609d8-0b90-4f34-aad1-8e5b37495f52\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\"\n/dev/sr0: BLOCK_SIZE=\"2048\" UUID=\"2022-07-03-19-01-40-00\" LABEL=\"Gentoo amd64 20220703T170542Z\" TYPE=\"iso9660\" PTUUID=\"5e426e6b\" PTTYPE=\"dos\"\nloop0: TYPE=\"squashfs\"\n/dev/sda2: UUID=\"14077ead-3683-4354-95eb-a106c52350e9\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"4af31142-0ead-0644-b34c-c01b7c0944e1\"\n/dev/sda1: UUID=\"831A-6EDD\" BLOCK_SIZE=\"512\" TYPE=\"vfat\" PARTUUID=\"733a54ad-b3d7-3842-8cc8-21b15d29e82d\"\nlivecd ~ # mount /dev/sda2 /mnt/gentoo/\nlivecd ~ # mkdir /mnt/gentoo/boot\nlivecd ~ # mount /dev/sda1 /mnt/gentoo/boot\nlivecd ~ # cd /mnt/gentoo/\nlivecd /mnt/gentoo # ls\nboot  lost+found\nlivecd /mnt/gentoo # wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz\n--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  \nResolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840\nConnecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 516402028 (492M) [application/octet-stream]\nSaving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’\nstage3-amd64-desktop-systemd- 100%[=================================================>] 492.48M  11.3MB/s    in 46s\n2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]\nlivecd /mnt/gentoo # tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include='*.*' --numeric-owner\n……\n```\n## 2.2 镜像源与chroot\n&emsp;&emsp;配置一个速度较快的镜像源服务器地址\n```bash\nmirrorselect -i -o >>/mnt/gentoo/etc/portage/make.conf  # 选择163和清华大学源\necho 'GENTOO_MIRRORS=\"https://mirrors.tuna.tsinghua.edu.cn/gentoo\"' >>/mnt/gentoo/etc/portage/make.conf\n# chroot 到目标系统\n# 复制 DNS 配置到目标系统环境\ncp -L /etc/resolv.conf /mnt/gentoo/etc/\n# 挂载必要的文件系统\nmount --types proc /proc /mnt/gentoo/proc\nmount --rbind /sys /mnt/gentoo/sys\nmount --rbind /dev /mnt/gentoo/dev\n# systemd stage3 额外执行\nmount --make-rslave /mnt/gentoo/sys\nmount --make-rslave /mnt/gentoo/dev\n# chroot 到目标系统环境\nchroot /mnt/gentoo\n# 导入环境信息\n. /etc/profile\n# 修改提示符以便于区分\nPS1=(chroot)$PS1\n```\n\n## 2.3 portage仓库\n\n```bash\n# 仓库信息打包下载到本地\nemerge-webrsync\n# 安装 vim\nemerge -ask app-editors/vim\n# vim USE\nCalculating dependencies... done!\n[ebuild  N     ] app-eselect/eselect-vi-1.2\n[ebuild  N     ] dev-libs/libsodium-1.0.18_p20210617  USE=\"asm urandom -minimal -static-libs -verify-sig\" ABI_X86=\"(64) -32 (-x32)\" CPU_FLAGS_X86=\"-aes -sse4_1\"\n[ebuild  N     ] app-editors/vim-core-8.2.4586  USE=\"acl nls -minimal\"\n[ebuild  N     ] app-editors/vim-8.2.4586  USE=\"X acl crypt gpm nls -cscope -debug -lua -minimal -perl -python -racket -ruby (-selinux) -sound -tcl -terminal -vim-pager\" LUA_SINGLE_TARGET=\"lua5-1 -luajit\" PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\"\n[ebuild  N     ] app-vim/gentoo-syntax-1  USE=\"-ignore-glep31\" \n```\n\n## 2.4 profile选择\n\n```bash\n(chroot)livecd / # eselect profile list\n(chroot)livecd / # eselect profile set 7\n(chroot)livecd / # emerge --ask --verbose --update --deep --newuse @world\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] acct-group/colord-0::gentoo  0 KiB\n[ebuild  N     ] acct-group/plugdev-0-r1::gentoo  0 KiB\n[ebuild  N     ] net-wireless/wireless-regdb-20220606::gentoo  27 KiB\n[ebuild  N     ] dev-libs/ell-0.50::gentoo  USE=\"-pie -test\" ABI_X86=\"(64) -32 (-x32)\" 522 KiB\n[ebuild  N     ] net-dialup/ppp-scripts-0::gentoo  2 KiB\n[ebuild  N     ] acct-user/colord-0::gentoo  0 KiB\n[ebuild  N     ] app-text/docbook-sgml-dtd-3.0-r5:3.0::gentoo  43 KiB\n[ebuild  N     ] app-text/docbook-dsssl-stylesheets-1.79-r4::gentoo  272 KiB\n[ebuild   R    ] dev-libs/libpcre-8.45-r1:3::gentoo  USE=\"bzip2 cxx jit readline (split-usr) (unicode) zlib -libedit -pcre16 -pcre32 -static-libs*\" ABI_X86=\"(64) -32 (-x32)\" 1542 KiB\n[ebuild  N     ] sys-libs/slang-2.3.2::gentoo  USE=\"pcre png readline zlib -cjk -static-libs\" ABI_X86=\"(64) -32 (-x32)\" 1550 KiB\n[ebuild  N     ] dev-lang/swig-4.0.2::gentoo  USE=\"pcre -ccache -doc\" 7908 KiB\n[ebuild  N     ] dev-perl/X11-Protocol-0.560.0-r2::gentoo  USE=\"-examples -test\" 99 KiB\n[ebuild  N     ] dev-perl/Text-Iconv-1.700.0-r3::gentoo  USE=\"-test\" 11 KiB\n[ebuild  N     ] virtual/perl-Time-HiRes-1.976.700::gentoo  0 KiB\n[ebuild  N     ] dev-perl/Tie-IxHash-1.230.0-r1::gentoo  USE=\"-test\" 10 KiB\n[ebuild  N     ] dev-perl/XML-XPath-1.440.0::gentoo  USE=\"-examples -test\" 55 KiB\n[ebuild  N     ] dev-perl/XML-Twig-3.520.0-r1::gentoo  USE=\"nls -test\" 399 KiB\n[ebuild   R    ] sys-libs/pam-1.5.1_p20210622-r1::gentoo  USE=\"filecaps* (split-usr) -audit -berkdb -debug -nis (-selinux)\" ABI_X86=\"(64) -32 (-x32)\" 826 KiB\n[ebuild   R    ] dev-db/sqlite-3.38.5:3::gentoo  USE=\"icu* readline -debug -doc -secure-delete -static-libs -tcl -test -tools\" ABI_X86=\"(64) -32 (-x32)\" 12935 KiB\n[ebuild  N     ] dev-libs/libnl-3.5.0:3::gentoo  USE=\"debug -python -test -utils\" ABI_X86=\"(64) -32 (-x32)\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9\" 946 KiB\n[ebuild  N     ] net-misc/mobile-broadband-provider-info-20220511::gentoo  USE=\"-test\" 84 KiB\n[ebuild  N     ] dev-libs/newt-0.52.21_p20210816::gentoo  USE=\"gpm nls -tcl\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9\" 126 KiB\n[ebuild  N     ] dev-libs/nspr-4.34::gentoo  USE=\"-debug\" ABI_X86=\"(64) -32 (-x32)\" 1071 KiB\n[ebuild   R    ] app-crypt/libb2-0.98.1-r2::gentoo  USE=\"openmp* -native-cflags -static-libs\" ABI_X86=\"(64) -32 (-x32)\" 275 KiB\n[ebuild  N     ] dev-util/itstool-2.0.7::gentoo  PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\" 103 KiB\n[ebuild  N     ] dev-libs/nss-3.68.4::gentoo  USE=\"-cacert -utils\" ABI_X86=\"(64) -32 (-x32)\" 80478 KiB\n[ebuild  N     ] app-text/docbook-xsl-ns-stylesheets-1.79.1::gentoo  USE=\"-ruby\" 21448 KiB\n[ebuild  N     ] dev-libs/json-c-0.16-r1:0/5::gentoo  USE=\"-doc -static-libs -threads\" ABI_X86=\"(64) -32 (-x32)\" CPU_FLAGS_X86=\"-rdrand\" 344 KiB\n[ebuild  N     ] dev-perl/Net-DBus-1.2.0::gentoo  USE=\"-test\" 106 KiB\n[ebuild  N     ] dev-util/sysprof-capture-3.44.0:4::gentoo  ABI_X86=\"(64) -32 (-x32)\" 483 KiB\n[ebuild   R    ] net-misc/iputils-20211215::gentoo  USE=\"arping filecaps* nls -caps -clockdiff -doc -idn -rarpd -rdisc -static -test -tracepath\" 530 KiB\n[ebuild  N     ] dev-util/wayland-scanner-1.20.0::gentoo  220 KiB\n[ebuild  N     ] dev-libs/wayland-1.20.0::gentoo  USE=\"-doc -test\" ABI_X86=\"(64) -32 (-x32)\" 0 KiB\n[ebuild  N     ] dev-libs/wayland-protocols-1.25::gentoo  USE=\"-test\" 78 KiB\n[ebuild   R    ] x11-libs/libxkbcommon-1.4.1::gentoo  USE=\"X wayland* -doc -static-libs -test -tools\" ABI_X86=\"(64) -32 (-x32)\" 461 KiB\n[ebuild   R    ] dev-libs/glib-2.72.2:2::gentoo  USE=\"dbus elf (mime) sysprof* xattr -debug -fam -gtk-doc (-selinux) -static-libs -systemtap -test -utils\" ABI_X86=\"(64) -32 (-x32)\" 4777 KiB\n[ebuild  N     ] dev-util/sysprof-capture-3.36.0-r1:3::gentoo  ABI_X86=\"(64) -32 (-x32)\" 426 KiB\n[ebuild  N     ] net-libs/libmbim-1.26.4::gentoo  553 KiB\n[ebuild  N     ] dev-util/gtk-doc-1.33.2::gentoo  USE=\"-emacs -test\" PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\" 496 KiB\n[ebuild  N     ] dev-qt/qttest-5.15.5:5/5.15::gentoo  USE=\"-debug -test\" 49582 KiB\n[ebuild  N     ] net-libs/libndp-1.8::gentoo  ABI_X86=\"(64) -32 (-x32)\" 357 KiB\n[ebuild  N     ] x11-themes/gnome-themes-standard-3.28::gentoo  2885 KiB\n[ebuild  N     ] dev-libs/libgudev-237-r1::gentoo  USE=\"introspection -test\" ABI_X86=\"(64) -32 (-x32)\" 29 KiB           [ebuild   R    ] x11-misc/xdg-utils-1.1.3_p20200220-r5::gentoo  USE=\"dbus gnome* -doc\" 281 KiB\n[ebuild  N     ] dev-libs/libical-3.0.14-r1:0/3::gentoo  USE=\"glib introspection vala -doc -examples -static-libs -test\" 867 KiB\n[ebuild  N     ] net-libs/libqmi-1.30.6:0/5.8::gentoo  USE=\"mbim -gtk-doc\" 1214 KiB\n[ebuild  N     ] dev-libs/libgusb-0.3.10::gentoo  USE=\"introspection vala -gtk-doc -static-libs -test\" ABI_X86=\"(64) -32 (-x32)\" 42 KiB\n[ebuild  N     ] dev-python/m2crypto-0.38.0::gentoo  USE=\"-test\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9 (-python3_11)\" 1213 KiB\n[ebuild  N     ] net-wireless/crda-4.14::gentoo  USE=\"-gcrypt\" 72 KiB\n[ebuild  N     ] net-wireless/bluez-5.64:0/3::gentoo  USE=\"cups mesh obex readline systemd udev -btpclient -debug -deprecated -doc -experimental -extra-tools -midi (-selinux) -test -test-programs\" ABI_X86=\"(64) -32 (-x32)\" PYTHON_SINGLE_TARGET=\"python3_10 -python3_8 -python3_9\" 2125 KiB\n[ebuild   R    ] media-libs/mesa-22.0.5::gentoo  USE=\"X gles2 llvm wayland* zstd -d3d9 -debug -gles1 -lm-sensors -opencl -osmesa (-selinux) -test -unwind -vaapi -valgrind -vdpau -vulkan -vulkan-overlay -xa -xvmc -zink\" ABI_X86=\"(64) -32 (-x32)\" CPU_FLAGS_X86=\"sse2\" VIDEO_CARDS=\"intel nouveau radeon radeonsi (-freedreno) (-lima) (-panfrost) -r300 -r600 (-v3d) (-vc4) -virgl (-vivante) -vmware\" 15408 KiB\n[ebuild  N     ] dev-python/pycairo-1.21.0::gentoo  USE=\"-doc -examples -test\" PYTHON_TARGETS=\"python3_10 (-pypy3) -python3_8 -python3_9 (-python3_11)\" 333 KiB\n[ebuild   R    ] x11-libs/pango-1.50.7::gentoo  USE=\"X introspection sysprof* -debug -test\" ABI_X86=\"(64) -32 (-x32)\" 4195 KiB\n[ebuild  N     ] dev-python/pygobject-3.42.1:3::gentoo  USE=\"cairo -examples -test\" PYTHON_TARGETS=\"python3_10 -python3_8 -python3_9 (-python3_11)\" 545 KiB\n[ebuild   R    ] dev-qt/qtgui-5.15.5:5/5.15.5::gentoo  USE=\"X dbus egl gif jpeg libinput png udev wayland* -accessibility -debug -eglfs -evdev -gles2-only -ibus -linuxfb -test -tslib -tuio -vnc -vulkan\" 0 KiB\n[ebuild  NS    ] x11-libs/gtk+-2.24.33:2::gentoo [3.24.34:3::gentoo] USE=\"cups introspection (-aqua) -examples -test -vim-syntax -xinerama (-X%*) (-broadway%) (-colord%) (-gtk-doc%) (-sysprof%) (-wayland%)\" ABI_X86=\"(64) -32 (-x32)\" 12366 KiB\n[ebuild  N     ] x11-themes/gtk-engines-adwaita-3.28::gentoo  ABI_X86=\"(64) -32 (-x32)\" 0 KiB\n[ebuild  N     ] net-dialup/ppp-2.4.9-r8:0/2.4.9::gentoo  USE=\"eap-tls gtk ipv6 pam systemd -activefilter -atm -dhcp -radius\" 754 KiB\n[ebuild   R    ] sys-auth/pambase-20220214::gentoo  USE=\"gnome-keyring* nullok passwdqc sha512 systemd -caps -debug (-elogind) -homed -minimal -mktemp -pam_krb5 -pam_ssh -pwhistory -pwquality -securetty (-selinux) -yescrypt\" 4 KiB          [ebuild  N     ] x11-misc/colord-1.4.6:0/2::gentoo  USE=\"introspection systemd -argyllcms -examples -extra-print-profiles -gtk-doc -scanner (-selinux) -test -vala\" ABI_X86=\"(64) -32 (-x32)\" 1829 KiB\n[ebuild   R    ] x11-libs/gtk+-3.24.34:3::gentoo  USE=\"X colord* cups introspection sysprof* wayland* (-aqua) -broadway -examples -gtk-doc -test -vim-syntax -xinerama\" ABI_X86=\"(64) -32 (-x32)\" 21082 KiB\n[ebuild  N     ] net-misc/modemmanager-1.18.8:0/1::gentoo  USE=\"introspection policykit qmi systemd udev (-elogind) -mbim -test -vala\" 2475 KiB\n[ebuild  N     ] dev-qt/qtsvg-5.15.5:5/5.15::gentoo  USE=\"-debug -test\" 1851 KiB\n[ebuild  N     ] net-wireless/wpa_supplicant-2.10-r1::gentoo  USE=\"crda dbus fils hs2-0 mbo mesh qt5 readline -ap -broadcom-sta -eap-sim -eapol-test -fasteap -macsec -p2p -privsep (-ps3) (-selinux) -smartcard -tdls -tkip -uncommon-eap-types -wep (-wimax) -wps\" 3430 KiB\n[ebuild  N     ] net-misc/networkmanager-1.38.2::gentoo  USE=\"bluetooth concheck gtk-doc introspection modemmanager nss policykit ppp systemd tools wext wifi -audit -connection-sharing -debug -dhclient -dhcpcd (-elogind) -gnutls -iptables -iwd -libedit -lto -nftables -ofono -ovs -psl -resolvconf (-selinux) -syslog -teamd -test -vala\" ABI_X86=\"(64) -32 (-x32)\" 5398 KiB\n[ebuild  N     ] dev-qt/qtnetwork-5.15.5:5/5.15::gentoo  USE=\"networkmanager ssl -connman -debug -gssapi -libproxy -sctp -test\" 0 KiB\n[ebuild  N     ] dev-qt/qtdeclarative-5.15.5:5/5.15::gentoo  USE=\"jit widgets -debug -gles2-only -localstorage -test -vulkan\" 21098 KiB\n[ebuild  N     ] dev-qt/qtwayland-5.15.5:5/5.15.5::gentoo  USE=\"X -debug -test -vulkan\" 586 KiB\n[ebuild   R    ] app-crypt/pinentry-1.2.0::gentoo  USE=\"gnome-keyring* gtk ncurses qt5 -caps -efl -emacs\" 487 KiB\nTotal: 69 packages (54 new, 1 in new slot, 14 reinstalls), Size of downloads: 289683 KiB\nWould you like to merge these packages? [Yes/No]\n```\n\n## 2.5 安装内核、固件\n\n```bash\n(chroot)livecd / # emerge --ask gentoo-kernel\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] app-text/asciidoc-9.1.0  USE=\"-doc -test\" PYTHON_SINGLE_TARGET=\"python3_10 (-pypy3) -python3_8 -python3_9\"\n[ebuild  N     ] sys-kernel/dracut-055-r4  USE=\"(-selinux) (-test)\"\n[ebuild  N     ] sys-kernel/gentoo-kernel-5.15.48  USE=\"initramfs -debug -hardened -savedconfig -test\"\n[ebuild  N     ] virtual/dist-kernel-5.15.48\nWould you like to merge these packages? [Yes/No]   \n```\n\n```bash\n(chroot)livecd / # emerge --ask linux-firmware\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] sys-kernel/linux-firmware-20220610  USE=\"redistributable -initramfs -savedconfig (-unknown-license)\"\n```\n\n## 2.6 配置引导\n\n```bash\n(chroot)livecd / # emerge --ask grub\n!!! It seems /run is not mounted. Process management may malfunction.\n* IMPORTANT: 10 news items need reading for repository 'gentoo'.\n* Use eselect news read to view new items.\nThese are the packages that would be merged, in order:\nCalculating dependencies... done!\n[ebuild  N     ] sys-apps/pciutils-3.8.0  USE=\"kmod udev zlib -dns -static-libs\" ABI_X86=\"(64) -32 (-x32)\"\n[ebuild  N     ] sys-libs/efivar-37\n[ebuild  N     ] sys-boot/efibootmgr-17\n[ebuild  N     ] sys-boot/grub-2.06-r2  USE=\"fonts nls sdl themes truetype -device-mapper -doc -efiemu -libzfs -mount (-test)\" GRUB_PLATFORMS=\"efi-64 pc -coreboot -efi-32 -emu -ieee1275 (-loongson) -multiboot -qemu (-qemu-mips) -uboot -xen -xen-32 -xen-pvh\" \n\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.\n(chroot)livecd / # grub-install --target=x86_64-efi --efi-directory=/boot --removable\nInstalling for x86_64-efi platform.\nInstallation finished. No error reported.  \n(chroot)livecd / # grub-mkconfig -o /boot/grub/grub.cfg\nGenerating grub configuration file ...                                                                                                     Found linux image: /boot/vmlinuz-5.15.48-gentoo-dist                                                                                       Found initrd image: /boot/initramfs-5.15.48-gentoo-dist.img                                                                                Warning: os-prober will not be executed to detect other bootable partitions.                                                               Systems on them will not be added to the GRUB boot configuration.                                                                          Check GRUB_DISABLE_OS_PROBER documentation entry.                                                                                          Adding boot menu entry for UEFI Firmware Settings ...                                                                                      done        \n```\n\n## 2.7 时区、字符集配置\n\n```bash\necho 'Asia/Shanghai' > /etc/timezone\nrm /etc/localtime\nemerge --config sys-libs/timezone-data\nvim /etc/locale.gen\nlocale-gen\n\ndd if=/dev/zero of=/swapfile bs=1M count=8192 status=progress\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho \"/swapfile               none    swap    defaults        0 0\" >> /etc/fstab\n```\n\n## 2.8 virtualbox 虚拟机配置\n\n```bash\n# 新建用户\nuseradd -m -g wheel -G usb,users,audio -s /bin/bash -N miloo\n\n# 如果是虚拟机需要添加到以下两个组\ngpasswd -a miloo vboxguest\ngpasswd -a miloo vboxsf\n\n# virtualbox 虚拟机安装后操作\nemerge --ask app-emulation/virtualbox-guest-additions\nsystemctl enable --now virtualbox-guest-additions\n```\n\n# 3 USE\n\n## 3.1 make.conf\n\n```bash\n\n```\n\n## 3.2 USE\n\n\n\n# 4 tools\n\n## 4.1 包管理\n\n### 4.1.1 app-portage/eix\n\n```bash\napp-portage/eix\napp-portage/gentoolkit\n```\n\n## 4.2 文件系统\n\n### 4.2.1 sys-fs/lvm2\n\n```bash\nsys-fs/lvm2\n```\n\n### 4.2.2 ntfs\n\n```bash\nsys-fs/ntfs3g\n```\n\n## 4.3 DE\n\n### 4.3.1 gnome \n\n> 一定要有swap分区，否则编译不会通过  \n> make。conf 中 MAKEOPTS=\"-j4\" 此条不存在编译也会失败\n\n```bash\ngnome-base/gnome-light\ngnome-base/gconf\ngnome-extra/gnome-tweaks\n```\n\n## 4.4 vitual\n\n### 4.4.1 virtualbox\n\n```bash\napp-emulation/virtualbox\napp-emulation/virtualbox-additions\napp-emulation/virtualbox-extpack-oracle\napp-emulation/virtualbox-modules\napp-emulation/virtualbox-guest-additions  # gentoo虚拟机安装\n```\n\n### 4.4.2 kvm\n\n```bash\napp-emulation/libvirt\napp-emulation/virt-manager\n```\n\n> ### 4.4.3 gnome-boxes\n> Emerge qemu once with USE=-spice then emerge spice and then qemu again, this time with USE=spice\n\n\n# 5 系统迁移\n\ngetfacl -R ./ > acl.txt\nsetfacl --restore=acl.txt\n\n\n\n","slug":"2022-07-04.gentoo配置手册 copy","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5ke3u9x0011t2na57eq19e2","content":"<ul>\n<li><a href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">1 准备工作</a><ul>\n<li><a href=\"#11-%E4%B8%8B%E8%BD%BD\">1.1 下载</a></li>\n<li><a href=\"#12-%E7%BD%91%E7%BB%9C\">1.2 网络</a></li>\n<li><a href=\"#13-%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD\">1.3 分区挂载</a></li>\n<li><a href=\"#14-ssh%E8%BF%9E%E6%8E%A5%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F\">1.4 ssh连接最小化安装系统</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85\">2 安装</a><ul>\n<li><a href=\"#21-%E8%A7%A3%E5%8E%8B%E5%9F%BA%E6%9C%AC%E7%B3%BB%E7%BB%9F\">2.1 解压基本系统</a></li>\n<li><a href=\"#22-%E9%95%9C%E5%83%8F%E6%BA%90%E4%B8%8Echroot\">2.2 镜像源与chroot</a></li>\n<li><a href=\"#23-portage%E4%BB%93%E5%BA%93\">2.3 portage仓库</a></li>\n<li><a href=\"#24-profile%E9%80%89%E6%8B%A9\">2.4 profile选择</a></li>\n<li><a href=\"#25-%E5%AE%89%E8%A3%85%E5%86%85%E6%A0%B8%E5%9B%BA%E4%BB%B6\">2.5 安装内核、固件</a></li>\n<li><a href=\"#26-%E9%85%8D%E7%BD%AE%E5%BC%95%E5%AF%BC\">2.6 配置引导</a></li>\n<li><a href=\"#27-%E6%97%B6%E5%8C%BA%E5%AD%97%E7%AC%A6%E9%9B%86%E9%85%8D%E7%BD%AE\">2.7 时区、字符集配置</a></li>\n<li><a href=\"#28-virtualbox-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE\">2.8 virtualbox 虚拟机配置</a></li>\n</ul>\n</li>\n<li><a href=\"#3-use\">3 USE</a><ul>\n<li><a href=\"#31-makeconf\">3.1 make.conf</a></li>\n<li><a href=\"#32-use\">3.2 USE</a></li>\n</ul>\n</li>\n<li><a href=\"#4-tools\">4 tools</a><ul>\n<li><a href=\"#41-%E5%8C%85%E7%AE%A1%E7%90%86\">4.1 包管理</a><ul>\n<li><a href=\"#411-app-portageeix\">4.1.1 app-portage&#x2F;eix</a></li>\n</ul>\n</li>\n<li><a href=\"#42-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\">4.2 文件系统</a><ul>\n<li><a href=\"#421-sys-fslvm2\">4.2.1 sys-fs&#x2F;lvm2</a></li>\n<li><a href=\"#422-ntfs\">4.2.2 ntfs</a></li>\n</ul>\n</li>\n<li><a href=\"#43-de\">4.3 DE</a><ul>\n<li><a href=\"#431-gnome\">4.3.1 gnome</a></li>\n</ul>\n</li>\n<li><a href=\"#44-vitual\">4.4 vitual</a><ul>\n<li><a href=\"#441-virtualbox\">4.4.1 virtualbox</a></li>\n<li><a href=\"#442-kvm\">4.4.2 kvm</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#5-%E7%B3%BB%E7%BB%9F%E8%BF%81%E7%A7%BB\">5 系统迁移</a></li>\n</ul>\n<h1 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1 准备工作\"></a>1 准备工作</h1><h2 id=\"1-1-下载\"><a href=\"#1-1-下载\" class=\"headerlink\" title=\"1.1 下载\"></a>1.1 下载</h2><ul>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/\">最小化安装镜像</a>, 名称为: <code>install-amd64-minimal-&#123;日期&#125;.iso</code>  </p>\n</li>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/\">合适的stage3</a>,以日期为路径: <code>20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</code></p>\n</li>\n</ul>\n<h2 id=\"1-2-网络\"><a href=\"#1-2-网络\" class=\"headerlink\" title=\"1.2 网络\"></a>1.2 网络</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-3-分区挂载\"><a href=\"#1-3-分区挂载\" class=\"headerlink\" title=\"1.3 分区挂载\"></a>1.3 分区挂载</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-4-ssh连接最小化安装系统\"><a href=\"#1-4-ssh连接最小化安装系统\" class=\"headerlink\" title=\"1.4 ssh连接最小化安装系统\"></a>1.4 ssh连接最小化安装系统</h2><p>&amp;emsp;&amp;emsp;编辑 <code>sshd</code> 服务配置文件 <code>/etc/ssh/sshd_config</code>, 重启服务 <code>rc-server sshd restart</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">PermitRootLogin <span class=\"hljs-built_in\">yes</span><br>PasswordAuthentication <span class=\"hljs-built_in\">yes</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2 安装\"></a>2 安装</h1><h2 id=\"2-1-解压基本系统\"><a href=\"#2-1-解压基本系统\" class=\"headerlink\" title=\"2.1 解压基本系统\"></a>2.1 解压基本系统</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">livecd ~ <span class=\"hljs-comment\"># blkid</span><br>/dev/sdb: UUID=<span class=\"hljs-string\">&quot;e09609d8-0b90-4f34-aad1-8e5b37495f52&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span><br>/dev/sr0: BLOCK_SIZE=<span class=\"hljs-string\">&quot;2048&quot;</span> UUID=<span class=\"hljs-string\">&quot;2022-07-03-19-01-40-00&quot;</span> LABEL=<span class=\"hljs-string\">&quot;Gentoo amd64 20220703T170542Z&quot;</span> TYPE=<span class=\"hljs-string\">&quot;iso9660&quot;</span> PTUUID=<span class=\"hljs-string\">&quot;5e426e6b&quot;</span> PTTYPE=<span class=\"hljs-string\">&quot;dos&quot;</span><br>loop0: TYPE=<span class=\"hljs-string\">&quot;squashfs&quot;</span><br>/dev/sda2: UUID=<span class=\"hljs-string\">&quot;14077ead-3683-4354-95eb-a106c52350e9&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;4af31142-0ead-0644-b34c-c01b7c0944e1&quot;</span><br>/dev/sda1: UUID=<span class=\"hljs-string\">&quot;831A-6EDD&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;512&quot;</span> TYPE=<span class=\"hljs-string\">&quot;vfat&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;733a54ad-b3d7-3842-8cc8-21b15d29e82d&quot;</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda2 /mnt/gentoo/</span><br>livecd ~ <span class=\"hljs-comment\"># mkdir /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda1 /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># cd /mnt/gentoo/</span><br>livecd /mnt/gentoo <span class=\"hljs-comment\"># ls</span><br>boot  lost+found<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</span><br>--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  <br>Resolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840<br>Connecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 516402028 (492M) [application/octet-stream]<br>Saving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’<br>stage3-amd64-desktop-systemd- 100%[=================================================&gt;] 492.48M  11.3MB/s    <span class=\"hljs-keyword\">in</span> 46s<br>2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include=&#x27;*.*&#x27; --numeric-owner</span><br>……<br></code></pre></td></tr></table></figure>\n<h2 id=\"2-2-镜像源与chroot\"><a href=\"#2-2-镜像源与chroot\" class=\"headerlink\" title=\"2.2 镜像源与chroot\"></a>2.2 镜像源与chroot</h2><p>&amp;emsp;&amp;emsp;配置一个速度较快的镜像源服务器地址</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">mirrorselect -i -o &gt;&gt;/mnt/gentoo/etc/portage/make.conf  <span class=\"hljs-comment\"># 选择163和清华大学源</span><br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;GENTOO_MIRRORS=&quot;https://mirrors.tuna.tsinghua.edu.cn/gentoo&quot;&#x27;</span> &gt;&gt;/mnt/gentoo/etc/portage/make.conf<br><span class=\"hljs-comment\"># chroot 到目标系统</span><br><span class=\"hljs-comment\"># 复制 DNS 配置到目标系统环境</span><br><span class=\"hljs-built_in\">cp</span> -L /etc/resolv.conf /mnt/gentoo/etc/<br><span class=\"hljs-comment\"># 挂载必要的文件系统</span><br>mount --types proc /proc /mnt/gentoo/proc<br>mount --rbind /sys /mnt/gentoo/sys<br>mount --rbind /dev /mnt/gentoo/dev<br><span class=\"hljs-comment\"># systemd stage3 额外执行</span><br>mount --make-rslave /mnt/gentoo/sys<br>mount --make-rslave /mnt/gentoo/dev<br><span class=\"hljs-comment\"># chroot 到目标系统环境</span><br><span class=\"hljs-built_in\">chroot</span> /mnt/gentoo<br><span class=\"hljs-comment\"># 导入环境信息</span><br>. /etc/profile<br><span class=\"hljs-comment\"># 修改提示符以便于区分</span><br>PS1=(<span class=\"hljs-built_in\">chroot</span>)<span class=\"hljs-variable\">$PS1</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-3-portage仓库\"><a href=\"#2-3-portage仓库\" class=\"headerlink\" title=\"2.3 portage仓库\"></a>2.3 portage仓库</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 仓库信息打包下载到本地</span><br>emerge-webrsync<br><span class=\"hljs-comment\"># 安装 vim</span><br>emerge -ask app-editors/vim<br><span class=\"hljs-comment\"># vim USE</span><br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] app-eselect/eselect-vi-1.2<br>[ebuild  N     ] dev-libs/libsodium-1.0.18_p20210617  USE=<span class=\"hljs-string\">&quot;asm urandom -minimal -static-libs -verify-sig&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> CPU_FLAGS_X86=<span class=\"hljs-string\">&quot;-aes -sse4_1&quot;</span><br>[ebuild  N     ] app-editors/vim-core-8.2.4586  USE=<span class=\"hljs-string\">&quot;acl nls -minimal&quot;</span><br>[ebuild  N     ] app-editors/vim-8.2.4586  USE=<span class=\"hljs-string\">&quot;X acl crypt gpm nls -cscope -debug -lua -minimal -perl -python -racket -ruby (-selinux) -sound -tcl -terminal -vim-pager&quot;</span> LUA_SINGLE_TARGET=<span class=\"hljs-string\">&quot;lua5-1 -luajit&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span><br>[ebuild  N     ] app-vim/gentoo-syntax-1  USE=<span class=\"hljs-string\">&quot;-ignore-glep31&quot;</span> <br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-4-profile选择\"><a href=\"#2-4-profile选择\" class=\"headerlink\" title=\"2.4 profile选择\"></a>2.4 profile选择</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile list</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile set 7</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask --verbose --update --deep --newuse @world</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] acct-group/colord-0::gentoo  0 KiB<br>[ebuild  N     ] acct-group/plugdev-0-r1::gentoo  0 KiB<br>[ebuild  N     ] net-wireless/wireless-regdb-20220606::gentoo  27 KiB<br>[ebuild  N     ] dev-libs/ell-0.50::gentoo  USE=<span class=\"hljs-string\">&quot;-pie -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 522 KiB<br>[ebuild  N     ] net-dialup/ppp-scripts-0::gentoo  2 KiB<br>[ebuild  N     ] acct-user/colord-0::gentoo  0 KiB<br>[ebuild  N     ] app-text/docbook-sgml-dtd-3.0-r5:3.0::gentoo  43 KiB<br>[ebuild  N     ] app-text/docbook-dsssl-stylesheets-1.79-r4::gentoo  272 KiB<br>[ebuild   R    ] dev-libs/libpcre-8.45-r1:3::gentoo  USE=<span class=\"hljs-string\">&quot;bzip2 cxx jit readline (split-usr) (unicode) zlib -libedit -pcre16 -pcre32 -static-libs*&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1542 KiB<br>[ebuild  N     ] sys-libs/slang-2.3.2::gentoo  USE=<span class=\"hljs-string\">&quot;pcre png readline zlib -cjk -static-libs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1550 KiB<br>[ebuild  N     ] dev-lang/swig-4.0.2::gentoo  USE=<span class=\"hljs-string\">&quot;pcre -ccache -doc&quot;</span> 7908 KiB<br>[ebuild  N     ] dev-perl/X11-Protocol-0.560.0-r2::gentoo  USE=<span class=\"hljs-string\">&quot;-examples -test&quot;</span> 99 KiB<br>[ebuild  N     ] dev-perl/Text-Iconv-1.700.0-r3::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 11 KiB<br>[ebuild  N     ] virtual/perl-Time-HiRes-1.976.700::gentoo  0 KiB<br>[ebuild  N     ] dev-perl/Tie-IxHash-1.230.0-r1::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 10 KiB<br>[ebuild  N     ] dev-perl/XML-XPath-1.440.0::gentoo  USE=<span class=\"hljs-string\">&quot;-examples -test&quot;</span> 55 KiB<br>[ebuild  N     ] dev-perl/XML-Twig-3.520.0-r1::gentoo  USE=<span class=\"hljs-string\">&quot;nls -test&quot;</span> 399 KiB<br>[ebuild   R    ] sys-libs/pam-1.5.1_p20210622-r1::gentoo  USE=<span class=\"hljs-string\">&quot;filecaps* (split-usr) -audit -berkdb -debug -nis (-selinux)&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 826 KiB<br>[ebuild   R    ] dev-db/sqlite-3.38.5:3::gentoo  USE=<span class=\"hljs-string\">&quot;icu* readline -debug -doc -secure-delete -static-libs -tcl -test -tools&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 12935 KiB<br>[ebuild  N     ] dev-libs/libnl-3.5.0:3::gentoo  USE=<span class=\"hljs-string\">&quot;debug -python -test -utils&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 946 KiB<br>[ebuild  N     ] net-misc/mobile-broadband-provider-info-20220511::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 84 KiB<br>[ebuild  N     ] dev-libs/newt-0.52.21_p20210816::gentoo  USE=<span class=\"hljs-string\">&quot;gpm nls -tcl&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 126 KiB<br>[ebuild  N     ] dev-libs/nspr-4.34::gentoo  USE=<span class=\"hljs-string\">&quot;-debug&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1071 KiB<br>[ebuild   R    ] app-crypt/libb2-0.98.1-r2::gentoo  USE=<span class=\"hljs-string\">&quot;openmp* -native-cflags -static-libs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 275 KiB<br>[ebuild  N     ] dev-util/itstool-2.0.7::gentoo  PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 103 KiB<br>[ebuild  N     ] dev-libs/nss-3.68.4::gentoo  USE=<span class=\"hljs-string\">&quot;-cacert -utils&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 80478 KiB<br>[ebuild  N     ] app-text/docbook-xsl-ns-stylesheets-1.79.1::gentoo  USE=<span class=\"hljs-string\">&quot;-ruby&quot;</span> 21448 KiB<br>[ebuild  N     ] dev-libs/json-c-0.16-r1:0/5::gentoo  USE=<span class=\"hljs-string\">&quot;-doc -static-libs -threads&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> CPU_FLAGS_X86=<span class=\"hljs-string\">&quot;-rdrand&quot;</span> 344 KiB<br>[ebuild  N     ] dev-perl/Net-DBus-1.2.0::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 106 KiB<br>[ebuild  N     ] dev-util/sysprof-capture-3.44.0:4::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 483 KiB<br>[ebuild   R    ] net-misc/iputils-20211215::gentoo  USE=<span class=\"hljs-string\">&quot;arping filecaps* nls -caps -clockdiff -doc -idn -rarpd -rdisc -static -test -tracepath&quot;</span> 530 KiB<br>[ebuild  N     ] dev-util/wayland-scanner-1.20.0::gentoo  220 KiB<br>[ebuild  N     ] dev-libs/wayland-1.20.0::gentoo  USE=<span class=\"hljs-string\">&quot;-doc -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 0 KiB<br>[ebuild  N     ] dev-libs/wayland-protocols-1.25::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 78 KiB<br>[ebuild   R    ] x11-libs/libxkbcommon-1.4.1::gentoo  USE=<span class=\"hljs-string\">&quot;X wayland* -doc -static-libs -test -tools&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 461 KiB<br>[ebuild   R    ] dev-libs/glib-2.72.2:2::gentoo  USE=<span class=\"hljs-string\">&quot;dbus elf (mime) sysprof* xattr -debug -fam -gtk-doc (-selinux) -static-libs -systemtap -test -utils&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 4777 KiB<br>[ebuild  N     ] dev-util/sysprof-capture-3.36.0-r1:3::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 426 KiB<br>[ebuild  N     ] net-libs/libmbim-1.26.4::gentoo  553 KiB<br>[ebuild  N     ] dev-util/gtk-doc-1.33.2::gentoo  USE=<span class=\"hljs-string\">&quot;-emacs -test&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 496 KiB<br>[ebuild  N     ] dev-qt/qttest-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;-debug -test&quot;</span> 49582 KiB<br>[ebuild  N     ] net-libs/libndp-1.8::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 357 KiB<br>[ebuild  N     ] x11-themes/gnome-themes-standard-3.28::gentoo  2885 KiB<br>[ebuild  N     ] dev-libs/libgudev-237-r1::gentoo  USE=<span class=\"hljs-string\">&quot;introspection -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 29 KiB           [ebuild   R    ] x11-misc/xdg-utils-1.1.3_p20200220-r5::gentoo  USE=<span class=\"hljs-string\">&quot;dbus gnome* -doc&quot;</span> 281 KiB<br>[ebuild  N     ] dev-libs/libical-3.0.14-r1:0/3::gentoo  USE=<span class=\"hljs-string\">&quot;glib introspection vala -doc -examples -static-libs -test&quot;</span> 867 KiB<br>[ebuild  N     ] net-libs/libqmi-1.30.6:0/5.8::gentoo  USE=<span class=\"hljs-string\">&quot;mbim -gtk-doc&quot;</span> 1214 KiB<br>[ebuild  N     ] dev-libs/libgusb-0.3.10::gentoo  USE=<span class=\"hljs-string\">&quot;introspection vala -gtk-doc -static-libs -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 42 KiB<br>[ebuild  N     ] dev-python/m2crypto-0.38.0::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9 (-python3_11)&quot;</span> 1213 KiB<br>[ebuild  N     ] net-wireless/crda-4.14::gentoo  USE=<span class=\"hljs-string\">&quot;-gcrypt&quot;</span> 72 KiB<br>[ebuild  N     ] net-wireless/bluez-5.64:0/3::gentoo  USE=<span class=\"hljs-string\">&quot;cups mesh obex readline systemd udev -btpclient -debug -deprecated -doc -experimental -extra-tools -midi (-selinux) -test -test-programs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 2125 KiB<br>[ebuild   R    ] media-libs/mesa-22.0.5::gentoo  USE=<span class=\"hljs-string\">&quot;X gles2 llvm wayland* zstd -d3d9 -debug -gles1 -lm-sensors -opencl -osmesa (-selinux) -test -unwind -vaapi -valgrind -vdpau -vulkan -vulkan-overlay -xa -xvmc -zink&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> CPU_FLAGS_X86=<span class=\"hljs-string\">&quot;sse2&quot;</span> VIDEO_CARDS=<span class=\"hljs-string\">&quot;intel nouveau radeon radeonsi (-freedreno) (-lima) (-panfrost) -r300 -r600 (-v3d) (-vc4) -virgl (-vivante) -vmware&quot;</span> 15408 KiB<br>[ebuild  N     ] dev-python/pycairo-1.21.0::gentoo  USE=<span class=\"hljs-string\">&quot;-doc -examples -test&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 (-pypy3) -python3_8 -python3_9 (-python3_11)&quot;</span> 333 KiB<br>[ebuild   R    ] x11-libs/pango-1.50.7::gentoo  USE=<span class=\"hljs-string\">&quot;X introspection sysprof* -debug -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 4195 KiB<br>[ebuild  N     ] dev-python/pygobject-3.42.1:3::gentoo  USE=<span class=\"hljs-string\">&quot;cairo -examples -test&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9 (-python3_11)&quot;</span> 545 KiB<br>[ebuild   R    ] dev-qt/qtgui-5.15.5:5/5.15.5::gentoo  USE=<span class=\"hljs-string\">&quot;X dbus egl gif jpeg libinput png udev wayland* -accessibility -debug -eglfs -evdev -gles2-only -ibus -linuxfb -test -tslib -tuio -vnc -vulkan&quot;</span> 0 KiB<br>[ebuild  NS    ] x11-libs/gtk+-2.24.33:2::gentoo [3.24.34:3::gentoo] USE=<span class=\"hljs-string\">&quot;cups introspection (-aqua) -examples -test -vim-syntax -xinerama (-X%*) (-broadway%) (-colord%) (-gtk-doc%) (-sysprof%) (-wayland%)&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 12366 KiB<br>[ebuild  N     ] x11-themes/gtk-engines-adwaita-3.28::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 0 KiB<br>[ebuild  N     ] net-dialup/ppp-2.4.9-r8:0/2.4.9::gentoo  USE=<span class=\"hljs-string\">&quot;eap-tls gtk ipv6 pam systemd -activefilter -atm -dhcp -radius&quot;</span> 754 KiB<br>[ebuild   R    ] sys-auth/pambase-20220214::gentoo  USE=<span class=\"hljs-string\">&quot;gnome-keyring* nullok passwdqc sha512 systemd -caps -debug (-elogind) -homed -minimal -mktemp -pam_krb5 -pam_ssh -pwhistory -pwquality -securetty (-selinux) -yescrypt&quot;</span> 4 KiB          [ebuild  N     ] x11-misc/colord-1.4.6:0/2::gentoo  USE=<span class=\"hljs-string\">&quot;introspection systemd -argyllcms -examples -extra-print-profiles -gtk-doc -scanner (-selinux) -test -vala&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1829 KiB<br>[ebuild   R    ] x11-libs/gtk+-3.24.34:3::gentoo  USE=<span class=\"hljs-string\">&quot;X colord* cups introspection sysprof* wayland* (-aqua) -broadway -examples -gtk-doc -test -vim-syntax -xinerama&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 21082 KiB<br>[ebuild  N     ] net-misc/modemmanager-1.18.8:0/1::gentoo  USE=<span class=\"hljs-string\">&quot;introspection policykit qmi systemd udev (-elogind) -mbim -test -vala&quot;</span> 2475 KiB<br>[ebuild  N     ] dev-qt/qtsvg-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;-debug -test&quot;</span> 1851 KiB<br>[ebuild  N     ] net-wireless/wpa_supplicant-2.10-r1::gentoo  USE=<span class=\"hljs-string\">&quot;crda dbus fils hs2-0 mbo mesh qt5 readline -ap -broadcom-sta -eap-sim -eapol-test -fasteap -macsec -p2p -privsep (-ps3) (-selinux) -smartcard -tdls -tkip -uncommon-eap-types -wep (-wimax) -wps&quot;</span> 3430 KiB<br>[ebuild  N     ] net-misc/networkmanager-1.38.2::gentoo  USE=<span class=\"hljs-string\">&quot;bluetooth concheck gtk-doc introspection modemmanager nss policykit ppp systemd tools wext wifi -audit -connection-sharing -debug -dhclient -dhcpcd (-elogind) -gnutls -iptables -iwd -libedit -lto -nftables -ofono -ovs -psl -resolvconf (-selinux) -syslog -teamd -test -vala&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 5398 KiB<br>[ebuild  N     ] dev-qt/qtnetwork-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;networkmanager ssl -connman -debug -gssapi -libproxy -sctp -test&quot;</span> 0 KiB<br>[ebuild  N     ] dev-qt/qtdeclarative-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;jit widgets -debug -gles2-only -localstorage -test -vulkan&quot;</span> 21098 KiB<br>[ebuild  N     ] dev-qt/qtwayland-5.15.5:5/5.15.5::gentoo  USE=<span class=\"hljs-string\">&quot;X -debug -test -vulkan&quot;</span> 586 KiB<br>[ebuild   R    ] app-crypt/pinentry-1.2.0::gentoo  USE=<span class=\"hljs-string\">&quot;gnome-keyring* gtk ncurses qt5 -caps -efl -emacs&quot;</span> 487 KiB<br>Total: 69 packages (54 new, 1 <span class=\"hljs-keyword\">in</span> new slot, 14 reinstalls), Size of downloads: 289683 KiB<br>Would you like to merge these packages? [Yes/No]<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-5-安装内核、固件\"><a href=\"#2-5-安装内核、固件\" class=\"headerlink\" title=\"2.5 安装内核、固件\"></a>2.5 安装内核、固件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask gentoo-kernel</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] app-text/asciidoc-9.1.0  USE=<span class=\"hljs-string\">&quot;-doc -test&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 (-pypy3) -python3_8 -python3_9&quot;</span><br>[ebuild  N     ] sys-kernel/dracut-055-r4  USE=<span class=\"hljs-string\">&quot;(-selinux) (-test)&quot;</span><br>[ebuild  N     ] sys-kernel/gentoo-kernel-5.15.48  USE=<span class=\"hljs-string\">&quot;initramfs -debug -hardened -savedconfig -test&quot;</span><br>[ebuild  N     ] virtual/dist-kernel-5.15.48<br>Would you like to merge these packages? [Yes/No]   <br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask linux-firmware</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] sys-kernel/linux-firmware-20220610  USE=<span class=\"hljs-string\">&quot;redistributable -initramfs -savedconfig (-unknown-license)&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-6-配置引导\"><a href=\"#2-6-配置引导\" class=\"headerlink\" title=\"2.6 配置引导\"></a>2.6 配置引导</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask grub</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] sys-apps/pciutils-3.8.0  USE=<span class=\"hljs-string\">&quot;kmod udev zlib -dns -static-libs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span><br>[ebuild  N     ] sys-libs/efivar-37<br>[ebuild  N     ] sys-boot/efibootmgr-17<br>[ebuild  N     ] sys-boot/grub-2.06-r2  USE=<span class=\"hljs-string\">&quot;fonts nls sdl themes truetype -device-mapper -doc -efiemu -libzfs -mount (-test)&quot;</span> GRUB_PLATFORMS=<span class=\"hljs-string\">&quot;efi-64 pc -coreboot -efi-32 -emu -ieee1275 (-loongson) -multiboot -qemu (-qemu-mips) -uboot -xen -xen-32 -xen-pvh&quot;</span> <br><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.<br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --removable</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.  <br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-mkconfig -o /boot/grub/grub.cfg</span><br>Generating grub configuration file ...                                                                                                     Found linux image: /boot/vmlinuz-5.15.48-gentoo-dist                                                                                       Found initrd image: /boot/initramfs-5.15.48-gentoo-dist.img                                                                                Warning: os-prober will not be executed to detect other bootable partitions.                                                               Systems on them will not be added to the GRUB boot configuration.                                                                          Check GRUB_DISABLE_OS_PROBER documentation entry.                                                                                          Adding boot menu entry <span class=\"hljs-keyword\">for</span> UEFI Firmware Settings ...                                                                                      <span class=\"hljs-keyword\">done</span>        <br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-7-时区、字符集配置\"><a href=\"#2-7-时区、字符集配置\" class=\"headerlink\" title=\"2.7 时区、字符集配置\"></a>2.7 时区、字符集配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;Asia/Shanghai&#x27;</span> &gt; /etc/timezone<br><span class=\"hljs-built_in\">rm</span> /etc/localtime<br>emerge --config sys-libs/timezone-data<br>vim /etc/locale.gen<br>locale-gen<br><br><span class=\"hljs-built_in\">dd</span> <span class=\"hljs-keyword\">if</span>=/dev/zero of=/swapfile bs=1M count=8192 status=progress<br><span class=\"hljs-built_in\">chmod</span> 600 /swapfile<br>mkswap /swapfile<br>swapon /swapfile<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;/swapfile               none    swap    defaults        0 0&quot;</span> &gt;&gt; /etc/fstab<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-8-virtualbox-虚拟机配置\"><a href=\"#2-8-virtualbox-虚拟机配置\" class=\"headerlink\" title=\"2.8 virtualbox 虚拟机配置\"></a>2.8 virtualbox 虚拟机配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 新建用户</span><br>useradd -m -g wheel -G usb,<span class=\"hljs-built_in\">users</span>,audio -s /bin/bash -N miloo<br><br><span class=\"hljs-comment\"># 如果是虚拟机需要添加到以下两个组</span><br>gpasswd -a miloo vboxguest<br>gpasswd -a miloo vboxsf<br><br><span class=\"hljs-comment\"># virtualbox 虚拟机安装后操作</span><br>emerge --ask app-emulation/virtualbox-guest-additions<br>systemctl <span class=\"hljs-built_in\">enable</span> --now virtualbox-guest-additions<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"3-USE\"><a href=\"#3-USE\" class=\"headerlink\" title=\"3 USE\"></a>3 USE</h1><h2 id=\"3-1-make-conf\"><a href=\"#3-1-make-conf\" class=\"headerlink\" title=\"3.1 make.conf\"></a>3.1 make.conf</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"3-2-USE\"><a href=\"#3-2-USE\" class=\"headerlink\" title=\"3.2 USE\"></a>3.2 USE</h2><h1 id=\"4-tools\"><a href=\"#4-tools\" class=\"headerlink\" title=\"4 tools\"></a>4 tools</h1><h2 id=\"4-1-包管理\"><a href=\"#4-1-包管理\" class=\"headerlink\" title=\"4.1 包管理\"></a>4.1 包管理</h2><h3 id=\"4-1-1-app-portage-x2F-eix\"><a href=\"#4-1-1-app-portage-x2F-eix\" class=\"headerlink\" title=\"4.1.1 app-portage&#x2F;eix\"></a>4.1.1 app-portage&#x2F;eix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-portage/eix<br>app-portage/gentoolkit<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-2-文件系统\"><a href=\"#4-2-文件系统\" class=\"headerlink\" title=\"4.2 文件系统\"></a>4.2 文件系统</h2><h3 id=\"4-2-1-sys-fs-x2F-lvm2\"><a href=\"#4-2-1-sys-fs-x2F-lvm2\" class=\"headerlink\" title=\"4.2.1 sys-fs&#x2F;lvm2\"></a>4.2.1 sys-fs&#x2F;lvm2</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/lvm2<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-2-2-ntfs\"><a href=\"#4-2-2-ntfs\" class=\"headerlink\" title=\"4.2.2 ntfs\"></a>4.2.2 ntfs</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/ntfs3g<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-3-DE\"><a href=\"#4-3-DE\" class=\"headerlink\" title=\"4.3 DE\"></a>4.3 DE</h2><h3 id=\"4-3-1-gnome\"><a href=\"#4-3-1-gnome\" class=\"headerlink\" title=\"4.3.1 gnome\"></a>4.3.1 gnome</h3><blockquote>\n<p>一定要有swap分区，否则编译不会通过<br>make。conf 中 MAKEOPTS&#x3D;”-j4” 此条不存在编译也会失败</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">gnome-base/gnome-light<br>gnome-base/gconf<br>gnome-extra/gnome-tweaks<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-4-vitual\"><a href=\"#4-4-vitual\" class=\"headerlink\" title=\"4.4 vitual\"></a>4.4 vitual</h2><h3 id=\"4-4-1-virtualbox\"><a href=\"#4-4-1-virtualbox\" class=\"headerlink\" title=\"4.4.1 virtualbox\"></a>4.4.1 virtualbox</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/virtualbox<br>app-emulation/virtualbox-additions<br>app-emulation/virtualbox-extpack-oracle<br>app-emulation/virtualbox-modules<br>app-emulation/virtualbox-guest-additions  <span class=\"hljs-comment\"># gentoo虚拟机安装</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-4-2-kvm\"><a href=\"#4-4-2-kvm\" class=\"headerlink\" title=\"4.4.2 kvm\"></a>4.4.2 kvm</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/libvirt<br>app-emulation/virt-manager<br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<h3 id=\"4-4-3-gnome-boxes\"><a href=\"#4-4-3-gnome-boxes\" class=\"headerlink\" title=\"4.4.3 gnome-boxes\"></a>4.4.3 gnome-boxes</h3><p>Emerge qemu once with USE&#x3D;-spice then emerge spice and then qemu again, this time with USE&#x3D;spice</p>\n</blockquote>\n<h1 id=\"5-系统迁移\"><a href=\"#5-系统迁移\" class=\"headerlink\" title=\"5 系统迁移\"></a>5 系统迁移</h1><p>getfacl -R .&#x2F; &gt; acl.txt<br>setfacl –restore&#x3D;acl.txt</p>\n","site":{"data":{}},"wordcount":16518,"more":"<ul>\n<li><a href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">1 准备工作</a><ul>\n<li><a href=\"#11-%E4%B8%8B%E8%BD%BD\">1.1 下载</a></li>\n<li><a href=\"#12-%E7%BD%91%E7%BB%9C\">1.2 网络</a></li>\n<li><a href=\"#13-%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD\">1.3 分区挂载</a></li>\n<li><a href=\"#14-ssh%E8%BF%9E%E6%8E%A5%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F\">1.4 ssh连接最小化安装系统</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85\">2 安装</a><ul>\n<li><a href=\"#21-%E8%A7%A3%E5%8E%8B%E5%9F%BA%E6%9C%AC%E7%B3%BB%E7%BB%9F\">2.1 解压基本系统</a></li>\n<li><a href=\"#22-%E9%95%9C%E5%83%8F%E6%BA%90%E4%B8%8Echroot\">2.2 镜像源与chroot</a></li>\n<li><a href=\"#23-portage%E4%BB%93%E5%BA%93\">2.3 portage仓库</a></li>\n<li><a href=\"#24-profile%E9%80%89%E6%8B%A9\">2.4 profile选择</a></li>\n<li><a href=\"#25-%E5%AE%89%E8%A3%85%E5%86%85%E6%A0%B8%E5%9B%BA%E4%BB%B6\">2.5 安装内核、固件</a></li>\n<li><a href=\"#26-%E9%85%8D%E7%BD%AE%E5%BC%95%E5%AF%BC\">2.6 配置引导</a></li>\n<li><a href=\"#27-%E6%97%B6%E5%8C%BA%E5%AD%97%E7%AC%A6%E9%9B%86%E9%85%8D%E7%BD%AE\">2.7 时区、字符集配置</a></li>\n<li><a href=\"#28-virtualbox-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE\">2.8 virtualbox 虚拟机配置</a></li>\n</ul>\n</li>\n<li><a href=\"#3-use\">3 USE</a><ul>\n<li><a href=\"#31-makeconf\">3.1 make.conf</a></li>\n<li><a href=\"#32-use\">3.2 USE</a></li>\n</ul>\n</li>\n<li><a href=\"#4-tools\">4 tools</a><ul>\n<li><a href=\"#41-%E5%8C%85%E7%AE%A1%E7%90%86\">4.1 包管理</a><ul>\n<li><a href=\"#411-app-portageeix\">4.1.1 app-portage&#x2F;eix</a></li>\n</ul>\n</li>\n<li><a href=\"#42-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\">4.2 文件系统</a><ul>\n<li><a href=\"#421-sys-fslvm2\">4.2.1 sys-fs&#x2F;lvm2</a></li>\n<li><a href=\"#422-ntfs\">4.2.2 ntfs</a></li>\n</ul>\n</li>\n<li><a href=\"#43-de\">4.3 DE</a><ul>\n<li><a href=\"#431-gnome\">4.3.1 gnome</a></li>\n</ul>\n</li>\n<li><a href=\"#44-vitual\">4.4 vitual</a><ul>\n<li><a href=\"#441-virtualbox\">4.4.1 virtualbox</a></li>\n<li><a href=\"#442-kvm\">4.4.2 kvm</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#5-%E7%B3%BB%E7%BB%9F%E8%BF%81%E7%A7%BB\">5 系统迁移</a></li>\n</ul>\n<h1 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1 准备工作\"></a>1 准备工作</h1><h2 id=\"1-1-下载\"><a href=\"#1-1-下载\" class=\"headerlink\" title=\"1.1 下载\"></a>1.1 下载</h2><ul>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/\">最小化安装镜像</a>, 名称为: <code>install-amd64-minimal-&#123;日期&#125;.iso</code>  </p>\n</li>\n<li><p>下载<a href=\"https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/\">合适的stage3</a>,以日期为路径: <code>20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</code></p>\n</li>\n</ul>\n<h2 id=\"1-2-网络\"><a href=\"#1-2-网络\" class=\"headerlink\" title=\"1.2 网络\"></a>1.2 网络</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-3-分区挂载\"><a href=\"#1-3-分区挂载\" class=\"headerlink\" title=\"1.3 分区挂载\"></a>1.3 分区挂载</h2><p>&amp;emsp;&amp;emsp;基操忽略</p>\n<h2 id=\"1-4-ssh连接最小化安装系统\"><a href=\"#1-4-ssh连接最小化安装系统\" class=\"headerlink\" title=\"1.4 ssh连接最小化安装系统\"></a>1.4 ssh连接最小化安装系统</h2><p>&amp;emsp;&amp;emsp;编辑 <code>sshd</code> 服务配置文件 <code>/etc/ssh/sshd_config</code>, 重启服务 <code>rc-server sshd restart</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">PermitRootLogin <span class=\"hljs-built_in\">yes</span><br>PasswordAuthentication <span class=\"hljs-built_in\">yes</span><br></code></pre></td></tr></table></figure>\n<h1 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2 安装\"></a>2 安装</h1><h2 id=\"2-1-解压基本系统\"><a href=\"#2-1-解压基本系统\" class=\"headerlink\" title=\"2.1 解压基本系统\"></a>2.1 解压基本系统</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">livecd ~ <span class=\"hljs-comment\"># blkid</span><br>/dev/sdb: UUID=<span class=\"hljs-string\">&quot;e09609d8-0b90-4f34-aad1-8e5b37495f52&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span><br>/dev/sr0: BLOCK_SIZE=<span class=\"hljs-string\">&quot;2048&quot;</span> UUID=<span class=\"hljs-string\">&quot;2022-07-03-19-01-40-00&quot;</span> LABEL=<span class=\"hljs-string\">&quot;Gentoo amd64 20220703T170542Z&quot;</span> TYPE=<span class=\"hljs-string\">&quot;iso9660&quot;</span> PTUUID=<span class=\"hljs-string\">&quot;5e426e6b&quot;</span> PTTYPE=<span class=\"hljs-string\">&quot;dos&quot;</span><br>loop0: TYPE=<span class=\"hljs-string\">&quot;squashfs&quot;</span><br>/dev/sda2: UUID=<span class=\"hljs-string\">&quot;14077ead-3683-4354-95eb-a106c52350e9&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;4096&quot;</span> TYPE=<span class=\"hljs-string\">&quot;ext4&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;4af31142-0ead-0644-b34c-c01b7c0944e1&quot;</span><br>/dev/sda1: UUID=<span class=\"hljs-string\">&quot;831A-6EDD&quot;</span> BLOCK_SIZE=<span class=\"hljs-string\">&quot;512&quot;</span> TYPE=<span class=\"hljs-string\">&quot;vfat&quot;</span> PARTUUID=<span class=\"hljs-string\">&quot;733a54ad-b3d7-3842-8cc8-21b15d29e82d&quot;</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda2 /mnt/gentoo/</span><br>livecd ~ <span class=\"hljs-comment\"># mkdir /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># mount /dev/sda1 /mnt/gentoo/boot</span><br>livecd ~ <span class=\"hljs-comment\"># cd /mnt/gentoo/</span><br>livecd /mnt/gentoo <span class=\"hljs-comment\"># ls</span><br>boot  lost+found<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># wget https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz</span><br>--2022-07-05 08:09:54--  https://mirrors.bfsu.edu.cn/gentoo/releases/amd64/autobuilds/20220703T170542Z/stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz  <br>Resolving mirrors.bfsu.edu.cn... 39.155.141.16, 2001:da8:20f:1003::fe55:2840<br>Connecting to mirrors.bfsu.edu.cn|39.155.141.16|:443... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 516402028 (492M) [application/octet-stream]<br>Saving to: ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’<br>stage3-amd64-desktop-systemd- 100%[=================================================&gt;] 492.48M  11.3MB/s    <span class=\"hljs-keyword\">in</span> 46s<br>2022-07-05 08:10:40 (10.6 MB/s) - ‘stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz’ saved [516402028/516402028]<br>livecd /mnt/gentoo <span class=\"hljs-comment\"># tar xpvf stage3-amd64-desktop-systemd-20220703T170542Z.tar.xz --xattrs-include=&#x27;*.*&#x27; --numeric-owner</span><br>……<br></code></pre></td></tr></table></figure>\n<h2 id=\"2-2-镜像源与chroot\"><a href=\"#2-2-镜像源与chroot\" class=\"headerlink\" title=\"2.2 镜像源与chroot\"></a>2.2 镜像源与chroot</h2><p>&amp;emsp;&amp;emsp;配置一个速度较快的镜像源服务器地址</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">mirrorselect -i -o &gt;&gt;/mnt/gentoo/etc/portage/make.conf  <span class=\"hljs-comment\"># 选择163和清华大学源</span><br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;GENTOO_MIRRORS=&quot;https://mirrors.tuna.tsinghua.edu.cn/gentoo&quot;&#x27;</span> &gt;&gt;/mnt/gentoo/etc/portage/make.conf<br><span class=\"hljs-comment\"># chroot 到目标系统</span><br><span class=\"hljs-comment\"># 复制 DNS 配置到目标系统环境</span><br><span class=\"hljs-built_in\">cp</span> -L /etc/resolv.conf /mnt/gentoo/etc/<br><span class=\"hljs-comment\"># 挂载必要的文件系统</span><br>mount --types proc /proc /mnt/gentoo/proc<br>mount --rbind /sys /mnt/gentoo/sys<br>mount --rbind /dev /mnt/gentoo/dev<br><span class=\"hljs-comment\"># systemd stage3 额外执行</span><br>mount --make-rslave /mnt/gentoo/sys<br>mount --make-rslave /mnt/gentoo/dev<br><span class=\"hljs-comment\"># chroot 到目标系统环境</span><br><span class=\"hljs-built_in\">chroot</span> /mnt/gentoo<br><span class=\"hljs-comment\"># 导入环境信息</span><br>. /etc/profile<br><span class=\"hljs-comment\"># 修改提示符以便于区分</span><br>PS1=(<span class=\"hljs-built_in\">chroot</span>)<span class=\"hljs-variable\">$PS1</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-3-portage仓库\"><a href=\"#2-3-portage仓库\" class=\"headerlink\" title=\"2.3 portage仓库\"></a>2.3 portage仓库</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 仓库信息打包下载到本地</span><br>emerge-webrsync<br><span class=\"hljs-comment\"># 安装 vim</span><br>emerge -ask app-editors/vim<br><span class=\"hljs-comment\"># vim USE</span><br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] app-eselect/eselect-vi-1.2<br>[ebuild  N     ] dev-libs/libsodium-1.0.18_p20210617  USE=<span class=\"hljs-string\">&quot;asm urandom -minimal -static-libs -verify-sig&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> CPU_FLAGS_X86=<span class=\"hljs-string\">&quot;-aes -sse4_1&quot;</span><br>[ebuild  N     ] app-editors/vim-core-8.2.4586  USE=<span class=\"hljs-string\">&quot;acl nls -minimal&quot;</span><br>[ebuild  N     ] app-editors/vim-8.2.4586  USE=<span class=\"hljs-string\">&quot;X acl crypt gpm nls -cscope -debug -lua -minimal -perl -python -racket -ruby (-selinux) -sound -tcl -terminal -vim-pager&quot;</span> LUA_SINGLE_TARGET=<span class=\"hljs-string\">&quot;lua5-1 -luajit&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span><br>[ebuild  N     ] app-vim/gentoo-syntax-1  USE=<span class=\"hljs-string\">&quot;-ignore-glep31&quot;</span> <br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-4-profile选择\"><a href=\"#2-4-profile选择\" class=\"headerlink\" title=\"2.4 profile选择\"></a>2.4 profile选择</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile list</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># eselect profile set 7</span><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask --verbose --update --deep --newuse @world</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] acct-group/colord-0::gentoo  0 KiB<br>[ebuild  N     ] acct-group/plugdev-0-r1::gentoo  0 KiB<br>[ebuild  N     ] net-wireless/wireless-regdb-20220606::gentoo  27 KiB<br>[ebuild  N     ] dev-libs/ell-0.50::gentoo  USE=<span class=\"hljs-string\">&quot;-pie -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 522 KiB<br>[ebuild  N     ] net-dialup/ppp-scripts-0::gentoo  2 KiB<br>[ebuild  N     ] acct-user/colord-0::gentoo  0 KiB<br>[ebuild  N     ] app-text/docbook-sgml-dtd-3.0-r5:3.0::gentoo  43 KiB<br>[ebuild  N     ] app-text/docbook-dsssl-stylesheets-1.79-r4::gentoo  272 KiB<br>[ebuild   R    ] dev-libs/libpcre-8.45-r1:3::gentoo  USE=<span class=\"hljs-string\">&quot;bzip2 cxx jit readline (split-usr) (unicode) zlib -libedit -pcre16 -pcre32 -static-libs*&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1542 KiB<br>[ebuild  N     ] sys-libs/slang-2.3.2::gentoo  USE=<span class=\"hljs-string\">&quot;pcre png readline zlib -cjk -static-libs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1550 KiB<br>[ebuild  N     ] dev-lang/swig-4.0.2::gentoo  USE=<span class=\"hljs-string\">&quot;pcre -ccache -doc&quot;</span> 7908 KiB<br>[ebuild  N     ] dev-perl/X11-Protocol-0.560.0-r2::gentoo  USE=<span class=\"hljs-string\">&quot;-examples -test&quot;</span> 99 KiB<br>[ebuild  N     ] dev-perl/Text-Iconv-1.700.0-r3::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 11 KiB<br>[ebuild  N     ] virtual/perl-Time-HiRes-1.976.700::gentoo  0 KiB<br>[ebuild  N     ] dev-perl/Tie-IxHash-1.230.0-r1::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 10 KiB<br>[ebuild  N     ] dev-perl/XML-XPath-1.440.0::gentoo  USE=<span class=\"hljs-string\">&quot;-examples -test&quot;</span> 55 KiB<br>[ebuild  N     ] dev-perl/XML-Twig-3.520.0-r1::gentoo  USE=<span class=\"hljs-string\">&quot;nls -test&quot;</span> 399 KiB<br>[ebuild   R    ] sys-libs/pam-1.5.1_p20210622-r1::gentoo  USE=<span class=\"hljs-string\">&quot;filecaps* (split-usr) -audit -berkdb -debug -nis (-selinux)&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 826 KiB<br>[ebuild   R    ] dev-db/sqlite-3.38.5:3::gentoo  USE=<span class=\"hljs-string\">&quot;icu* readline -debug -doc -secure-delete -static-libs -tcl -test -tools&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 12935 KiB<br>[ebuild  N     ] dev-libs/libnl-3.5.0:3::gentoo  USE=<span class=\"hljs-string\">&quot;debug -python -test -utils&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 946 KiB<br>[ebuild  N     ] net-misc/mobile-broadband-provider-info-20220511::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 84 KiB<br>[ebuild  N     ] dev-libs/newt-0.52.21_p20210816::gentoo  USE=<span class=\"hljs-string\">&quot;gpm nls -tcl&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 126 KiB<br>[ebuild  N     ] dev-libs/nspr-4.34::gentoo  USE=<span class=\"hljs-string\">&quot;-debug&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1071 KiB<br>[ebuild   R    ] app-crypt/libb2-0.98.1-r2::gentoo  USE=<span class=\"hljs-string\">&quot;openmp* -native-cflags -static-libs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 275 KiB<br>[ebuild  N     ] dev-util/itstool-2.0.7::gentoo  PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 103 KiB<br>[ebuild  N     ] dev-libs/nss-3.68.4::gentoo  USE=<span class=\"hljs-string\">&quot;-cacert -utils&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 80478 KiB<br>[ebuild  N     ] app-text/docbook-xsl-ns-stylesheets-1.79.1::gentoo  USE=<span class=\"hljs-string\">&quot;-ruby&quot;</span> 21448 KiB<br>[ebuild  N     ] dev-libs/json-c-0.16-r1:0/5::gentoo  USE=<span class=\"hljs-string\">&quot;-doc -static-libs -threads&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> CPU_FLAGS_X86=<span class=\"hljs-string\">&quot;-rdrand&quot;</span> 344 KiB<br>[ebuild  N     ] dev-perl/Net-DBus-1.2.0::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 106 KiB<br>[ebuild  N     ] dev-util/sysprof-capture-3.44.0:4::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 483 KiB<br>[ebuild   R    ] net-misc/iputils-20211215::gentoo  USE=<span class=\"hljs-string\">&quot;arping filecaps* nls -caps -clockdiff -doc -idn -rarpd -rdisc -static -test -tracepath&quot;</span> 530 KiB<br>[ebuild  N     ] dev-util/wayland-scanner-1.20.0::gentoo  220 KiB<br>[ebuild  N     ] dev-libs/wayland-1.20.0::gentoo  USE=<span class=\"hljs-string\">&quot;-doc -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 0 KiB<br>[ebuild  N     ] dev-libs/wayland-protocols-1.25::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> 78 KiB<br>[ebuild   R    ] x11-libs/libxkbcommon-1.4.1::gentoo  USE=<span class=\"hljs-string\">&quot;X wayland* -doc -static-libs -test -tools&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 461 KiB<br>[ebuild   R    ] dev-libs/glib-2.72.2:2::gentoo  USE=<span class=\"hljs-string\">&quot;dbus elf (mime) sysprof* xattr -debug -fam -gtk-doc (-selinux) -static-libs -systemtap -test -utils&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 4777 KiB<br>[ebuild  N     ] dev-util/sysprof-capture-3.36.0-r1:3::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 426 KiB<br>[ebuild  N     ] net-libs/libmbim-1.26.4::gentoo  553 KiB<br>[ebuild  N     ] dev-util/gtk-doc-1.33.2::gentoo  USE=<span class=\"hljs-string\">&quot;-emacs -test&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 496 KiB<br>[ebuild  N     ] dev-qt/qttest-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;-debug -test&quot;</span> 49582 KiB<br>[ebuild  N     ] net-libs/libndp-1.8::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 357 KiB<br>[ebuild  N     ] x11-themes/gnome-themes-standard-3.28::gentoo  2885 KiB<br>[ebuild  N     ] dev-libs/libgudev-237-r1::gentoo  USE=<span class=\"hljs-string\">&quot;introspection -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 29 KiB           [ebuild   R    ] x11-misc/xdg-utils-1.1.3_p20200220-r5::gentoo  USE=<span class=\"hljs-string\">&quot;dbus gnome* -doc&quot;</span> 281 KiB<br>[ebuild  N     ] dev-libs/libical-3.0.14-r1:0/3::gentoo  USE=<span class=\"hljs-string\">&quot;glib introspection vala -doc -examples -static-libs -test&quot;</span> 867 KiB<br>[ebuild  N     ] net-libs/libqmi-1.30.6:0/5.8::gentoo  USE=<span class=\"hljs-string\">&quot;mbim -gtk-doc&quot;</span> 1214 KiB<br>[ebuild  N     ] dev-libs/libgusb-0.3.10::gentoo  USE=<span class=\"hljs-string\">&quot;introspection vala -gtk-doc -static-libs -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 42 KiB<br>[ebuild  N     ] dev-python/m2crypto-0.38.0::gentoo  USE=<span class=\"hljs-string\">&quot;-test&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9 (-python3_11)&quot;</span> 1213 KiB<br>[ebuild  N     ] net-wireless/crda-4.14::gentoo  USE=<span class=\"hljs-string\">&quot;-gcrypt&quot;</span> 72 KiB<br>[ebuild  N     ] net-wireless/bluez-5.64:0/3::gentoo  USE=<span class=\"hljs-string\">&quot;cups mesh obex readline systemd udev -btpclient -debug -deprecated -doc -experimental -extra-tools -midi (-selinux) -test -test-programs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9&quot;</span> 2125 KiB<br>[ebuild   R    ] media-libs/mesa-22.0.5::gentoo  USE=<span class=\"hljs-string\">&quot;X gles2 llvm wayland* zstd -d3d9 -debug -gles1 -lm-sensors -opencl -osmesa (-selinux) -test -unwind -vaapi -valgrind -vdpau -vulkan -vulkan-overlay -xa -xvmc -zink&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> CPU_FLAGS_X86=<span class=\"hljs-string\">&quot;sse2&quot;</span> VIDEO_CARDS=<span class=\"hljs-string\">&quot;intel nouveau radeon radeonsi (-freedreno) (-lima) (-panfrost) -r300 -r600 (-v3d) (-vc4) -virgl (-vivante) -vmware&quot;</span> 15408 KiB<br>[ebuild  N     ] dev-python/pycairo-1.21.0::gentoo  USE=<span class=\"hljs-string\">&quot;-doc -examples -test&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 (-pypy3) -python3_8 -python3_9 (-python3_11)&quot;</span> 333 KiB<br>[ebuild   R    ] x11-libs/pango-1.50.7::gentoo  USE=<span class=\"hljs-string\">&quot;X introspection sysprof* -debug -test&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 4195 KiB<br>[ebuild  N     ] dev-python/pygobject-3.42.1:3::gentoo  USE=<span class=\"hljs-string\">&quot;cairo -examples -test&quot;</span> PYTHON_TARGETS=<span class=\"hljs-string\">&quot;python3_10 -python3_8 -python3_9 (-python3_11)&quot;</span> 545 KiB<br>[ebuild   R    ] dev-qt/qtgui-5.15.5:5/5.15.5::gentoo  USE=<span class=\"hljs-string\">&quot;X dbus egl gif jpeg libinput png udev wayland* -accessibility -debug -eglfs -evdev -gles2-only -ibus -linuxfb -test -tslib -tuio -vnc -vulkan&quot;</span> 0 KiB<br>[ebuild  NS    ] x11-libs/gtk+-2.24.33:2::gentoo [3.24.34:3::gentoo] USE=<span class=\"hljs-string\">&quot;cups introspection (-aqua) -examples -test -vim-syntax -xinerama (-X%*) (-broadway%) (-colord%) (-gtk-doc%) (-sysprof%) (-wayland%)&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 12366 KiB<br>[ebuild  N     ] x11-themes/gtk-engines-adwaita-3.28::gentoo  ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 0 KiB<br>[ebuild  N     ] net-dialup/ppp-2.4.9-r8:0/2.4.9::gentoo  USE=<span class=\"hljs-string\">&quot;eap-tls gtk ipv6 pam systemd -activefilter -atm -dhcp -radius&quot;</span> 754 KiB<br>[ebuild   R    ] sys-auth/pambase-20220214::gentoo  USE=<span class=\"hljs-string\">&quot;gnome-keyring* nullok passwdqc sha512 systemd -caps -debug (-elogind) -homed -minimal -mktemp -pam_krb5 -pam_ssh -pwhistory -pwquality -securetty (-selinux) -yescrypt&quot;</span> 4 KiB          [ebuild  N     ] x11-misc/colord-1.4.6:0/2::gentoo  USE=<span class=\"hljs-string\">&quot;introspection systemd -argyllcms -examples -extra-print-profiles -gtk-doc -scanner (-selinux) -test -vala&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 1829 KiB<br>[ebuild   R    ] x11-libs/gtk+-3.24.34:3::gentoo  USE=<span class=\"hljs-string\">&quot;X colord* cups introspection sysprof* wayland* (-aqua) -broadway -examples -gtk-doc -test -vim-syntax -xinerama&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 21082 KiB<br>[ebuild  N     ] net-misc/modemmanager-1.18.8:0/1::gentoo  USE=<span class=\"hljs-string\">&quot;introspection policykit qmi systemd udev (-elogind) -mbim -test -vala&quot;</span> 2475 KiB<br>[ebuild  N     ] dev-qt/qtsvg-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;-debug -test&quot;</span> 1851 KiB<br>[ebuild  N     ] net-wireless/wpa_supplicant-2.10-r1::gentoo  USE=<span class=\"hljs-string\">&quot;crda dbus fils hs2-0 mbo mesh qt5 readline -ap -broadcom-sta -eap-sim -eapol-test -fasteap -macsec -p2p -privsep (-ps3) (-selinux) -smartcard -tdls -tkip -uncommon-eap-types -wep (-wimax) -wps&quot;</span> 3430 KiB<br>[ebuild  N     ] net-misc/networkmanager-1.38.2::gentoo  USE=<span class=\"hljs-string\">&quot;bluetooth concheck gtk-doc introspection modemmanager nss policykit ppp systemd tools wext wifi -audit -connection-sharing -debug -dhclient -dhcpcd (-elogind) -gnutls -iptables -iwd -libedit -lto -nftables -ofono -ovs -psl -resolvconf (-selinux) -syslog -teamd -test -vala&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span> 5398 KiB<br>[ebuild  N     ] dev-qt/qtnetwork-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;networkmanager ssl -connman -debug -gssapi -libproxy -sctp -test&quot;</span> 0 KiB<br>[ebuild  N     ] dev-qt/qtdeclarative-5.15.5:5/5.15::gentoo  USE=<span class=\"hljs-string\">&quot;jit widgets -debug -gles2-only -localstorage -test -vulkan&quot;</span> 21098 KiB<br>[ebuild  N     ] dev-qt/qtwayland-5.15.5:5/5.15.5::gentoo  USE=<span class=\"hljs-string\">&quot;X -debug -test -vulkan&quot;</span> 586 KiB<br>[ebuild   R    ] app-crypt/pinentry-1.2.0::gentoo  USE=<span class=\"hljs-string\">&quot;gnome-keyring* gtk ncurses qt5 -caps -efl -emacs&quot;</span> 487 KiB<br>Total: 69 packages (54 new, 1 <span class=\"hljs-keyword\">in</span> new slot, 14 reinstalls), Size of downloads: 289683 KiB<br>Would you like to merge these packages? [Yes/No]<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-5-安装内核、固件\"><a href=\"#2-5-安装内核、固件\" class=\"headerlink\" title=\"2.5 安装内核、固件\"></a>2.5 安装内核、固件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask gentoo-kernel</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] app-text/asciidoc-9.1.0  USE=<span class=\"hljs-string\">&quot;-doc -test&quot;</span> PYTHON_SINGLE_TARGET=<span class=\"hljs-string\">&quot;python3_10 (-pypy3) -python3_8 -python3_9&quot;</span><br>[ebuild  N     ] sys-kernel/dracut-055-r4  USE=<span class=\"hljs-string\">&quot;(-selinux) (-test)&quot;</span><br>[ebuild  N     ] sys-kernel/gentoo-kernel-5.15.48  USE=<span class=\"hljs-string\">&quot;initramfs -debug -hardened -savedconfig -test&quot;</span><br>[ebuild  N     ] virtual/dist-kernel-5.15.48<br>Would you like to merge these packages? [Yes/No]   <br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask linux-firmware</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] sys-kernel/linux-firmware-20220610  USE=<span class=\"hljs-string\">&quot;redistributable -initramfs -savedconfig (-unknown-license)&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-6-配置引导\"><a href=\"#2-6-配置引导\" class=\"headerlink\" title=\"2.6 配置引导\"></a>2.6 配置引导</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># emerge --ask grub</span><br>!!! It seems /run is not mounted. Process management may malfunction.<br>* IMPORTANT: 10 news items need reading <span class=\"hljs-keyword\">for</span> repository <span class=\"hljs-string\">&#x27;gentoo&#x27;</span>.<br>* Use eselect news <span class=\"hljs-built_in\">read</span> to view new items.<br>These are the packages that would be merged, <span class=\"hljs-keyword\">in</span> order:<br>Calculating dependencies... <span class=\"hljs-keyword\">done</span>!<br>[ebuild  N     ] sys-apps/pciutils-3.8.0  USE=<span class=\"hljs-string\">&quot;kmod udev zlib -dns -static-libs&quot;</span> ABI_X86=<span class=\"hljs-string\">&quot;(64) -32 (-x32)&quot;</span><br>[ebuild  N     ] sys-libs/efivar-37<br>[ebuild  N     ] sys-boot/efibootmgr-17<br>[ebuild  N     ] sys-boot/grub-2.06-r2  USE=<span class=\"hljs-string\">&quot;fonts nls sdl themes truetype -device-mapper -doc -efiemu -libzfs -mount (-test)&quot;</span> GRUB_PLATFORMS=<span class=\"hljs-string\">&quot;efi-64 pc -coreboot -efi-32 -emu -ieee1275 (-loongson) -multiboot -qemu (-qemu-mips) -uboot -xen -xen-32 -xen-pvh&quot;</span> <br><br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Gentoo</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.<br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-install --target=x86_64-efi --efi-directory=/boot --removable</span><br>Installing <span class=\"hljs-keyword\">for</span> x86_64-efi platform.<br>Installation finished. No error reported.  <br>(<span class=\"hljs-built_in\">chroot</span>)livecd / <span class=\"hljs-comment\"># grub-mkconfig -o /boot/grub/grub.cfg</span><br>Generating grub configuration file ...                                                                                                     Found linux image: /boot/vmlinuz-5.15.48-gentoo-dist                                                                                       Found initrd image: /boot/initramfs-5.15.48-gentoo-dist.img                                                                                Warning: os-prober will not be executed to detect other bootable partitions.                                                               Systems on them will not be added to the GRUB boot configuration.                                                                          Check GRUB_DISABLE_OS_PROBER documentation entry.                                                                                          Adding boot menu entry <span class=\"hljs-keyword\">for</span> UEFI Firmware Settings ...                                                                                      <span class=\"hljs-keyword\">done</span>        <br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-7-时区、字符集配置\"><a href=\"#2-7-时区、字符集配置\" class=\"headerlink\" title=\"2.7 时区、字符集配置\"></a>2.7 时区、字符集配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;Asia/Shanghai&#x27;</span> &gt; /etc/timezone<br><span class=\"hljs-built_in\">rm</span> /etc/localtime<br>emerge --config sys-libs/timezone-data<br>vim /etc/locale.gen<br>locale-gen<br><br><span class=\"hljs-built_in\">dd</span> <span class=\"hljs-keyword\">if</span>=/dev/zero of=/swapfile bs=1M count=8192 status=progress<br><span class=\"hljs-built_in\">chmod</span> 600 /swapfile<br>mkswap /swapfile<br>swapon /swapfile<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;/swapfile               none    swap    defaults        0 0&quot;</span> &gt;&gt; /etc/fstab<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"2-8-virtualbox-虚拟机配置\"><a href=\"#2-8-virtualbox-虚拟机配置\" class=\"headerlink\" title=\"2.8 virtualbox 虚拟机配置\"></a>2.8 virtualbox 虚拟机配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 新建用户</span><br>useradd -m -g wheel -G usb,<span class=\"hljs-built_in\">users</span>,audio -s /bin/bash -N miloo<br><br><span class=\"hljs-comment\"># 如果是虚拟机需要添加到以下两个组</span><br>gpasswd -a miloo vboxguest<br>gpasswd -a miloo vboxsf<br><br><span class=\"hljs-comment\"># virtualbox 虚拟机安装后操作</span><br>emerge --ask app-emulation/virtualbox-guest-additions<br>systemctl <span class=\"hljs-built_in\">enable</span> --now virtualbox-guest-additions<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"3-USE\"><a href=\"#3-USE\" class=\"headerlink\" title=\"3 USE\"></a>3 USE</h1><h2 id=\"3-1-make-conf\"><a href=\"#3-1-make-conf\" class=\"headerlink\" title=\"3.1 make.conf\"></a>3.1 make.conf</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"3-2-USE\"><a href=\"#3-2-USE\" class=\"headerlink\" title=\"3.2 USE\"></a>3.2 USE</h2><h1 id=\"4-tools\"><a href=\"#4-tools\" class=\"headerlink\" title=\"4 tools\"></a>4 tools</h1><h2 id=\"4-1-包管理\"><a href=\"#4-1-包管理\" class=\"headerlink\" title=\"4.1 包管理\"></a>4.1 包管理</h2><h3 id=\"4-1-1-app-portage-x2F-eix\"><a href=\"#4-1-1-app-portage-x2F-eix\" class=\"headerlink\" title=\"4.1.1 app-portage&#x2F;eix\"></a>4.1.1 app-portage&#x2F;eix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-portage/eix<br>app-portage/gentoolkit<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-2-文件系统\"><a href=\"#4-2-文件系统\" class=\"headerlink\" title=\"4.2 文件系统\"></a>4.2 文件系统</h2><h3 id=\"4-2-1-sys-fs-x2F-lvm2\"><a href=\"#4-2-1-sys-fs-x2F-lvm2\" class=\"headerlink\" title=\"4.2.1 sys-fs&#x2F;lvm2\"></a>4.2.1 sys-fs&#x2F;lvm2</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/lvm2<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-2-2-ntfs\"><a href=\"#4-2-2-ntfs\" class=\"headerlink\" title=\"4.2.2 ntfs\"></a>4.2.2 ntfs</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sys-fs/ntfs3g<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-3-DE\"><a href=\"#4-3-DE\" class=\"headerlink\" title=\"4.3 DE\"></a>4.3 DE</h2><h3 id=\"4-3-1-gnome\"><a href=\"#4-3-1-gnome\" class=\"headerlink\" title=\"4.3.1 gnome\"></a>4.3.1 gnome</h3><blockquote>\n<p>一定要有swap分区，否则编译不会通过<br>make。conf 中 MAKEOPTS&#x3D;”-j4” 此条不存在编译也会失败</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">gnome-base/gnome-light<br>gnome-base/gconf<br>gnome-extra/gnome-tweaks<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"4-4-vitual\"><a href=\"#4-4-vitual\" class=\"headerlink\" title=\"4.4 vitual\"></a>4.4 vitual</h2><h3 id=\"4-4-1-virtualbox\"><a href=\"#4-4-1-virtualbox\" class=\"headerlink\" title=\"4.4.1 virtualbox\"></a>4.4.1 virtualbox</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/virtualbox<br>app-emulation/virtualbox-additions<br>app-emulation/virtualbox-extpack-oracle<br>app-emulation/virtualbox-modules<br>app-emulation/virtualbox-guest-additions  <span class=\"hljs-comment\"># gentoo虚拟机安装</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-4-2-kvm\"><a href=\"#4-4-2-kvm\" class=\"headerlink\" title=\"4.4.2 kvm\"></a>4.4.2 kvm</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">app-emulation/libvirt<br>app-emulation/virt-manager<br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<h3 id=\"4-4-3-gnome-boxes\"><a href=\"#4-4-3-gnome-boxes\" class=\"headerlink\" title=\"4.4.3 gnome-boxes\"></a>4.4.3 gnome-boxes</h3><p>Emerge qemu once with USE&#x3D;-spice then emerge spice and then qemu again, this time with USE&#x3D;spice</p>\n</blockquote>\n<h1 id=\"5-系统迁移\"><a href=\"#5-系统迁移\" class=\"headerlink\" title=\"5 系统迁移\"></a>5 系统迁移</h1><p>getfacl -R .&#x2F; &gt; acl.txt<br>setfacl –restore&#x3D;acl.txt</p>\n"},{"title":"文章示例","excerpt":"这是摘要","index_img":"/img/article-head/example.jpg","date":"2022-05-13T12:46:25.000Z","updated":"2022-06-07T02:46:25.000Z","hide":true,"_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/2022-6-7.hello-world.md","raw":"---\ntitle: 文章示例\nexcerpt: 这是摘要\nindex_img: /img/article-head/example.jpg\ndate: \"2022/5/13 20:46:25\"\nupdated: \"2022/6/7 10:46:25\"\nhide: true\ntags:\n- linux\ncategories:\n- [a, b]\n- [c, d]\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"2022-6-7.hello-world","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5ke3u9y0014t2na717x0xjc","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo new <span class=\"hljs-string\">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo server<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo generate<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo deploy<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"wordcount":367,"more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo new <span class=\"hljs-string\">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo server<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo generate<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo deploy<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cl5ke3u9r0005t2naa1j45wza","category_id":"cl5ke3u9t0008t2na3bf9dc6g","_id":"cl5ke3u9v000nt2naghub8xde"},{"post_id":"cl5ke3u9r0005t2naa1j45wza","category_id":"cl5ke3u9u000ht2na2hg2a7oj","_id":"cl5ke3u9w000rt2na82j3cmpw"},{"post_id":"cl5ke3u9o0001t2na22efe2jt","category_id":"cl5ke3u9q0003t2nafba8c9n0","_id":"cl5ke3u9w000st2na3c02cswk"},{"post_id":"cl5ke3u9o0001t2na22efe2jt","category_id":"cl5ke3u9t000at2na4q15czln","_id":"cl5ke3u9w000tt2naeoy1f85n"},{"post_id":"cl5ke3u9o0001t2na22efe2jt","category_id":"cl5ke3u9v000jt2na9zok4tpd","_id":"cl5ke3u9w000vt2na43vmcfjb"},{"post_id":"cl5ke3u9p0002t2naex49dxiw","category_id":"cl5ke3u9q0003t2nafba8c9n0","_id":"cl5ke3u9w000xt2nafhy5dlih"},{"post_id":"cl5ke3u9p0002t2naex49dxiw","category_id":"cl5ke3u9t000at2na4q15czln","_id":"cl5ke3u9w000yt2nacoye44qz"},{"post_id":"cl5ke3u9p0002t2naex49dxiw","category_id":"cl5ke3u9v000ot2nadpfeea9b","_id":"cl5ke3u9w000zt2na1njz3yjl"},{"post_id":"cl5ke3u9x0011t2na57eq19e2","category_id":"cl5ke3u9t0008t2na3bf9dc6g","_id":"cl5ke3u9y0019t2na47v85mdm"},{"post_id":"cl5ke3u9x0011t2na57eq19e2","category_id":"cl5ke3u9u000ht2na2hg2a7oj","_id":"cl5ke3u9z001bt2nahr3i48ec"},{"post_id":"cl5ke3u9w0010t2nabv19gkjd","category_id":"cl5ke3u9x0012t2naha6gb818","_id":"cl5ke3u9z001ct2nahzz312f2"},{"post_id":"cl5ke3u9y0014t2na717x0xjc","category_id":"cl5ke3u9y0017t2nabn178646","_id":"cl5ke3u9z001ht2na48kv5sn7"},{"post_id":"cl5ke3u9y0014t2na717x0xjc","category_id":"cl5ke3u9z001et2na5y57av5z","_id":"cl5ke3u9z001it2na4n1iekkf"},{"post_id":"cl5ke3u9y0014t2na717x0xjc","category_id":"cl5ke3u9z001ft2na2a7167ey","_id":"cl5ke3u9z001jt2nadosi2p5j"},{"post_id":"cl5ke3u9y0014t2na717x0xjc","category_id":"cl5ke3u9z001gt2naedhn40a7","_id":"cl5ke3u9z001kt2nagbehfztw"}],"PostTag":[{"post_id":"cl5ke3u9o0001t2na22efe2jt","tag_id":"cl5ke3u9r0004t2na2xkl7xch","_id":"cl5ke3u9u000ct2na2dr7b566"},{"post_id":"cl5ke3u9o0001t2na22efe2jt","tag_id":"cl5ke3u9s0007t2nadpbob9nk","_id":"cl5ke3u9u000dt2na1gjfd3x5"},{"post_id":"cl5ke3u9o0001t2na22efe2jt","tag_id":"cl5ke3u9t0009t2na34mu6ual","_id":"cl5ke3u9u000gt2na42op59sk"},{"post_id":"cl5ke3u9p0002t2naex49dxiw","tag_id":"cl5ke3u9r0004t2na2xkl7xch","_id":"cl5ke3u9v000lt2na0r1bhgfv"},{"post_id":"cl5ke3u9p0002t2naex49dxiw","tag_id":"cl5ke3u9s0007t2nadpbob9nk","_id":"cl5ke3u9v000mt2na38ssg4n8"},{"post_id":"cl5ke3u9p0002t2naex49dxiw","tag_id":"cl5ke3u9v000it2na5naxbv97","_id":"cl5ke3u9w000qt2nagdr9dgxe"},{"post_id":"cl5ke3u9r0005t2naa1j45wza","tag_id":"cl5ke3u9v000kt2naec7o9nny","_id":"cl5ke3u9w000ut2nacdzd2uu2"},{"post_id":"cl5ke3u9r0005t2naa1j45wza","tag_id":"cl5ke3u9v000pt2na902e77gv","_id":"cl5ke3u9w000wt2nad7s18qdd"},{"post_id":"cl5ke3u9x0011t2na57eq19e2","tag_id":"cl5ke3u9v000kt2naec7o9nny","_id":"cl5ke3u9y0015t2na8z6x9p9x"},{"post_id":"cl5ke3u9x0011t2na57eq19e2","tag_id":"cl5ke3u9v000pt2na902e77gv","_id":"cl5ke3u9y0016t2naczj85s3t"},{"post_id":"cl5ke3u9w0010t2nabv19gkjd","tag_id":"cl5ke3u9x0013t2naf9u806pc","_id":"cl5ke3u9y001at2nafikrfaj6"},{"post_id":"cl5ke3u9y0014t2na717x0xjc","tag_id":"cl5ke3u9y0018t2na4lin3rez","_id":"cl5ke3u9z001dt2nab1s8fq1y"}],"Tag":[{"name":"Security","_id":"cl5ke3u9r0004t2na2xkl7xch"},{"name":"PenTest","_id":"cl5ke3u9s0007t2nadpbob9nk"},{"name":"信息收集","_id":"cl5ke3u9t0009t2na34mu6ual"},{"name":"经典漏洞","_id":"cl5ke3u9v000it2na5naxbv97"},{"name":"Linux","_id":"cl5ke3u9v000kt2naec7o9nny"},{"name":"Gentoo","_id":"cl5ke3u9v000pt2na902e77gv"},{"name":"git","_id":"cl5ke3u9x0013t2naf9u806pc"},{"name":"linux","_id":"cl5ke3u9y0018t2na4lin3rez"}]}}